<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Tealçš„åšå®¢</title>
  <icon>https://www.gravatar.com/avatar/5dfe88a55980ea92eefcdb244c283918</icon>
  <subtitle>å‰ç«¯ç å†œ</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://www.wty90.com/"/>
  <updated>2018-02-18T15:22:12.000Z</updated>
  <id>https://www.wty90.com/</id>
  
  <author>
    <name>Teal</name>
    <email>tywei90@163.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>githubè‡ªåŠ¨æäº¤â€”â€”å¼ºè¿«ç—‡æ•‘æ˜Ÿï¼</title>
    <link href="https://www.wty90.com/2018/02/18/git-auto-commit/"/>
    <id>https://www.wty90.com/2018/02/18/git-auto-commit/</id>
    <published>2018-02-18T15:05:49.000Z</published>
    <updated>2018-02-18T15:22:12.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¿›å…¥è‡ªå·±githubä¸»é¡µä¼šçœ‹åˆ°è‡ªå·±çš„æäº¤è®°å½•ï¼Œå¦‚æœæŸå¤©æ²¡æœ‰æäº¤è®°å½•ï¼Œé‚£å¤©çš„å°æ–¹æ¡†å°±æ˜¾ç¤ºç°è‰²ã€‚å¼ºè¿«ç—‡çš„æˆ‘ï¼Œæ¯æ¬¡è¿›æ¥çœ‹ç€å°±æ„Ÿè§‰ä¸çˆ½ï¼Œ<br>æƒ³ç€è‡ªå·±æ¯å¤©è®°å¾—æäº¤ç‚¹ä¸œè¥¿ï¼Œäº‰å–åƒ<a href="https://github.com/ruanyf" target="_blank" rel="external">é˜®ä¸€å³°</a>å¤§ç¥ä¸€æ ·ï¼Œæ¯å¤©éƒ½æœ‰æäº¤è®°å½•ã€‚  </p><p><img src="/assets/img/git-commits.png" alt="é˜®ä¸€å³°githubæäº¤è®°å½•" title="é˜®ä¸€å³°githubæäº¤è®°å½•"></p><p>ä½†æ˜¯ï¼Œæ¯•ç«Ÿæ˜¯äººï¼Œå“ªå¤©å¿™äº†å°±ä¼šå¿˜è®°æäº¤ï¼Œæ‰€ä»¥æƒ³ç€èƒ½ä¸èƒ½å®ç°åœ¨è‡ªå·±é˜¿é‡Œäº‘æœåŠ¡å™¨(linuxç³»ç»Ÿ)ä¸Šï¼Œè®¾ç½®cronï¼Œå®šåˆ¶ä¸‹gitå‘½ä»¤ï¼Œå®ç°æ¯å¤©å®šç‚¹è‡ªåŠ¨æäº¤ã€‚</p><p>æ¬¢è¿å¤§å®¶starå­¦ä¹ äº¤æµï¼š<a href="https://github.com/tywei90/git-auto-commit" target="_blank" rel="external">githubåœ°å€</a></p><a id="more"></a><h2 id="ç¬¬ä¸€æ­¥ï¼šå…‹éš†æˆ‘çš„é¡¹ç›®"><a href="#ç¬¬ä¸€æ­¥ï¼šå…‹éš†æˆ‘çš„é¡¹ç›®" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šå…‹éš†æˆ‘çš„é¡¹ç›®"></a>ç¬¬ä¸€æ­¥ï¼šå…‹éš†æˆ‘çš„é¡¹ç›®</h2><p>ä¸åŒçš„å…‹éš†æ–¹å¼å¯¼è‡´æ ¡éªŒæ–¹å¼ä¸åŒï¼Œå¯¹åº”çš„å…ç§˜æ–¹å¼ä¹Ÿä¸ä¸€æ ·ã€‚ç®€å•æ¥è¯´ï¼Œhttpsé€šè¿‡è®°ä½è´¦å·å¯†ç å…ç™»ï¼Œsshé€šè¿‡æ ¡éªŒç”Ÿæˆçš„å¯†é’¥å…ç™»ã€‚  </p><ol><li>httpså…‹éš†</li></ol><p><img src="/assets/img/https.png" alt="httpså…‹éš†" title="httpså…‹éš†">  </p><ol><li>sshå…‹éš†</li></ol><p><img src="/assets/img/ssh.png" alt="sshå…‹éš†" title="sshå…‹éš†"></p><p>å¦‚æœï¼Œä½ å·²ç»å…‹éš†äº†é¡¹ç›®ï¼Œä¸çŸ¥é“é‡‡ç”¨äº†å“ªç§æ–¹å¼ï¼Œå¯ä»¥æ‰§è¡Œï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git remote -v</div></pre></td></tr></table></figure></p><p>å¦‚æœæ˜¯è¿™æ ·ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">origin https://github.com/tywei90/git-auto-commit.git (fetch)  </div><div class="line">origin https://github.com/tywei90/git-auto-commit.git (push)</div></pre></td></tr></table></figure></p><p>é‚£ä¹ˆå°±æ˜¯httpsæ–¹å¼ï¼› </p><p>å¦‚æœæ˜¯è¿™æ ·ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">origin  git@github.com:tywei90/git-auto-commit.git (fetch)  </div><div class="line">origin  git@github.com:tywei90/git-auto-commit.git (push)</div></pre></td></tr></table></figure></p><p>é‚£ä¹ˆå°±æ˜¯sshæ–¹å¼ã€‚  </p><p>æ›´æ”¹å…‹éš†æ–¹å¼ä¹Ÿå¾ˆç®€å•ï¼š  </p><p>https â€”â€”&gt; ssh<br><code>git remote set-url origin git@github.com:tywei90/git-auto-commit.git</code></p><p>ssh â€”â€”&gt; https<br><code>git remote set-url origin https://github.com/tywei90/git-auto-commit.git</code></p><h2 id="ç¬¬äºŒæ­¥ï¼šå…å¯†ç™»å½•"><a href="#ç¬¬äºŒæ­¥ï¼šå…å¯†ç™»å½•" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šå…å¯†ç™»å½•"></a>ç¬¬äºŒæ­¥ï¼šå…å¯†ç™»å½•</h2><p>é’ˆå¯¹ä¸Šé¢ä¸¤ç§å…‹éš†é¡¹ç›®çš„æ–¹å¼ï¼Œæœ‰ä¸¤ç§å…å¯†ç™»å½•è®¾ç½®ã€‚</p><h3 id="1-è´¦å·å¯†ç å…ç™»ï¼ˆhttpså…‹éš†ï¼‰"><a href="#1-è´¦å·å¯†ç å…ç™»ï¼ˆhttpså…‹éš†ï¼‰" class="headerlink" title="1.è´¦å·å¯†ç å…ç™»ï¼ˆhttpså…‹éš†ï¼‰"></a>1.è´¦å·å¯†ç å…ç™»ï¼ˆhttpså…‹éš†ï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> git-auto-commit/.git</div><div class="line">vim config</div></pre></td></tr></table></figure><p>åœ¨configæ–‡ä»¶æœ€åæ·»åŠ å¦‚ä¸‹ä»£ç ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[credential]  </div><div class="line">    helper = store</div></pre></td></tr></table></figure></p><p>ä¿å­˜ï¼Œè¾“å…¥ä¸€æ¬¡è´¦å·å¯†ç åç¬¬äºŒæ¬¡å°±ä¼šè®°ä½è´¦å·å¯†ç äº†</p><h3 id="2-å…¬é’¥ç§é’¥å…ç™»ï¼ˆsshå…‹éš†ï¼‰"><a href="#2-å…¬é’¥ç§é’¥å…ç™»ï¼ˆsshå…‹éš†ï¼‰" class="headerlink" title="2.å…¬é’¥ç§é’¥å…ç™»ï¼ˆsshå…‹éš†ï¼‰"></a>2.å…¬é’¥ç§é’¥å…ç™»ï¼ˆsshå…‹éš†ï¼‰</h3><h4 id="2-1-ç”Ÿæˆå…¬é’¥å’Œç§é’¥"><a href="#2-1-ç”Ÿæˆå…¬é’¥å’Œç§é’¥" class="headerlink" title="2.1 ç”Ÿæˆå…¬é’¥å’Œç§é’¥"></a>2.1 ç”Ÿæˆå…¬é’¥å’Œç§é’¥</h4><p>æ£€æŸ¥æœ¬æœºçš„sshå¯†é’¥ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> ~/.ssh </div><div class="line">ls</div></pre></td></tr></table></figure></p><p>å¦‚æœæç¤ºï¼šNo such file or directoryï¼Œè¯´æ˜ä½ æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨gitï¼Œé‚£å°±è‡ªå·±æ‰‹åŠ¨åˆ›å»ºç›®å½•  </p><p>ä½¿ç”¨ssh-keygenå‘½ä»¤ç”Ÿæˆsshå¯†é’¥ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh-keygen -t rsa</div></pre></td></tr></table></figure></p><p>è¾“å…¥ä¸Šé¢å‘½ä»¤åï¼Œé‡åˆ°é€‰æ‹©ç›´æ¥å›è½¦ï¼Œå³å¯ç”Ÿæˆssh å¯†é’¥ã€‚ç”Ÿæˆssh å¯†é’¥åï¼Œå¯ä»¥åˆ°~/.sshç›®å½•ä¸‹æŸ¥çœ‹ç›¸å…³æ–‡ä»¶ï¼Œä¸€èˆ¬æ¥è¯´ssh å¯†é’¥ä¼šåŒ…å«id_rsaå’Œid_rsa.pubä¸¤ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«è¡¨ç¤ºç”Ÿæˆçš„ç§é’¥å’Œå…¬é’¥ã€‚</p><h4 id="2-2-æ‹·è´å…¬é’¥åˆ°ä½ çš„github"><a href="#2-2-æ‹·è´å…¬é’¥åˆ°ä½ çš„github" class="headerlink" title="2.2 æ‹·è´å…¬é’¥åˆ°ä½ çš„github"></a>2.2 æ‹·è´å…¬é’¥åˆ°ä½ çš„github</h4><p>åœ¨.sshç›®å½•ä¸‹ï¼Œæ‰§è¡Œ<code>cat id_rsa.pub</code>ï¼Œå¤åˆ¶æ‰€æœ‰å…¬é’¥å†…å®¹</p><p>ç‚¹å‡»githubçš„å¤´åƒï¼Œåœ¨ä¸‹æ‹‰èœå•ä¸­é€‰æ‹© setting é€‰é¡¹ï¼Œåœ¨æ‰“å¼€é¡µé¢çš„å·¦ä¾§èœå•ä¸­ç‚¹å‡» SSH and GPG keysï¼Œç„¶åç‚¹å‡»æ–°é¡µé¢å³ä¸Šè§’ç»¿è‰²æŒ‰é’® New SSH keyã€‚å¡«å†™titleå€¼ï¼Œå¹¶å°†å¤åˆ¶çš„å…¬é’¥å†…å®¹ç²˜è´´åˆ°keyè¾“å…¥æ¡†ä¸­æäº¤ã€‚</p><h4 id="2-3-æµ‹è¯•é“¾æ¥github"><a href="#2-3-æµ‹è¯•é“¾æ¥github" class="headerlink" title="2.3 æµ‹è¯•é“¾æ¥github"></a>2.3 æµ‹è¯•é“¾æ¥github</h4><p>æˆ‘çœ‹ç½‘ä¸Šæ˜¯è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh â€“t git@github.com</div></pre></td></tr></table></figure></p><p>ç„¶åï¼Œæˆ‘çš„ä¼šæŠ¥ssh: Could not resolve hostname \342\200\223t: Name or service not knownçš„é”™è¯¯ï¼Œæœäº†ä¸‹ï¼Œè§£å†³åŠæ³•æ˜¯æ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh -t -p 22 git@github.com</div></pre></td></tr></table></figure></p><p>-pè¡¨ç¤ºä¿®æ”¹æœåŠ¡å™¨ç«¯å£ä¸º22ï¼Œå½“æç¤ºè¾“å…¥(yes/no)?æ—¶åœ¨åé¢è¾“å…¥yeså›è½¦å³å¯ã€‚ä½†æ˜¯æœ€åè¿˜æ˜¯æŠ¥é”™ï¼Œåæ¥åˆæœäº†ä¸‹ï¼Œæ‰§è¡Œå¦‚ä¸‹ä»£ç ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh git@github.com</div></pre></td></tr></table></figure></p><p>å³å°†<code>-t</code>å»æ‰å°±å¥½äº†ï¼Œçœ‹åˆ° Hi ** Youâ€™ve successfully authenticated, but GitHub does not provide shell access. è¯´æ˜è¿æ¥æˆåŠŸäº†ï¼Œå¤§å®¶å¯ä»¥éƒ½è¯•ä¸€è¯•ã€‚</p><h2 id="ç¬¬ä¸‰æ­¥ï¼šè®¾ç½®cronï¼Œå®šæ—¶è‡ªåŠ¨æäº¤ä»»åŠ¡"><a href="#ç¬¬ä¸‰æ­¥ï¼šè®¾ç½®cronï¼Œå®šæ—¶è‡ªåŠ¨æäº¤ä»»åŠ¡" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šè®¾ç½®cronï¼Œå®šæ—¶è‡ªåŠ¨æäº¤ä»»åŠ¡"></a>ç¬¬ä¸‰æ­¥ï¼šè®¾ç½®cronï¼Œå®šæ—¶è‡ªåŠ¨æäº¤ä»»åŠ¡</h2><p>é¡¹ç›®é‡Œçš„add.jsæ˜¯ç”¨æ¥ä¿®æ”¹records.txtçš„ï¼Œæ¯æ¬¡æ‰§è¡Œä¼šå°†å½“å‰çš„æ—¶é—´é™„åŠ åˆ°records.txtæ–‡ä»¶æœ«å°¾ã€‚ç„¶åè®©gitè‡ªåŠ¨æäº¤å³å¯ã€‚ä¸‹é¢å…³é”®æ˜¯cronçš„è®¾ç½®ï¼Œå¯¹äºlinuxç³»ç»Ÿä¸ç†Ÿæ‚‰çš„æˆ‘è¿˜æ˜¯èŠ±äº†ç‚¹æ—¶é—´çš„ï¼Œè¿™é‡Œç›´æ¥å°†cronè®¾ç½®ç²˜è´´å‡ºæ¥ã€‚å…ˆæ‰§è¡Œ<code>crontab -e</code>è¿›å…¥cronç¼–è¾‘ï¼Œç„¶åç²˜è´´å¦‚ä¸‹ä»£ç ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">00 12 * * * <span class="built_in">cd</span> /home/git-auto-commit &amp;&amp; git pull &amp;&amp; /root/.nvm/versions/node/v6.6.0/bin/node add.js &amp;&amp; git commit <span class="_">-a</span> -m <span class="string">'git auto commit'</span> &amp;&amp; git push origin master &amp;&amp; git <span class="built_in">log</span> -1 | mail <span class="_">-s</span> <span class="string">"git auto commit successfully!"</span> wty2368@163.com</div></pre></td></tr></table></figure></p><ul><li><p><code>00 12 * * *</code>çš„æ„æ€æ˜¯ï¼Œæ¯å¤©çš„12:00æ‰§è¡Œåé¢çš„å‘½ä»¤ã€‚  </p></li><li><p><code>/root/.nvm/versions/node/v6.6.0/bin/node</code>æ˜¯nodeäºŒè¿›åˆ¶æ‰§è¡Œæ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼Œä¸èƒ½ç›´æ¥å†™nodeå‘½ä»¤ï¼Œä¸ä¼šè¯†åˆ«çš„ã€‚å¦‚ä½•æŸ¥å‡ºè‡ªå·±çš„nodeæ‰§è¡Œç›®å½•ï¼Œå…¶å®å¾ˆç®€å•ï¼Œæ‰§è¡Œ<code>which node</code>å³å¯ã€‚</p></li><li><p><code>&#39;git auto commit&#39;</code>æ˜¯æ¯æ¬¡æäº¤çš„commentï¼Œå¯ä»¥éšæ„å‘æŒ¥</p></li><li><p><code>git log -1 | mail -s &quot;git auto commit successfully!&quot; wty2368@163.com</code> æ˜¯å–æœ€æ–°çš„ä¸€æ¬¡gitæäº¤è®°å½•logä½œä¸ºé‚®ä»¶å†…å®¹ï¼Œâ€git auto commit successfully!â€ä½œä¸ºæ ‡é¢˜ï¼Œå‘é€é‚®ä»¶ç»™wty2368@163.comé‚®ç®±ã€‚å½“ç„¶è¿™ä¸ªæ˜¯å¯é€‰é¡¹ï¼Œæˆ‘æƒ³è®©æ¯æ¬¡è‡ªåŠ¨æäº¤ç»“æŸåç»™æˆ‘å‘ä¸€å°ç¡®è®¤é‚®ä»¶ï¼Œé€šè¿‡è§‚å¯Ÿé‚®ä»¶å†…å®¹çš„dateå€¼æ˜¯ä¸æ˜¯å½“å‰æ—¶é—´ï¼Œå°±å¯ä»¥åˆ¤æ–­è¿™æ¬¡è‡ªåŠ¨æäº¤æ˜¯å¦æˆåŠŸã€‚å¦‚æœå¤§å®¶è¦å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œéœ€è¦é…ç½®ä¸‹linuxé‚®ä»¶å‘é€è®¾ç½®ï¼Œè¿™ä¸ªæœ‰æ—¶é—´å†å†™ã€‚ä¸»è¦è¦æ³¨æ„é˜¿é‡Œäº‘æœåŠ¡å™¨å¯¹é‚®ä»¶25ç«¯å£çš„é™åˆ¶ï¼Œæ¯”è¾ƒå‘ï¼</p></li></ul><h2 id="ç¬¬å››æ­¥ï¼šåˆ©ç”¨shellè„šæœ¬æ‰¹é‡è¡¥ä¸Šä¹‹å‰çš„æäº¤è®°å½•"><a href="#ç¬¬å››æ­¥ï¼šåˆ©ç”¨shellè„šæœ¬æ‰¹é‡è¡¥ä¸Šä¹‹å‰çš„æäº¤è®°å½•" class="headerlink" title="ç¬¬å››æ­¥ï¼šåˆ©ç”¨shellè„šæœ¬æ‰¹é‡è¡¥ä¸Šä¹‹å‰çš„æäº¤è®°å½•"></a>ç¬¬å››æ­¥ï¼šåˆ©ç”¨shellè„šæœ¬æ‰¹é‡è¡¥ä¸Šä¹‹å‰çš„æäº¤è®°å½•</h2><p>ä¸Šé¢çš„æ­¥éª¤è§£å†³äº†ä¹‹åæ¯å¤©çš„gitæäº¤è®°å½•ï¼Œä½†æ˜¯githubè‡ªå·±ä¸»é¡µé»˜è®¤æ˜¾ç¤ºä¹‹å‰ä¸€å¹´çš„æäº¤è®°å½•ï¼Œé‚£å¦‚ä½•è¡¥ä¸Šä¹‹å‰çš„è®°å½•å‘¢ï¼Ÿå¥½åœ¨githubçš„æäº¤è®°å½•æ—¶é—´ä»¥commitæ—¶é—´ä¸ºå‡†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ›´æ”¹è‡ªå·±ç”µè„‘çš„æ—¶é—´ï¼Œç„¶åå†commitã€‚æˆ‘ç³»ç»Ÿæ˜¯centos7ï¼Œè¿™é‡Œä»…ä»¥æ­¤ä¸ºä¾‹ã€‚ä¸åŒlinuxç‰ˆæœ¬ä¿®æ”¹æ—¶é—´çš„å‘½ä»¤å¯èƒ½ä¸åŒï¼Œå¤§å®¶ç½‘ä¸Šç™¾åº¦ä¸‹ï¼Œæ–‡ç« å¾ˆå¤šã€‚</p><h3 id="4-1-ä¿®æ”¹ç³»ç»Ÿæ—¶é—´ä¸ºæƒ³è¦å¼¥è¡¥æ—¶é—´æ®µçš„ç»ˆç‚¹"><a href="#4-1-ä¿®æ”¹ç³»ç»Ÿæ—¶é—´ä¸ºæƒ³è¦å¼¥è¡¥æ—¶é—´æ®µçš„ç»ˆç‚¹" class="headerlink" title="4.1 ä¿®æ”¹ç³»ç»Ÿæ—¶é—´ä¸ºæƒ³è¦å¼¥è¡¥æ—¶é—´æ®µçš„ç»ˆç‚¹"></a>4.1 ä¿®æ”¹ç³»ç»Ÿæ—¶é—´ä¸ºæƒ³è¦å¼¥è¡¥æ—¶é—´æ®µçš„ç»ˆç‚¹</h3><p>æ¯”å¦‚ï¼Œæƒ³è¦ä¿®æ”¹æ—¶é—´æ®µä½2018-01-01~2018-01-31ï¼Œé‚£ä¹ˆéœ€è¦ä¿®æ”¹ç³»ç»Ÿæ—¶é—´ä¸º2018-01-31ï¼Œè„šæœ¬å¦‚ä¸‹ï¼š<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">timedatectl <span class="built_in">set</span>-time <span class="string">'2018-01-31 13:00:00'</span></div></pre></td></tr></table></figure></p><h3 id="4-2-è¿›å…¥é¡¹ç›®ç›®å½•ï¼Œæ‰§è¡Œloopè„šæœ¬"><a href="#4-2-è¿›å…¥é¡¹ç›®ç›®å½•ï¼Œæ‰§è¡Œloopè„šæœ¬" class="headerlink" title="4.2 è¿›å…¥é¡¹ç›®ç›®å½•ï¼Œæ‰§è¡Œloopè„šæœ¬"></a>4.2 è¿›å…¥é¡¹ç›®ç›®å½•ï¼Œæ‰§è¡Œloopè„šæœ¬</h3><p>ç¡®å®šæˆ‘ä»¬è¦ä¿®æ”¹çš„å¤©æ•°ï¼Œ2018-01-01åˆ°2018-01-31ä¸€å…±æ˜¯31å¤©ï¼Œæˆ‘ä»¬åœ¨å‘½ä»¤è¡Œä¼ å…¥æ­¤å‚æ•°<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> git-auto-commit</div><div class="line">screen <span class="_">-d</span> -m -L sh loop.sh 31</div></pre></td></tr></table></figure></p><p>è¿™é‡Œï¼Œ<code>screen -d -m -L</code>å‘½ä»¤å¯ä»¥å°†æˆ‘ä»¬æ‰§è¡Œçš„ä»»åŠ¡åå°ï¼Œè¿™æ ·å³ä½¿é€€å‡ºæœåŠ¡å™¨è¿æ¥ä¹Ÿä¸ä¼šç»ˆæ­¢è„šæœ¬çš„è¿è¡Œã€‚å¤§å®¶å¯ä»¥åˆ·æ–°è‡ªå·±çš„githubä¸»é¡µï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯ç°è‰²åŒºåŸŸéƒ½å˜ç»¿äº†ã€‚</p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>è‡³æ­¤ï¼Œgithubè‡ªåŠ¨æäº¤è®¾ç½®å°±å®Œæˆäº†ï¼Œå¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘å“ªå¤©å¿˜è®°æäº¤githubã€‚:smile:</p><p>å·¥ä½œç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šæœ‰å„ç§å„æ ·çš„æƒ³æ³•ï¼Œå¤§å®¶ä¸è¦å¿½è§†äº†æˆ–è€…è§‰å¾—å¾ˆéš¾å°±ä¸å»åšã€‚å…¶å®çœŸæ­£åŠ¨æ‰‹å»å®è·µï¼Œå‘ç°å¹¶æ²¡æœ‰é‚£ä¹ˆéš¾ï¼Œåè€Œå¾ˆæœ‰è¶£ã€‚è€Œä¸”ä¸çŸ¥ä¸è§‰ä¸­å°±å­¦åˆ°äº†å¾ˆå¤šçŸ¥è¯†ã€‚  </p><p>(å®Œ)</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;è¿›å…¥è‡ªå·±githubä¸»é¡µä¼šçœ‹åˆ°è‡ªå·±çš„æäº¤è®°å½•ï¼Œå¦‚æœæŸå¤©æ²¡æœ‰æäº¤è®°å½•ï¼Œé‚£å¤©çš„å°æ–¹æ¡†å°±æ˜¾ç¤ºç°è‰²ã€‚å¼ºè¿«ç—‡çš„æˆ‘ï¼Œæ¯æ¬¡è¿›æ¥çœ‹ç€å°±æ„Ÿè§‰ä¸çˆ½ï¼Œ&lt;br&gt;æƒ³ç€è‡ªå·±æ¯å¤©è®°å¾—æäº¤ç‚¹ä¸œè¥¿ï¼Œäº‰å–åƒ&lt;a href=&quot;https://github.com/ruanyf&quot;&gt;é˜®ä¸€å³°&lt;/a&gt;å¤§ç¥ä¸€æ ·ï¼Œæ¯å¤©éƒ½æœ‰æäº¤è®°å½•ã€‚  &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/assets/img/git-commits.png&quot; alt=&quot;é˜®ä¸€å³°githubæäº¤è®°å½•&quot; title=&quot;é˜®ä¸€å³°githubæäº¤è®°å½•&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œæ¯•ç«Ÿæ˜¯äººï¼Œå“ªå¤©å¿™äº†å°±ä¼šå¿˜è®°æäº¤ï¼Œæ‰€ä»¥æƒ³ç€èƒ½ä¸èƒ½å®ç°åœ¨è‡ªå·±é˜¿é‡Œäº‘æœåŠ¡å™¨(linuxç³»ç»Ÿ)ä¸Šï¼Œè®¾ç½®cronï¼Œå®šåˆ¶ä¸‹gitå‘½ä»¤ï¼Œå®ç°æ¯å¤©å®šç‚¹è‡ªåŠ¨æäº¤ã€‚&lt;/p&gt;
&lt;p&gt;æ¬¢è¿å¤§å®¶starå­¦ä¹ äº¤æµï¼š&lt;a href=&quot;https://github.com/tywei90/git-auto-commit&quot;&gt;githubåœ°å€&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="ssh" scheme="https://www.wty90.com/tags/ssh/"/>
    
      <category term="githubè‡ªåŠ¨æäº¤" scheme="https://www.wty90.com/tags/github%E8%87%AA%E5%8A%A8%E6%8F%90%E4%BA%A4/"/>
    
  </entry>
  
  <entry>
    <title>åšå®¢å†…å®¹ç®¡ç†ç³»ç»Ÿ</title>
    <link href="https://www.wty90.com/2018/02/16/cms-blog/"/>
    <id>https://www.wty90.com/2018/02/16/cms-blog/</id>
    <published>2018-02-16T13:28:41.000Z</published>
    <updated>2018-02-16T17:51:11.000Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™ä¸ªé¡¹ç›®æœ€åˆå…¶å®æ˜¯forkåˆ«äººçš„é¡¹ç›®ã€‚å½“åˆæƒ³æ¥è§¦ä¸‹mongodbæ•°æ®åº“ï¼Œæ‰¾ä¸ªä¾‹å­å­¦ä¹ ä¸‹ï¼Œåæ¥æ”¹ç€æ”¹ç€å°±é¢ç›®å…¨éäº†ã€‚åå°å’Œæ•°æ®åº“é‡æ„ï¼Œå‰ç«¯å¢åŠ äº†ç™»å½•æ³¨å†ŒåŠŸèƒ½ï¼Œä»…ä¿ç•™äº†åšå®¢è®¾ç½®é¡µé¢ï¼Œä½†æ˜¯ä¹Ÿä¼˜åŒ–äº†ã€‚</p><p>æ¬¢è¿å¤§å®¶starå­¦ä¹ äº¤æµï¼š<a href="https://cms.wty90.com/" target="_blank" rel="external">çº¿ä¸Šåœ°å€</a>&emsp;<a href="https://github.com/tywei90/CMS-of-Blog_Production" target="_blank" rel="external">githubåœ°å€</a></p><a id="more"></a><h2 id="ä¸€ã€æ›´æ–°å†…å®¹"><a href="#ä¸€ã€æ›´æ–°å†…å®¹" class="headerlink" title="ä¸€ã€æ›´æ–°å†…å®¹"></a>ä¸€ã€æ›´æ–°å†…å®¹</h2><ol><li>æ•°æ®åº“é‡æ–°è®¾è®¡ï¼Œæ”¹æˆä»¥ç”¨æˆ·åˆ†ç»„çš„subDocsæ•°æ®åº“ç»“æ„</li><li>åº”æ•°æ®åº“æ”¹åŠ¨ï¼Œæ‰€æœ‰æ¥å£é‡æ–°è®¾è®¡ï¼Œå¹¶ç»Ÿä¸€é‡‡ç”¨å’Œ<a href="https://www.lmlc.com/" target="_blank" rel="external">ç«‹é©¬ç†è´¢</a>ä¸€è‡´çš„æ¥å£é£æ ¼</li><li>åˆ é™¤åŸæ¥æ¸¸å®¢æ¨¡å¼ï¼Œå¢åŠ ç™»å½•æ³¨å†ŒåŠŸèƒ½ï¼Œæ”¯æŒå¼¹çª—ç™»å½•ã€‚</li><li>å¢åŠ é¦–é¡µï¼Œå±•ç¤ºæœ€æ–°å‘å¸ƒæ–‡ç« å’Œæ³¨å†Œç”¨æˆ·</li><li>å¢åŠ ä¿®æ”¹å¯†ç ï¼Œç™»å‡ºï¼Œæ³¨é”€ç­‰åŠŸèƒ½ã€‚</li><li>ä¼˜åŒ–popå¼¹çª—ç»„ä»¶ï¼Œæ›´åŠ æ™ºèƒ½ï¼Œæ›´å¤šé…ç½®é¡¹ï¼Œæ¥è¿‘ç½‘æ˜“$.dialogç»„ä»¶ã€‚å¹¶ä¸”ä¸€å¥—ä»£ç ä»…ä¿®æ”¹äº†ä¸‹cssï¼Œå®ç°ç›¸åŒæ¥å£ä¸‹pcç«¯å¼¹çª—å’Œwapç«¯toaståŠŸèƒ½ã€‚</li><li>å¢åŠ ç§»åŠ¨ç«¯é€‚é…</li><li>ä¼˜åŒ–åŸæ¥ä»£ç ï¼Œä¿®å¤éƒ¨åˆ†bugã€‚</li></ol><p>æ›´å¤šçš„æ›´æ–°å†…å®¹è¯·ç§»æ­¥é¡¹ç›®<a href="https://github.com/tywei90/CMS-of-Blog_Production/commits/master" target="_blank" rel="external">CMS-of-Blog_Production</a>å’Œ<a href="https://github.com/tywei90/CMS-of-Blog/commits/master" target="_blank" rel="external">CMS-of-Blog</a>ã€‚</p><h2 id="äºŒã€æ ¸å¿ƒä»£ç åˆ†æ"><a href="#äºŒã€æ ¸å¿ƒä»£ç åˆ†æ" class="headerlink" title="äºŒã€æ ¸å¿ƒä»£ç åˆ†æ"></a>äºŒã€æ ¸å¿ƒä»£ç åˆ†æ</h2><p>åŸä½œè€…ä¹Ÿå†™è¿‡åˆ†æçš„<a href="https://ycwalker.com/2016/09/03/blog-cms/" target="_blank" rel="external">æ–‡ç« </a>ã€‚è¿™é‡Œï¼Œä¸»è¦åˆ†æä¸€ä¸‹æˆ‘æ›´æ–°çš„éƒ¨åˆ†ã€‚</p><h3 id="1-æ•°æ®åº“"><a href="#1-æ•°æ®åº“" class="headerlink" title="1. æ•°æ®åº“"></a>1. æ•°æ®åº“</h3><p>å¯¹åŸæ•°æ®åº“è¿›è¡Œé‡æ–°è®¾è®¡ï¼Œæ”¹æˆä»¥ç”¨æˆ·åˆ†ç»„çš„subDocsæ•°æ®åº“ç»“æ„ã€‚è¿™æ ·ä»¥ç”¨æˆ·ä¸ºä¸€ä¸ªæ•´ä½“çš„æ•°æ®åº“ç»“æ„æ›´åŠ æ¸…æ™°ï¼ŒåŒæ—¶ä¹Ÿæ›´æ–¹ä¾¿æ“ä½œå’Œè¯»å–ã€‚ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> mongoose =  <span class="built_in">require</span>(<span class="string">'mongoose'</span>),</div><div class="line">    Schema =    mongoose.Schema</div><div class="line"></div><div class="line">    articleSchema = <span class="keyword">new</span> Schema(&#123;</div><div class="line">        <span class="attr">title</span>: <span class="built_in">String</span>,</div><div class="line">        <span class="attr">date</span>: <span class="built_in">Date</span>,</div><div class="line">        <span class="attr">content</span>: <span class="built_in">String</span>,</div><div class="line">    &#125;),</div><div class="line"></div><div class="line">    linkSchema = <span class="keyword">new</span> Schema(&#123;</div><div class="line">        <span class="attr">name</span>: <span class="built_in">String</span>,</div><div class="line">        <span class="attr">href</span>: <span class="built_in">String</span>,</div><div class="line">        <span class="attr">newPage</span>: <span class="built_in">Boolean</span></div><div class="line">    &#125;),</div><div class="line"></div><div class="line">    userSchema = <span class="keyword">new</span> Schema(&#123;</div><div class="line">        <span class="attr">name</span>: <span class="built_in">String</span>,</div><div class="line">        <span class="attr">password</span>: <span class="built_in">String</span>,</div><div class="line">        <span class="attr">email</span>: <span class="built_in">String</span>,</div><div class="line">        <span class="attr">emailCode</span>: <span class="built_in">String</span>,</div><div class="line">        <span class="attr">createdTime</span>: <span class="built_in">Number</span>,</div><div class="line">        <span class="attr">articles</span>: [articleSchema],</div><div class="line">        <span class="attr">links</span>: [linkSchema]</div><div class="line">    &#125;),</div><div class="line"></div><div class="line">    User = mongoose.model(<span class="string">'User'</span>, userSchema);</div><div class="line"></div><div class="line">mongoose.connect(<span class="string">'mongodb://localhost/platform'</span>)</div><div class="line">mongoose.set(<span class="string">'debug'</span>, <span class="literal">true</span>)</div><div class="line"></div><div class="line"><span class="keyword">var</span> db = mongoose.connection</div><div class="line">db.on(<span class="string">'error'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'db error'</span>.error)</div><div class="line">&#125;)</div><div class="line">db.once(<span class="string">'open'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'db opened'</span>.silly)</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">    <span class="attr">User</span>: User</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>ä»£ç ä¸€å¼€å§‹æ–°å®šä¹‰äº†ä¸‰ä¸ªSchemaï¼šarticleSchemaã€linkSchemaå’ŒuserSchemaã€‚è€ŒuserSchemaé‡ŒåˆåµŒå¥—äº†articleSchemaå’ŒlinkSchemaï¼Œæ„æˆäº†ä»¥ç”¨æˆ·åˆ†ç»„çš„subDocsæ•°æ®åº“ç»“æ„ã€‚Schemaæ˜¯ä¸€ç§ä»¥æ–‡ä»¶å½¢å¼å­˜å‚¨çš„æ•°æ®åº“æ¨¡å‹éª¨æ¶ï¼Œä¸å…·å¤‡æ•°æ®åº“çš„æ“ä½œèƒ½åŠ›ã€‚ç„¶åå°†å°†è¯¥Schemaå‘å¸ƒä¸ºModelã€‚Modelç”±Schemaå‘å¸ƒç”Ÿæˆçš„æ¨¡å‹ï¼Œå…·æœ‰æŠ½è±¡å±æ€§å’Œè¡Œä¸ºçš„æ•°æ®åº“æ“ä½œå¯¹ã€‚ç”±Modelå¯ä»¥åˆ›å»ºçš„å®ä½“ï¼Œæ¯”å¦‚æ–°æ³¨å†Œä¸€ä¸ªç”¨æˆ·å°±ä¼šåˆ›å»ºä¸€ä¸ªå®ä½“ã€‚</p><p>æ•°æ®åº“åˆ›å»ºäº†ä¹‹åéœ€è¦å»è¯»å–å’Œæ“ä½œï¼Œå¯ä»¥çœ‹ä¸‹æ³¨å†Œæ—¶å‘é€é‚®ç®±éªŒè¯ç çš„è¿™æ®µä»£ç æ„Ÿå—ä¸‹ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div></pre></td><td class="code"><pre><div class="line">router.post(<span class="string">'/genEmailCode'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> email = req.body.email,</div><div class="line">    resBody = &#123;</div><div class="line">        <span class="attr">retcode</span>: <span class="string">''</span>,</div><div class="line">        <span class="attr">retdesc</span>: <span class="string">''</span>,</div><div class="line">        <span class="attr">data</span>: &#123;&#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(!email)&#123;</div><div class="line">        resBody = &#123;</div><div class="line">            <span class="attr">retcode</span>: <span class="number">400</span>,</div><div class="line">            <span class="attr">retdesc</span>: <span class="string">'å‚æ•°é”™è¯¯'</span>,</div><div class="line">        &#125;</div><div class="line">        res.send(resBody)</div><div class="line">        <span class="keyword">return</span></div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">genRandomCode</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> arrNum = [];</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="number">6</span>; i++)&#123;</div><div class="line">            <span class="keyword">var</span> tmpCode = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">9</span>);</div><div class="line">            arrNum.push(tmpCode);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> arrNum.join(<span class="string">''</span>)</div><div class="line">    &#125;</div><div class="line">    db.User.findOne(&#123; <span class="attr">email</span>: email &#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, doc</span>) </span>&#123;</div><div class="line">        <span class="keyword">if</span> (err) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="built_in">console</span>.log(err)</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (doc &amp;&amp; doc.name !== <span class="string">'tmp'</span>) &#123;</div><div class="line">            resBody = &#123;</div><div class="line">                <span class="attr">retcode</span>: <span class="number">400</span>,</div><div class="line">                <span class="attr">retdesc</span>: <span class="string">'è¯¥é‚®ç®±å·²æ³¨å†Œ'</span>,</div><div class="line">            &#125;</div><div class="line">            res.send(resBody)</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(!doc)&#123;  <span class="comment">// ç¬¬ä¸€æ¬¡ç‚¹å‡»è·å–éªŒè¯ç </span></div><div class="line">            <span class="keyword">var</span> emailCode = genRandomCode();</div><div class="line">            <span class="keyword">var</span> createdTime = <span class="built_in">Date</span>.now();</div><div class="line">            <span class="comment">// setup e-mail data with unicode symbols</span></div><div class="line">            <span class="keyword">var</span> mailOptions = &#123;</div><div class="line">                <span class="attr">from</span>: <span class="string">'"CMS-of-Blog ğŸ‘¥" &lt;tywei90@163.com&gt;'</span>, <span class="comment">// sender address</span></div><div class="line">                to: email, <span class="comment">// list of receivers</span></div><div class="line">                subject: <span class="string">'äº²çˆ±çš„ç”¨æˆ·'</span> + email, <span class="comment">// Subject line</span></div><div class="line">                text: <span class="string">'Hello world ğŸ´'</span>, <span class="comment">// plaintext body</span></div><div class="line">                html: [</div><div class="line">                    <span class="string">'&lt;p&gt;æ‚¨å¥½ï¼æ­å–œæ‚¨æ³¨å†Œæˆä¸ºCMS-of-Blogåšå®¢ç”¨æˆ·ã€‚&lt;/p&gt;'</span>,</div><div class="line">                    <span class="string">'&lt;p&gt;è¿™æ˜¯ä¸€å°å‘é€éªŒè¯ç çš„æ³¨å†Œè®¤è¯é‚®ä»¶ï¼Œè¯·å¤åˆ¶ä¸€ä¸‹éªŒè¯ç å¡«å†™åˆ°æ³¨å†Œé¡µé¢ä»¥å®Œæˆæ³¨å†Œã€‚&lt;/p&gt;'</span>,</div><div class="line">                    <span class="string">'&lt;p&gt;æœ¬æ¬¡éªŒè¯ç ä¸ºï¼š'</span> + emailCode + <span class="string">'&lt;/p&gt;'</span>,</div><div class="line">                    <span class="string">'&lt;p&gt;ä¸Šè¿°éªŒè¯ç 30åˆ†é’Ÿå†…æœ‰æ•ˆã€‚å¦‚æœéªŒè¯ç å¤±æ•ˆï¼Œè¯·æ‚¨ç™»å½•ç½‘ç«™&lt;a href="https://cms.wty90.com/#!/register"&gt;CMS-of-Blogåšå®¢æ³¨å†Œ&lt;/a&gt;é‡æ–°ç”³è¯·è®¤è¯ã€‚&lt;/p&gt;'</span>,</div><div class="line">                    <span class="string">'&lt;p&gt;æ„Ÿè°¢æ‚¨æ³¨å†Œæˆä¸ºCMS-of-Blogåšå®¢ç”¨æˆ·ï¼&lt;/p&gt;&lt;br/&gt;'</span>,</div><div class="line">                    <span class="string">'&lt;p&gt;CMS-of-Blogå¼€å‘å›¢é˜Ÿ&lt;/p&gt;'</span>,</div><div class="line">                    <span class="string">'&lt;p&gt;'</span>+ (<span class="keyword">new</span> <span class="built_in">Date</span>()).toLocaleString() + <span class="string">'&lt;/p&gt;'</span></div><div class="line">                ].join(<span class="string">''</span>) <span class="comment">// html body</span></div><div class="line">            &#125;;</div><div class="line">            <span class="comment">// send mail with defined transport object</span></div><div class="line">            transporter.sendMail(mailOptions, <span class="function"><span class="keyword">function</span>(<span class="params">error, info</span>)</span>&#123;</div><div class="line">                <span class="keyword">if</span>(error)&#123;</div><div class="line">                    <span class="keyword">return</span> <span class="built_in">console</span>.log(error);</div><div class="line">                &#125;</div><div class="line">                <span class="comment">// console.log('Message sent: ' + info.response);</span></div><div class="line">                <span class="keyword">new</span> db.User(&#123;</div><div class="line">                    <span class="attr">name</span>: <span class="string">'tmp'</span>,</div><div class="line">                    <span class="attr">password</span>: <span class="string">'0000'</span>,</div><div class="line">                    <span class="attr">email</span>: email,</div><div class="line">                    <span class="attr">emailCode</span>: emailCode,</div><div class="line">                    <span class="attr">createdTime</span>: createdTime,</div><div class="line">                    <span class="attr">articles</span>: [],</div><div class="line">                    <span class="attr">links</span>: []</div><div class="line">                &#125;).save(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</div><div class="line">                    <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="built_in">console</span>.log(err)</div><div class="line">                    <span class="comment">// åŠå°æ—¶å†…å¦‚æœä¸æ³¨å†ŒæˆåŠŸï¼Œåˆ™åœ¨æ•°æ®åº“ä¸­åˆ é™¤è¿™æ¡æ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´éªŒè¯ç ä¼šå¤±æ•ˆ</span></div><div class="line">                    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">                        db.User.findOne(&#123; <span class="attr">email</span>: email &#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, doc</span>) </span>&#123;</div><div class="line">                            <span class="keyword">if</span> (err) &#123;</div><div class="line">                                <span class="keyword">return</span> <span class="built_in">console</span>.log(err)</div><div class="line">                            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (doc &amp;&amp; doc.createdTime === createdTime) &#123;</div><div class="line">                                db.User.remove(&#123; <span class="attr">email</span>: email &#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</div><div class="line">                                    <span class="keyword">if</span> (err) &#123;</div><div class="line">                                        <span class="keyword">return</span> <span class="built_in">console</span>.log(err)</div><div class="line">                                    &#125;</div><div class="line">                                &#125;)</div><div class="line">                            &#125;</div><div class="line">                        &#125;)</div><div class="line">                    &#125;, <span class="number">30</span>*<span class="number">60</span>*<span class="number">1000</span>);</div><div class="line">                    resBody = &#123;</div><div class="line">                        <span class="attr">retcode</span>: <span class="number">200</span>,</div><div class="line">                        <span class="attr">retdesc</span>: <span class="string">''</span></div><div class="line">                    &#125;</div><div class="line">                    res.send(resBody)</div><div class="line">                &#125;)</div><div class="line">            &#125;);</div><div class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(doc &amp;&amp; doc.name === <span class="string">'tmp'</span>)&#123;</div><div class="line">            <span class="comment">// åœ¨é‚®ç®±éªŒè¯ç æœ‰æ•ˆçš„æ—¶é—´å†…ï¼Œå†æ¬¡ç‚¹å‡»è·å–éªŒè¯ç (ç±»ä¼¼çœç•¥)</span></div><div class="line">            ...</div><div class="line">        &#125;</div><div class="line">    &#125;)</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p><p>åå°æ¥å—åˆ°å‘é€é‚®ç®±éªŒè¯ç çš„è¯·æ±‚åï¼Œä¼šåˆå§‹åŒ–ä¸€ä¸ªtmpçš„ç”¨æˆ·ã€‚é€šè¿‡<code>new db.User()</code>ä¼šåˆ›å»ºä¸€ä¸ªUserçš„å®ä¾‹ï¼Œç„¶åæ‰§è¡Œ<code>save()</code>æ“ä½œä¼šå°†è¿™æ¡æ•°æ®å†™åˆ°æ•°æ®åº“é‡Œã€‚å¦‚æœåœ¨åŠå°æ—¶å†…æ²¡æœ‰æ³¨å†ŒæˆåŠŸï¼Œé€šè¿‡åŒ¹é…é‚®ç®±ï¼Œç„¶å<code>db.User.remove()</code>å°†è¿™æ¡æ•°æ®åˆ é™¤ã€‚æ›´å¤šå…·ä½“ç”¨æ³•è¯·ç§»æ­¥<a href="https://docs.mongodb.com/manual/tutorial/getting-started/" target="_blank" rel="external">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p><h3 id="2-åå°"><a href="#2-åå°" class="headerlink" title="2. åå°"></a>2. åå°</h3><p>å°†æ‰€æœ‰è¯·æ±‚åˆ†ä¸ºä¸‰ç§ï¼š</p><ul><li>ajaxå¼‚æ­¥è¯·æ±‚ï¼Œç»Ÿä¸€è·¯å¾„ï¼š<code>/web/</code></li><li>å…¬å…±é¡µé¢éƒ¨åˆ†ï¼Œå¦‚åšå®¢é¦–é¡µã€ç™»å½•ã€æ³¨å†Œç­‰ï¼Œç»Ÿä¸€è·¯å¾„ï¼š<code>/</code></li><li>ä¸åšå®¢ç”¨æˆ·idç›¸å…³çš„åšå®¢éƒ¨åˆ†ï¼Œç»Ÿä¸€è·¯å¾„ï¼š<code>/:id/</code>  </li></ul><p>è¿™æ ·æ¯ä¸ªç”¨æˆ·éƒ½å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„åšå®¢é¡µé¢ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</div><div class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</div><div class="line"><span class="keyword">var</span> favicon = <span class="built_in">require</span>(<span class="string">'serve-favicon'</span>);</div><div class="line"><span class="keyword">var</span> logger = <span class="built_in">require</span>(<span class="string">'morgan'</span>);</div><div class="line"><span class="keyword">var</span> cookieParser = <span class="built_in">require</span>(<span class="string">'cookie-parser'</span>);</div><div class="line"><span class="keyword">var</span> bodyParser = <span class="built_in">require</span>(<span class="string">'body-parser'</span>);</div><div class="line"><span class="keyword">var</span> routes = <span class="built_in">require</span>(<span class="string">'./index'</span>);</div><div class="line"><span class="keyword">var</span> db = <span class="built_in">require</span>(<span class="string">'./db'</span>)</div><div class="line"><span class="keyword">var</span> app = express();</div><div class="line"></div><div class="line"><span class="comment">// view engine setup</span></div><div class="line">app.set(<span class="string">'views'</span>, path.join(__dirname, <span class="string">'../'</span>));</div><div class="line">app.set(<span class="string">'view engine'</span>, <span class="string">'jade'</span>);</div><div class="line"></div><div class="line"><span class="comment">// uncomment after placing your favicon in /public</span></div><div class="line"><span class="comment">//app.use(favicon(path.join(__dirname, 'public', 'favicon.ico')));</span></div><div class="line">app.use(logger(<span class="string">'dev'</span>));</div><div class="line">app.use(bodyParser.json());</div><div class="line">app.use(bodyParser.urlencoded(&#123; <span class="attr">extended</span>: <span class="literal">false</span> &#125;));</div><div class="line">app.use(cookieParser());</div><div class="line">app.use(<span class="string">'/public'</span>,express.static(path.join(__dirname, <span class="string">'../public'</span>)));</div><div class="line"></div><div class="line"><span class="comment">// å…¬å…±ajaxæ¥å£(index.js)</span></div><div class="line">app.use(<span class="string">'/web'</span>, routes);</div><div class="line"></div><div class="line"><span class="comment">// å…¬å…±htmlé¡µé¢ï¼Œæ¯”å¦‚ç™»å½•é¡µï¼Œæ³¨å†Œé¡µ</span></div><div class="line">app.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">    res.render(<span class="string">'common'</span>, &#123; <span class="attr">title</span>: <span class="string">'CMS-blog'</span> &#125;);</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">// è·Ÿç”¨æˆ·ç›¸å…³çš„åšå®¢é¡µé¢(è·¯ç”±çš„ç¬¬ä¸€ä¸ªå‚æ•°åªåŒ¹é…ä¸å¤„ç†çš„ç›¸å…³çš„ï¼Œä¸è¶Šæƒï¼)</span></div><div class="line">app.get(<span class="regexp">/^\/[a-z]&#123;1&#125;[a-z0-9_]&#123;3,15&#125;$/</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">    <span class="comment">// formatè·å–è¯·æ±‚çš„pathå‚æ•°</span></div><div class="line">    <span class="keyword">var</span> pathPara = req._parsedUrl.pathname.slice(<span class="number">1</span>).toLocaleLowerCase()</div><div class="line">    <span class="comment">// æŸ¥è¯¢æ˜¯å¦å¯¹åº”æœ‰ç›¸åº”çš„username</span></div><div class="line">    db.User.count(&#123;<span class="attr">name</span>: pathPara&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, num</span>) </span>&#123;</div><div class="line">        <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="built_in">console</span>.log(err)</div><div class="line">        <span class="keyword">if</span>(num &gt; <span class="number">0</span>)&#123;</div><div class="line">            res.render(<span class="string">'main'</span>, &#123; <span class="attr">title</span>: <span class="string">'CMS-blog'</span> &#125;);</div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">            <span class="comment">// è‡ªå®šä¹‰é”™è¯¯å¤„ç†</span></div><div class="line">            res.status(<span class="number">403</span>);</div><div class="line">            res.render(<span class="string">'error'</span>, &#123;</div><div class="line">                <span class="attr">message</span>: <span class="string">'è¯¥ç”¨æˆ·å°šæœªå¼€é€šåšå®¢ã€‚&lt;a href="/#!/register"&gt;å»æ³¨å†Œ&lt;/a&gt;'</span>,</div><div class="line">            &#125;);</div><div class="line">        &#125;</div><div class="line">    &#125;)</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">// catch 404 and forward to error handler</span></div><div class="line">app.use(<span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> err = <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Not Found'</span>);</div><div class="line">    err.status = <span class="number">404</span>;</div><div class="line">    next(err);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// error handlers</span></div><div class="line"></div><div class="line"><span class="comment">// development error handler</span></div><div class="line"><span class="comment">// will print stacktrace</span></div><div class="line"><span class="keyword">if</span> (app.get(<span class="string">'env'</span>) === <span class="string">'development'</span>) &#123;</div><div class="line">    app.use(<span class="function"><span class="keyword">function</span>(<span class="params">err, req, res, next</span>) </span>&#123;</div><div class="line">        res.status(err.status || <span class="number">500</span>);</div><div class="line">        res.render(<span class="string">'error'</span>, &#123;</div><div class="line">            <span class="attr">message</span>: err.message,</div><div class="line">            <span class="attr">error</span>: err</div><div class="line">        &#125;);</div><div class="line">    &#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = app;</div></pre></td></tr></table></figure></p><p>å…·ä½“çš„ajaxæ¥å£ä»£ç å¤§å®¶å¯ä»¥çœ‹serveræ–‡ä»¶å¤¹ä¸‹çš„index.jsæ–‡ä»¶ã€‚</p><h3 id="3-pop-toastç»„ä»¶"><a href="#3-pop-toastç»„ä»¶" class="headerlink" title="3. pop/toastç»„ä»¶"></a>3. pop/toastç»„ä»¶</h3><h4 id="3-1-pop-toastç»„ä»¶é…ç½®å‚æ•°è¯´æ˜"><a href="#3-1-pop-toastç»„ä»¶é…ç½®å‚æ•°è¯´æ˜" class="headerlink" title="3.1 pop/toastç»„ä»¶é…ç½®å‚æ•°è¯´æ˜"></a>3.1 pop/toastç»„ä»¶é…ç½®å‚æ•°è¯´æ˜</h4><ul><li><code>pop</code>: å¼¹çª—çš„æ˜¾ç¤ºä¸å¦, æ ¹æ®contentå‚æ•°ï¼Œæœ‰å†…å®¹åˆ™ä¸ºtrue</li><li><code>css</code>: è‡ªå®šä¹‰å¼¹çª—çš„class, é»˜è®¤ä¸ºç©º</li><li><code>showClose</code>: ä¸ºfalseåˆ™ä¸æ˜¾ç¤ºå…³é—­æŒ‰é’®, é»˜è®¤æ˜¾ç¤º</li><li><code>closeFn</code>: å¼¹çª—ç‚¹å‡»å…³é—­æŒ‰é’®ä¹‹åçš„å›è°ƒ</li><li><code>title</code>: å¼¹çª—çš„æ ‡é¢˜ï¼Œé»˜è®¤â€™æ¸©é¦¨æç¤ºâ€™, å¦‚æœä¸æƒ³æ˜¾ç¤ºtitle, ç›´æ¥ä¼ ç©º</li><li><code>content</code>ï¼ˆrequiredï¼‰: å¼¹çª—çš„å†…å®¹ï¼Œæ”¯æŒä¼ html</li><li><code>btn1</code>: â€˜æŒ‰é’®1æ–‡æ¡ˆ|æŒ‰é’®1æ ·å¼classâ€™, æ ¼å¼åŒ–åä¸ºbtn1Textå’Œbtn1Css</li><li><code>cb1</code>: æŒ‰é’®1ç‚¹å‡»ä¹‹åçš„å›è°ƒï¼Œå¦‚æœcb1æ²¡æœ‰æ˜ç¡®è¿”å›trueï¼Œåˆ™é»˜è®¤æŒ‰é’®ç‚¹å‡»åå…³é—­å¼¹çª—</li><li><code>btn2</code>: â€˜æŒ‰é’®2æ–‡æ¡ˆ|æŒ‰é’®2æ ·å¼classâ€™, æ ¼å¼åŒ–åä¸ºbtn2Textå’Œbtn2Css</li><li><code>cb2</code>: æŒ‰é’®2ç‚¹å‡»ä¹‹åçš„å›è°ƒï¼Œå¦‚æœcb2æ²¡æœ‰æ˜ç¡®è¿”å›trueï¼Œåˆ™é»˜è®¤æŒ‰é’®ç‚¹å‡»åå…³é—­å¼¹çª—ã€‚æŒ‰é’®å‚æ•°ä¸ä¼ ï¼Œæ–‡æ¡ˆé»˜è®¤â€™æˆ‘çŸ¥é“äº†â€™ï¼Œç‚¹å‡»å…³é—­å¼¹çª—</li><li><code>init</code>: å¼¹çª—å»ºç«‹åçš„åˆå§‹åŒ–å‡½æ•°ï¼Œå¯ä»¥ç”¨æ¥å¤„ç†å¤æ‚äº¤äº’ï¼ˆæ³¨æ„å¼¹çª—ä¸€å®šè¦æ˜¯ä»popä¸ºfalseå˜æˆtrueæ‰ä¼šæ‰§è¡Œï¼‰</li><li><code>destroy</code>: å¼¹çª—æ¶ˆå¤±ä¹‹åçš„å›è°ƒå‡½æ•°</li><li><code>wapGoDialog</code>: åœ¨ç§»åŠ¨ç«¯æ—¶ï¼Œè¦ä¸è¦èµ°å¼¹çª—ï¼Œé»˜è®¤falseï¼Œèµ°toast</li></ul><h4 id="3-2-pop-toastç»„ä»¶ä»£ç "><a href="#3-2-pop-toastç»„ä»¶ä»£ç " class="headerlink" title="3.2 pop/toastç»„ä»¶ä»£ç "></a>3.2 pop/toastç»„ä»¶ä»£ç </h4><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"m-dialog"</span> <span class="attr">:class</span>=<span class="string">"getPopPara.css"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"dialog-wrap"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"close"</span> @<span class="attr">click</span>=<span class="string">"handleClose"</span> <span class="attr">v-if</span>=<span class="string">"getPopPara.showClose"</span>&gt;</span>+<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span> <span class="attr">v-if</span>=<span class="string">"getPopPara.title"</span>&gt;</span>&#123;&#123;getPopPara.title&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span>&#123;&#123;&#123;getPopPara.content&#125;&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"button"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"btn"</span> <span class="attr">:class</span>=<span class="string">"getPopPara.btn1Css"</span> @<span class="attr">click</span>=<span class="string">"fn1"</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;getPopPara.btn1Text&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"btn"</span> <span class="attr">:class</span>=<span class="string">"getPopPara.btn2Css"</span> @<span class="attr">click</span>=<span class="string">"fn2"</span> <span class="attr">v-if</span>=<span class="string">"getPopPara.btn2Text"</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;getPopPara.btn2Text&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="keyword">import</span> &#123;pop&#125;                <span class="keyword">from</span> <span class="string">'../vuex/actions'</span></div><div class="line">    <span class="keyword">import</span> &#123;getPopPara&#125;         <span class="keyword">from</span> <span class="string">'../vuex/getters'</span></div><div class="line">    <span class="keyword">import</span> $                    <span class="keyword">from</span> <span class="string">'../js/jquery.min'</span></div><div class="line"></div><div class="line">    <span class="keyword">export</span> <span class="keyword">default</span>&#123;</div><div class="line">        <span class="attr">computed</span>:&#123;</div><div class="line">            showDialog()&#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">this</span>.getPopPara.pop</div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">vuex</span>: &#123;</div><div class="line">            <span class="attr">getters</span>: &#123;</div><div class="line">                getPopPara</div><div class="line">            &#125;,</div><div class="line">            <span class="attr">actions</span>: &#123;</div><div class="line">                pop</div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">methods</span>: &#123;</div><div class="line">            fn1()&#123;</div><div class="line">                <span class="keyword">let</span> fn = <span class="keyword">this</span>.getPopPara.cb1</div><div class="line">                <span class="keyword">let</span> closePop = <span class="literal">false</span></div><div class="line">                <span class="comment">//  å¦‚æœcb1å‡½æ•°æ²¡æœ‰æ˜ç¡®è¿”å›trueï¼Œåˆ™é»˜è®¤æŒ‰é’®ç‚¹å‡»åå…³é—­å¼¹çª—</span></div><div class="line">                <span class="keyword">if</span>(<span class="keyword">typeof</span> fn == <span class="string">'function'</span>)&#123;</div><div class="line">                    closePop = fn()</div><div class="line">                &#125;</div><div class="line">                <span class="comment">// åˆå§‹å€¼ä¸ºfalse, æ‰€ä»¥æ²¡ä¼ ä¹Ÿé»˜è®¤å…³é—­</span></div><div class="line">                <span class="keyword">if</span>(!closePop)&#123;</div><div class="line">                    <span class="keyword">this</span>.pop()</div><div class="line">                &#125;</div><div class="line">                <span class="comment">// !fn &amp;&amp; this.pop()</span></div><div class="line">            &#125;,</div><div class="line">            fn2()&#123;</div><div class="line">                <span class="keyword">let</span> fn = <span class="keyword">this</span>.getPopPara.cb2</div><div class="line">                <span class="keyword">let</span> closePop = <span class="literal">false</span></div><div class="line">                <span class="comment">//  å¦‚æœcb1å‡½æ•°æ²¡æœ‰æ˜ç¡®è¿”å›trueï¼Œåˆ™é»˜è®¤æŒ‰é’®ç‚¹å‡»åå…³é—­å¼¹çª—</span></div><div class="line">                <span class="keyword">if</span>(<span class="keyword">typeof</span> fn == <span class="string">'function'</span>)&#123;</div><div class="line">                    closePop = fn()</div><div class="line">                &#125;</div><div class="line">                <span class="comment">// åˆå§‹å€¼ä¸ºfalse, æ‰€ä»¥æ²¡ä¼ ä¹Ÿé»˜è®¤å…³é—­</span></div><div class="line">                <span class="keyword">if</span>(!closePop)&#123;</div><div class="line">                    <span class="keyword">this</span>.pop()</div><div class="line">                &#125;</div><div class="line">                <span class="comment">// !fn &amp;&amp; this.pop()</span></div><div class="line">            &#125;,</div><div class="line">            handleClose()&#123;</div><div class="line">                <span class="comment">// this.pop()è¦æ”¾åœ¨æœ€åï¼Œå› ä¸ºå…ˆæ‰§è¡Œæ‰€æœ‰å‚æ•°å°±éƒ½å˜äº†</span></div><div class="line">                <span class="keyword">let</span> fn = <span class="keyword">this</span>.getPopPara.closeFn</div><div class="line">                <span class="keyword">typeof</span> fn == <span class="string">'function'</span> &amp;&amp; fn()</div><div class="line">                <span class="keyword">this</span>.pop()</div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">watch</span>:&#123;</div><div class="line">            <span class="string">'showDialog'</span>: <span class="function"><span class="keyword">function</span>(<span class="params">newVal, oldVal</span>)</span>&#123;</div><div class="line">                <span class="comment">// å¼¹çª—æ‰“å¼€æ—¶</span></div><div class="line">                <span class="keyword">if</span>(newVal)&#123;</div><div class="line">                    <span class="comment">// å¢åŠ å¼¹çª—æ”¯æŒé”®ç›˜æ“ä½œ</span></div><div class="line">                    $(<span class="built_in">document</span>).bind(<span class="string">'keydown'</span>, (event)=&gt;&#123;</div><div class="line">                        <span class="comment">// å›è½¦é”®æ‰§è¡Œfn1ï¼Œä¼šå‡ºç°åå¤å¼¹çª—bug</span></div><div class="line">                        <span class="keyword">if</span>(event.keyCode === <span class="number">27</span>)&#123;</div><div class="line">                            <span class="keyword">this</span>.pop()</div><div class="line">                        &#125;</div><div class="line">                    &#125;)</div><div class="line">                    <span class="keyword">var</span> $dialog = $(<span class="string">'.dialog-wrap'</span>);</div><div class="line">                    <span class="comment">// ç§»åŠ¨ç«¯æ”¹æˆç±»ä¼¼toastï¼Œé€šè¿‡æ›´æ”¹æ ·å¼ï¼Œæ—¢ä¸éœ€è¦å¢åŠ toastç»„ä»¶ï¼Œä¹Ÿä¸éœ€è¦æ›´æ”¹ä»£ç ï¼Œç»Ÿä¸€popæ–¹æ³•</span></div><div class="line">                    <span class="keyword">if</span>(screen.width &lt; <span class="number">700</span> &amp;&amp; !<span class="keyword">this</span>.getPopPara.wapGoDialog)&#123;</div><div class="line">                        $dialog.addClass(<span class="string">'toast-wrap'</span>);</div><div class="line">                        setTimeout(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</div><div class="line">                            <span class="keyword">this</span>.pop();</div><div class="line">                            $dialog.removeClass(<span class="string">'toast-wrap'</span>);</div><div class="line">                        &#125;, <span class="number">2000</span>)</div><div class="line">                    &#125;</div><div class="line">                    <span class="comment">//è°ƒæ•´å¼¹çª—å±…ä¸­</span></div><div class="line">                    <span class="keyword">let</span> width = $dialog.width();</div><div class="line">                    <span class="keyword">let</span> height = $dialog.height();</div><div class="line">                    $dialog.css(<span class="string">'marginTop'</span>, - height/<span class="number">2</span>);</div><div class="line">                    $dialog.css(<span class="string">'marginLeft'</span>, - width/<span class="number">2</span>);</div><div class="line">                    <span class="comment">// å¼¹çª—å»ºç«‹çš„åˆå§‹åŒ–å‡½æ•°</span></div><div class="line">                    <span class="keyword">let</span> fn = <span class="keyword">this</span>.getPopPara.init;</div><div class="line">                    <span class="keyword">typeof</span> fn == <span class="string">'function'</span> &amp;&amp; fn();</div><div class="line">                &#125;<span class="keyword">else</span>&#123;</div><div class="line">                    <span class="comment">// å¼¹çª—å…³é—­æ—¶</span></div><div class="line">                    <span class="comment">// æ³¨é”€å¼¹çª—æ‰“å¼€æ—¶æ³¨å†Œçš„äº‹ä»¶</span></div><div class="line">                    $(<span class="built_in">document</span>).unbind(<span class="string">'keydown'</span>)</div><div class="line">                    <span class="comment">// å¼¹çª—æ¶ˆå¤±å›è°ƒ</span></div><div class="line">                    <span class="keyword">let</span> fn = <span class="keyword">this</span>.getPopPara.destroy</div><div class="line">                    <span class="keyword">typeof</span> fn == <span class="string">'function'</span> &amp;&amp; fn()</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">"sass"</span>&gt;</span><span class="undefined"></span></div><div class="line">    @import "../style/components/Pop.scss";</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div></pre></td></tr></table></figure><h4 id="3-3-pop-toastç»„ä»¶å‚æ•°æ ¼å¼åŒ–ä»£ç "><a href="#3-3-pop-toastç»„ä»¶å‚æ•°æ ¼å¼åŒ–ä»£ç " class="headerlink" title="3.3 pop/toastç»„ä»¶å‚æ•°æ ¼å¼åŒ–ä»£ç "></a>3.3 pop/toastç»„ä»¶å‚æ•°æ ¼å¼åŒ–ä»£ç </h4><p>ä¸ºäº†ä½¿ç”¨æ–¹ä¾¿ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨çš„æ—¶å€™è¿›è¡Œäº†ç®€å†™ã€‚ä¸ºäº†è®©ç»„ä»¶èƒ½è¯†åˆ«ï¼Œéœ€è¦åœ¨vuexçš„actioné‡Œå¯¹ä¼ å…¥çš„å‚æ•°æ ¼å¼åŒ–ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">pop</span>(<span class="params">&#123;dispatch&#125;, para</span>) </span>&#123;</div><div class="line">    <span class="comment">// å¦‚æœæ²¡æœ‰ä¼ å…¥ä»»ä½•å‚æ•°ï¼Œé»˜è®¤å…³é—­å¼¹çª—</span></div><div class="line">    <span class="keyword">if</span>(para === <span class="literal">undefined</span>)&#123;</div><div class="line">        para = &#123;&#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// å¦‚æœåªä¼ å…¥å­—ç¬¦ä¸²ï¼Œæ ¼å¼åŒ–å†…å®¹ä¸ºcontentçš„paraå¯¹è±¡</span></div><div class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> para === <span class="string">'string'</span>)&#123;</div><div class="line">        para = &#123;</div><div class="line">            <span class="attr">content</span>: para</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// è®¾ç½®é»˜è®¤å€¼</span></div><div class="line">    para.pop = !para.content? <span class="literal">false</span>: <span class="literal">true</span></div><div class="line">    para.showClose = para.showClose === <span class="literal">undefined</span>? <span class="literal">true</span>: para.showClose</div><div class="line">    para.title = para.title === <span class="literal">undefined</span>? <span class="string">'æ¸©é¦¨æç¤º'</span>: para.title</div><div class="line">    para.wapGoDialog = !!para.wapGoDialog</div><div class="line">    <span class="comment">// æ²¡æœ‰ä¼ å‚æ•°</span></div><div class="line">    <span class="keyword">if</span>(!para.btn1)&#123;</div><div class="line">        para.btn1 = <span class="string">'æˆ‘çŸ¥é“äº†|normal'</span></div><div class="line">    &#125;</div><div class="line">    <span class="comment">// æ²¡æœ‰ä¼ class</span></div><div class="line">    <span class="keyword">if</span>(para.btn1.indexOf(<span class="string">'|'</span>) === <span class="number">-1</span>)&#123;</div><div class="line">        para.btn1 = para.btn1 + <span class="string">'|primary'</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">let</span> array1 = para.btn1.split(<span class="string">'|'</span>)</div><div class="line">    para.btn1Text = array1[<span class="number">0</span>]</div><div class="line">    <span class="comment">// å¯èƒ½ä¼šä¼ å¤šä¸ªclass</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>,len=array1.length; i&lt;len; i++)&#123;</div><div class="line">        <span class="keyword">if</span>(i==<span class="number">1</span>)&#123;</div><div class="line">            <span class="comment">// classä¸ºdisabledå±æ€§ä¸åŠ 'btn-'</span></div><div class="line">            para.btn1Css = array1[<span class="number">1</span>]==<span class="string">'disabled'</span>? <span class="string">'disabled'</span>: <span class="string">'btn-'</span> + array1[<span class="number">1</span>]</div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">            para.btn1Css = array1[i]==<span class="string">'disabled'</span>? <span class="string">' disabled'</span>: para.btn1Css + <span class="string">' btn-'</span> + array1[i]</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">if</span>(para.btn2)&#123;</div><div class="line">        <span class="keyword">if</span>(para.btn2.indexOf(<span class="string">'|'</span>) === <span class="number">-1</span>)&#123;</div><div class="line">            para.btn2 = para.btn2 + <span class="string">'|normal'</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">let</span> array2 = para.btn2.split(<span class="string">'|'</span>)</div><div class="line">        para.btn2Text = array2[<span class="number">0</span>]</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>,len=array2.length; i&lt;len; i++)&#123;</div><div class="line">            <span class="keyword">if</span>(i==<span class="number">1</span>)&#123;</div><div class="line">                para.btn2Css = array2[<span class="number">1</span>]==<span class="string">'disabled'</span>? <span class="string">'disabled'</span>: <span class="string">'btn-'</span> + array2[<span class="number">1</span>]</div><div class="line">            &#125;<span class="keyword">else</span>&#123;</div><div class="line">                para.btn2Css = array2[i]==<span class="string">'disabled'</span>? <span class="string">' disabled'</span>: para.btn2Css + <span class="string">' btn-'</span> + array2[i]</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    dispatch(<span class="string">'POP'</span>, para)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>ä¸ºäº†è®©ç§»åŠ¨ç«¯å…¼å®¹popå¼¹çª—ç»„ä»¶ï¼Œæˆ‘ä»¬é‡‡ç”¨mediaQueryå¯¹ç§»åŠ¨ç«¯æ ·å¼è¿›è¡Œäº†æ›´æ”¹ã€‚å¢åŠ å‚æ•°<code>wapGoDialog</code>ï¼Œè¡¨æ˜æˆ‘ä»¬åœ¨ç§»åŠ¨ç«¯æ—¶ï¼Œè¦ä¸è¦èµ°å¼¹çª—ï¼Œé»˜è®¤falseï¼Œèµ°toastã€‚è¿™æ ·å¯ä»¥ä¸€å¥—ä»£ç å°±å¯ä»¥å…¼å®¹pcå’Œwapã€‚</p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>è¿™é‡Œä¸»è¦åˆ†æäº†ä¸‹åå°å’Œæ•°æ®åº“ï¼Œè€Œä¸”æ¯”è¾ƒç®€å•ï¼Œå¤§å®¶å¯ä»¥å»çœ‹æºç ã€‚æ€»ä¹‹ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸é”™çš„å‰ç«¯å…¥æ‰‹åå°å’Œæ•°æ®åº“çš„ä¾‹å­ã€‚åŠŸèƒ½æ¯”è¾ƒä¸°å¯Œï¼Œè€Œä¸”å¯ä»¥å­¦ä¹ ä¸‹vue.jsã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™ä¸ªé¡¹ç›®æœ€åˆå…¶å®æ˜¯forkåˆ«äººçš„é¡¹ç›®ã€‚å½“åˆæƒ³æ¥è§¦ä¸‹mongodbæ•°æ®åº“ï¼Œæ‰¾ä¸ªä¾‹å­å­¦ä¹ ä¸‹ï¼Œåæ¥æ”¹ç€æ”¹ç€å°±é¢ç›®å…¨éäº†ã€‚åå°å’Œæ•°æ®åº“é‡æ„ï¼Œå‰ç«¯å¢åŠ äº†ç™»å½•æ³¨å†ŒåŠŸèƒ½ï¼Œä»…ä¿ç•™äº†åšå®¢è®¾ç½®é¡µé¢ï¼Œä½†æ˜¯ä¹Ÿä¼˜åŒ–äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ¬¢è¿å¤§å®¶starå­¦ä¹ äº¤æµï¼š&lt;a href=&quot;https://cms.wty90.com/&quot;&gt;çº¿ä¸Šåœ°å€&lt;/a&gt;&amp;emsp;&lt;a href=&quot;https://github.com/tywei90/CMS-of-Blog_Production&quot;&gt;githubåœ°å€&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="åšå®¢" scheme="https://www.wty90.com/tags/%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="cms" scheme="https://www.wty90.com/tags/cms/"/>
    
  </entry>
  
  <entry>
    <title>NodeJSçˆ¬è™«â€”â€”ç«‹é©¬ç†è´¢</title>
    <link href="https://www.wty90.com/2018/01/17/lmlc-spider/"/>
    <id>https://www.wty90.com/2018/01/17/lmlc-spider/</id>
    <published>2018-01-17T02:56:53.000Z</published>
    <updated>2018-02-18T15:24:09.000Z</updated>
    
    <content type="html"><![CDATA[<p>å…¶å®åœ¨æ—©ä¹‹å‰ï¼Œå°±åšè¿‡<a href="https://www.lmlc.com/" target="_blank" rel="external">ç«‹é©¬ç†è´¢</a>çš„é”€å”®é¢ç»Ÿè®¡ï¼Œåªä¸è¿‡æ˜¯ç”¨å‰ç«¯jså†™çš„ï¼Œéœ€è¦åœ¨é¦–é¡µçš„consoleè°ƒè¯•é¢æ¿é‡Œç²˜è´´ä¸€æ®µä»£ç æ‰§è¡Œï¼Œ<a href="https://github.com/tywei90/selfwork/tree/master/statistics" target="_blank" rel="external">ç‚¹å‡»è¿™é‡Œ</a>ã€‚ä¸»è¦æ˜¯é€šè¿‡å®šæ—¶çˆ¬å–<a href="https://www.lmlc.com/s/web/home/user_buying" target="_blank" rel="external"><code>https://www.lmlc.com/s/web/home/user_buying</code></a>å¼‚æ­¥æ¥å£æ¥è·å–æ•°æ®ã€‚ç„¶åé€šè¿‡ä¸€å®šçš„æ’é‡ç®—æ³•æ¥è·å–æœ€ç»ˆçš„æ•°æ®ã€‚ä½†æ˜¯è¿™æ ·åšæœ‰ä»¥ä¸‹ç¼ºç‚¹ï¼š  </p><ol><li>ä»£ç åªèƒ½åœ¨æµè§ˆå™¨çª—å£ä¸‹è¿è¡Œï¼Œå…³é—­æµè§ˆå™¨æˆ–è€…ç”µè„‘å°±å¤±æ•ˆäº†</li><li>åªèƒ½çˆ¬å–ä¸€ä¸ªé¡µé¢çš„æ•°æ®ï¼Œä¸èƒ½æ•´åˆå…¶ä»–é¡µé¢çš„æ•°æ®</li><li>çˆ¬å–çš„æ•°æ®æ— æ³•å­˜å‚¨åˆ°æœ¬åœ°</li><li>ä¸Šé¢çš„å¼‚æ­¥æ¥å£æ•°æ®ä¼šéƒ¨åˆ†è¿‡æ»¤ï¼Œå¯¼è‡´æˆ‘ä»¬çš„æ’é‡ç®—æ³•å¤±æ•ˆ</li></ol><p>ç”±äºæœ€è¿‘å­¦ä¹ äº†nodeçˆ¬è™«ç›¸å…³çŸ¥è¯†ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åå°è‡ªå·±æ¨¡æ‹Ÿè¯·æ±‚ï¼Œçˆ¬å–é¡µé¢æ•°æ®ã€‚å¹¶ä¸”æˆ‘å¼€é€šäº†é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼Œå¯ä»¥æŠŠä»£ç æ”¾åˆ°äº‘ç«¯è·‘ã€‚è¿™æ ·ï¼Œ1ã€2ã€3éƒ½å¯ä»¥è§£å†³ã€‚4æ˜¯å› ä¸ºä¹‹å‰ä¸çŸ¥é“è¿™ä¸ªajaxæ¥å£æ˜¯æ¯ä¸‰åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥æ ¹æ®è¿™ä¸ªæ¥æ’é‡ï¼Œç¡®ä¿æ•°æ®ä¸ä¼šé‡å¤ã€‚è¯´åˆ°çˆ¬è™«ï¼Œå¤§å®¶æƒ³åˆ°çš„æ¯”è¾ƒå¤šçš„è¿˜æ˜¯pythonï¼Œç¡®å®pythonæœ‰Scrapyç­‰æˆç†Ÿçš„æ¡†æ¶ï¼Œå¯ä»¥å®ç°å¾ˆå¼ºå¤§çš„çˆ¬å–åŠŸèƒ½ã€‚ä½†æ˜¯nodeä¹Ÿæœ‰è‡ªèº«çš„ä¼˜ç‚¹ï¼Œå‡­å€Ÿå¼ºå¤§çš„å¼‚æ­¥ç‰¹æ€§ï¼Œå¯ä»¥å¾ˆè½»æ¾çš„å®ç°é«˜æ•ˆçš„å¼‚æ­¥å¹¶å‘è¯·æ±‚ï¼ŒèŠ‚çœcpuçš„å¼€é”€ã€‚å…¶å®nodeçˆ¬è™«è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥åˆ†ææ•´ä¸ªçˆ¬è™«çˆ¬å–çš„æµç¨‹å’Œæœ€ç»ˆå¦‚ä½•å±•ç¤ºæ•°æ®çš„ã€‚</p><p>æ¬¢è¿å¤§å®¶starå­¦ä¹ äº¤æµï¼š<a href="https://lmlc.wty90.com/" target="_blank" rel="external">çº¿ä¸Šåœ°å€</a>&emsp;<a href="https://github.com/tywei90/lmlcSpider_production" target="_blank" rel="external">githubåœ°å€</a></p><a id="more"></a><h2 id="ä¸€ã€çˆ¬è™«æµç¨‹"><a href="#ä¸€ã€çˆ¬è™«æµç¨‹" class="headerlink" title="ä¸€ã€çˆ¬è™«æµç¨‹"></a>ä¸€ã€çˆ¬è™«æµç¨‹</h2><p>æˆ‘ä»¬æœ€ç»ˆçš„ç›®æ ‡æ˜¯å®ç°çˆ¬å–ç«‹é©¬ç†è´¢æ¯æ—¥çš„é”€å”®é¢ï¼Œå¹¶çŸ¥é“å–äº†å“ªäº›äº§å“ï¼Œæ¯ä¸ªäº§å“åˆè¢«å“ªäº›ç”¨æˆ·åœ¨ä»€ä¹ˆæ—¶é—´ç‚¹ä¹°çš„ã€‚é¦–å…ˆï¼Œä»‹ç»ä¸‹çˆ¬è™«çˆ¬å–çš„ä¸»è¦æ­¥éª¤ï¼š</p><h3 id="1-ç»“æ„åˆ†æ"><a href="#1-ç»“æ„åˆ†æ" class="headerlink" title="1. ç»“æ„åˆ†æ"></a>1. ç»“æ„åˆ†æ</h3><p>æˆ‘ä»¬è¦çˆ¬å–é¡µé¢çš„æ•°æ®ï¼Œç¬¬ä¸€æ­¥å½“ç„¶æ˜¯è¦å…ˆåˆ†ææ¸…æ¥šé¡µé¢ç»“æ„ï¼Œè¦çˆ¬å“ªäº›é¡µé¢ï¼Œé¡µé¢çš„ç»“æ„æ˜¯æ€æ ·çš„ï¼Œéœ€ä¸éœ€è¦ç™»å½•ï¼›æœ‰æ²¡æœ‰ajaxæ¥å£ï¼Œè¿”å›ä»€ä¹ˆæ ·çš„æ•°æ®ç­‰ã€‚</p><h3 id="2-æ•°æ®æŠ“å–"><a href="#2-æ•°æ®æŠ“å–" class="headerlink" title="2. æ•°æ®æŠ“å–"></a>2. æ•°æ®æŠ“å–</h3><p>åˆ†ææ¸…æ¥šè¦çˆ¬å–å“ªäº›é¡µé¢å’Œajaxï¼Œå°±è¦å»æŠ“å–æ•°æ®äº†ã€‚å¦‚ä»Šçš„ç½‘é¡µçš„æ•°æ®ï¼Œå¤§ä½“åˆ†ä¸ºåŒæ­¥é¡µé¢å’Œajaxæ¥å£ã€‚åŒæ­¥é¡µé¢æ•°æ®çš„æŠ“å–å°±éœ€è¦æˆ‘ä»¬å…ˆåˆ†æç½‘é¡µçš„ç»“æ„ï¼ŒpythonæŠ“å–æ•°æ®ä¸€èˆ¬æ˜¯é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æ¥è·å–éœ€è¦çš„æ•°æ®ï¼›nodeæœ‰ä¸€ä¸ªcheerioçš„å·¥å…·ï¼Œå¯ä»¥å°†è·å–çš„é¡µé¢å†…å®¹è½¬æ¢æˆjqueryå¯¹è±¡ï¼Œç„¶åå°±å¯ä»¥ç”¨jqueryå¼ºå¤§çš„dom APIæ¥è·å–èŠ‚ç‚¹ç›¸å…³æ•°æ®ï¼Œ å…¶å®å¤§å®¶çœ‹æºç ï¼Œè¿™äº›APIæœ¬è´¨ä¹Ÿå°±æ˜¯æ­£åˆ™åŒ¹é…ã€‚ajaxæ¥å£æ•°æ®ä¸€èˆ¬éƒ½æ˜¯jsonæ ¼å¼çš„ï¼Œå¤„ç†èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ã€‚</p><h3 id="3-æ•°æ®å­˜å‚¨"><a href="#3-æ•°æ®å­˜å‚¨" class="headerlink" title="3. æ•°æ®å­˜å‚¨"></a>3. æ•°æ®å­˜å‚¨</h3><p>æŠ“å–çš„æ•°æ®åï¼Œä¼šåšç®€å•çš„ç­›é€‰ï¼Œç„¶åå°†éœ€è¦çš„æ•°æ®å…ˆä¿å­˜èµ·æ¥ï¼Œä»¥ä¾¿åç»­çš„åˆ†æå¤„ç†ã€‚å½“ç„¶æˆ‘ä»¬å¯ä»¥ç”¨MySQLå’ŒMongodbç­‰æ•°æ®åº“å­˜å‚¨æ•°æ®ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬ä¸ºäº†æ–¹ä¾¿ï¼Œç›´æ¥é‡‡ç”¨æ–‡ä»¶å­˜å‚¨ã€‚</p><h3 id="4-æ•°æ®åˆ†æ"><a href="#4-æ•°æ®åˆ†æ" class="headerlink" title="4. æ•°æ®åˆ†æ"></a>4. æ•°æ®åˆ†æ</h3><p>å› ä¸ºæˆ‘ä»¬æœ€ç»ˆæ˜¯è¦å±•ç¤ºæ•°æ®çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å°†åŸå§‹çš„æ•°æ®æŒ‰ç…§ä¸€å®šç»´åº¦å»å¤„ç†åˆ†æï¼Œç„¶åè¿”å›ç»™å®¢æˆ·ç«¯ã€‚è¿™ä¸ªè¿‡ç¨‹å¯ä»¥åœ¨å­˜å‚¨çš„æ—¶å€™å»å¤„ç†ï¼Œä¹Ÿå¯ä»¥åœ¨å±•ç¤ºçš„æ—¶å€™ï¼Œå‰ç«¯å‘é€è¯·æ±‚ï¼Œåå°å–å‡ºå­˜å‚¨çš„æ•°æ®å†å¤„ç†ã€‚è¿™ä¸ªçœ‹æˆ‘ä»¬è¦æ€ä¹ˆå±•ç¤ºæ•°æ®äº†ã€‚</p><h3 id="5-ç»“æœå±•ç¤º"><a href="#5-ç»“æœå±•ç¤º" class="headerlink" title="5. ç»“æœå±•ç¤º"></a>5. ç»“æœå±•ç¤º</h3><p>åšäº†è¿™ä¹ˆå¤šå·¥ä½œï¼Œä¸€ç‚¹å±•ç¤ºè¾“å‡ºéƒ½æ²¡æœ‰ï¼Œæ€ä¹ˆç”˜å¿ƒå‘¢ï¼Ÿè¿™åˆå›åˆ°äº†æˆ‘ä»¬çš„è€æœ¬è¡Œï¼Œå‰ç«¯å±•ç¤ºé¡µé¢å¤§å®¶åº”è¯¥éƒ½å¾ˆç†Ÿæ‚‰äº†ã€‚å°†æ•°æ®å±•ç¤ºå‡ºæ¥æ‰æ›´ç›´è§‚ï¼Œæ–¹ä¾¿æˆ‘ä»¬åˆ†æç»Ÿè®¡ã€‚</p><h2 id="äºŒã€çˆ¬è™«å¸¸ç”¨åº“ä»‹ç»"><a href="#äºŒã€çˆ¬è™«å¸¸ç”¨åº“ä»‹ç»" class="headerlink" title="äºŒã€çˆ¬è™«å¸¸ç”¨åº“ä»‹ç»"></a>äºŒã€çˆ¬è™«å¸¸ç”¨åº“ä»‹ç»</h2><h3 id="1-Superagent"><a href="#1-Superagent" class="headerlink" title="1. Superagent"></a>1. <a href="http://visionmedia.github.io/superagent/" target="_blank" rel="external">Superagent</a></h3><p>Superagentæ˜¯ä¸ªè½»é‡çš„çš„httpæ–¹é¢çš„åº“ï¼Œæ˜¯nodejsé‡Œä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„å®¢æˆ·ç«¯è¯·æ±‚ä»£ç†æ¨¡å—ï¼Œå½“æˆ‘ä»¬éœ€è¦è¿›è¡Œgetã€postã€headç­‰ç½‘ç»œè¯·æ±‚æ—¶ï¼Œå°è¯•ä¸‹å®ƒå§ã€‚</p><h3 id="2-Cheerio"><a href="#2-Cheerio" class="headerlink" title="2. Cheerio"></a>2. <a href="https://github.com/cheeriojs/cheerio" target="_blank" rel="external">Cheerio</a></h3><p>Cheerioå¤§å®¶å¯ä»¥ç†è§£æˆä¸€ä¸ª Node.js ç‰ˆçš„ jqueryï¼Œç”¨æ¥ä»ç½‘é¡µä¸­ä»¥ css selector å–æ•°æ®ï¼Œä½¿ç”¨æ–¹å¼è·Ÿ jquery ä¸€æ¨¡ä¸€æ ·ã€‚</p><h3 id="3-Async"><a href="#3-Async" class="headerlink" title="3. Async"></a>3. <a href="https://github.com/caolan/async" target="_blank" rel="external">Async</a></h3><p>Asyncæ˜¯ä¸€ä¸ªæµç¨‹æ§åˆ¶å·¥å…·åŒ…ï¼Œæä¾›äº†ç›´æ¥è€Œå¼ºå¤§çš„å¼‚æ­¥åŠŸèƒ½mapLimit(arr, limit, iterator, callback)ï¼Œæˆ‘ä»¬ä¸»è¦ç”¨åˆ°è¿™ä¸ªæ–¹æ³•ï¼Œå¤§å®¶å¯ä»¥å»çœ‹çœ‹å®˜ç½‘çš„APIã€‚</p><h3 id="4-arr-del"><a href="#4-arr-del" class="headerlink" title="4. arr-del"></a>4. <a href="https://github.com/tywei90/arr-del" target="_blank" rel="external">arr-del</a></h3><p>arr-delæ˜¯æˆ‘è‡ªå·±å†™çš„ä¸€ä¸ªåˆ é™¤æ•°ç»„å…ƒç´ æ–¹æ³•çš„å·¥å…·ã€‚å¯ä»¥é€šè¿‡ä¼ å…¥å¾…åˆ é™¤æ•°ç»„å…ƒç´ indexç»„æˆçš„æ•°ç»„è¿›è¡Œä¸€æ¬¡æ€§åˆ é™¤ã€‚</p><h3 id="5-arr-sort"><a href="#5-arr-sort" class="headerlink" title="5. arr-sort"></a>5. <a href="https://github.com/tywei90/arr-sort" target="_blank" rel="external">arr-sort</a></h3><p>arr-sortæ˜¯æˆ‘è‡ªå·±å†™çš„ä¸€ä¸ªæ•°ç»„æ’åºæ–¹æ³•çš„å·¥å…·ã€‚å¯ä»¥æ ¹æ®ä¸€ä¸ªæˆ–è€…å¤šä¸ªå±æ€§è¿›è¡Œæ’åºï¼Œæ”¯æŒåµŒå¥—çš„å±æ€§ã€‚è€Œä¸”å¯ä»¥å†æ¯ä¸ªæ¡ä»¶ä¸­æŒ‡å®šæ’åºçš„æ–¹å‘ï¼Œå¹¶æ”¯æŒä¼ å…¥æ¯”è¾ƒå‡½æ•°ã€‚</p><h2 id="ä¸‰ã€é¡µé¢ç»“æ„åˆ†æ"><a href="#ä¸‰ã€é¡µé¢ç»“æ„åˆ†æ" class="headerlink" title="ä¸‰ã€é¡µé¢ç»“æ„åˆ†æ"></a>ä¸‰ã€é¡µé¢ç»“æ„åˆ†æ</h2><p>å…ˆå±¡ä¸€ä¸‹æˆ‘ä»¬çˆ¬å–çš„æ€è·¯ã€‚ç«‹é©¬ç†è´¢çº¿ä¸Šçš„äº§å“ä¸»è¦æ˜¯å®šæœŸå’Œç«‹é©¬é‡‘åº“(æœ€æ–°ä¸Šçº¿çš„å…‰å¤§é“¶è¡Œç†è´¢äº§å“å› ä¸ºæ‰‹ç»­æ¯”è¾ƒéº»çƒ¦ï¼Œè€Œä¸”èµ·æŠ•é‡‘é¢é«˜ï¼ŒåŸºæœ¬æ²¡äººä¹°ï¼Œè¿™é‡Œä¸ç»Ÿè®¡)ã€‚å®šæœŸæˆ‘ä»¬å¯ä»¥çˆ¬å–<a href="https://www.lmlc.com/web/product/index.html" target="_blank" rel="external">ç†è´¢é¡µ</a>çš„ajaxæ¥å£ï¼š<a href="https://www.lmlc.com/web/product/product_list?pageSize=10&amp;pageNo=1&amp;type=0" target="_blank" rel="external"><code>https://www.lmlc.com/web/product/product_list?pageSize=10&amp;pageNo=1&amp;type=0</code></a>ã€‚ï¼ˆupdate: å®šæœŸè¿‘æœŸæ²¡è´§ï¼Œå¯èƒ½çœ‹ä¸åˆ°æ•°æ®ï¼‰æ•°æ®å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/assets/img/product.png" alt="ç†è´¢é¡µajaxæ¥å£æ•°æ®" title="ç†è´¢é¡µajaxæ¥å£æ•°æ®"></p><p>è¿™é‡ŒåŒ…å«äº†æ‰€æœ‰çº¿ä¸Šæ­£åœ¨é”€å”®çš„å®šæœŸäº§å“ï¼Œajaxæ•°æ®åªæœ‰äº§å“æœ¬èº«ç›¸å…³çš„ä¿¡æ¯ï¼Œæ¯”å¦‚äº§å“idã€ç­¹é›†é‡‘é¢ã€å½“å‰é”€å”®é¢ã€å¹´åŒ–æ”¶ç›Šç‡ã€æŠ•èµ„å¤©æ•°ç­‰ï¼Œå¹¶æ²¡æœ‰äº§å“è¢«å“ªäº›ç”¨æˆ·è´­ä¹°çš„ä¿¡æ¯ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å¸¦ç€idå‚æ•°å»å®ƒçš„äº§å“è¯¦æƒ…é¡µçˆ¬å–ï¼Œæ¯”å¦‚<a href="https://www.lmlc.com/web/product/product_detail.html?id=201801151830PD84123651" target="_blank" rel="external">ç«‹é©¬èšè´¢-12æœˆæœŸHLB01239511</a>ã€‚è¯¦æƒ…é¡µæœ‰ä¸€æ æŠ•èµ„è®°å½•ï¼Œé‡Œè¾¹åŒ…å«äº†æˆ‘ä»¬éœ€è¦çš„ä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/assets/img/records.png" alt="è¯¦æƒ…é¡µæŠ•èµ„è®°å½•" title="è¯¦æƒ…é¡µæŠ•èµ„è®°å½•"></p><p>ä½†æ˜¯ï¼Œè¯¦æƒ…é¡µéœ€è¦æˆ‘ä»¬åœ¨ç™»å½•çš„çŠ¶æ€ä¸‹æ‰å¯ä»¥æŸ¥çœ‹ï¼Œè¿™å°±éœ€è¦æˆ‘ä»¬å¸¦ç€cookieå»è®¿é—®ï¼Œè€Œä¸”cookieæ˜¯æœ‰æœ‰æ•ˆæœŸé™åˆ¶çš„ï¼Œå¦‚ä½•ä¿æŒæˆ‘ä»¬cookieä¸€ç›´åœ¨ç™»å½•æ€å‘¢ï¼Ÿè¯·çœ‹åæ–‡ã€‚</p><p>å…¶å®ç«‹é©¬é‡‘åº“ä¹Ÿæœ‰ç±»ä¼¼çš„ajaxæ¥å£ï¼š<a href="https://www.lmlc.com/web/product/product_list?pageSize=10&amp;pageNo=1&amp;type=1" target="_blank" rel="external"><code>https://www.lmlc.com/web/product/product_list?pageSize=10&amp;pageNo=1&amp;type=1</code></a>ï¼Œä½†æ˜¯é‡Œè¾¹çš„ç›¸å…³æ•°æ®éƒ½æ˜¯å†™æ­»çš„ï¼Œæ²¡æœ‰æ„ä¹‰ã€‚è€Œä¸”<a href="https://www.lmlc.com/web/page/login/fund/jsFund.html" target="_blank" rel="external">é‡‘åº“çš„è¯¦æƒ…é¡µ</a>ä¹Ÿæ²¡æœ‰æŠ•èµ„è®°å½•ä¿¡æ¯ã€‚è¿™å°±éœ€è¦æˆ‘ä»¬çˆ¬å–ä¸€å¼€å§‹è¯´çš„é¦–é¡µçš„ajaxæ¥å£ï¼š<a href="https://www.lmlc.com/s/web/home/user_buying" target="_blank" rel="external"><code>https://www.lmlc.com/s/web/home/user_buying</code></a>ã€‚ä½†æ˜¯åæ¥æ‰å‘ç°è¿™ä¸ªæ¥å£æ˜¯ä¸‰åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡ï¼Œå°±æ˜¯è¯´åå°æ¯éš”ä¸‰åˆ†é’Ÿå‘æœåŠ¡å™¨è¯·æ±‚ä¸€æ¬¡æ•°æ®ã€‚è€Œä¸€æ¬¡æ˜¯10æ¡æ•°æ®ï¼Œæ‰€ä»¥å¦‚æœåœ¨ä¸‰åˆ†é’Ÿå†…ï¼Œè´­ä¹°äº§å“çš„è®°å½•æ•°è¶…è¿‡10æ¡ï¼Œæ•°æ®å°±ä¼šæœ‰é—æ¼ã€‚è¿™æ˜¯æ²¡æœ‰åŠæ³•çš„ï¼Œæ‰€ä»¥ç«‹é©¬é‡‘åº“çš„ç»Ÿè®¡æ•°æ®ä¼šæ¯”çœŸå®çš„åå°‘ã€‚</p><h2 id="å››ã€çˆ¬è™«ä»£ç åˆ†æ"><a href="#å››ã€çˆ¬è™«ä»£ç åˆ†æ" class="headerlink" title="å››ã€çˆ¬è™«ä»£ç åˆ†æ"></a>å››ã€çˆ¬è™«ä»£ç åˆ†æ</h2><h3 id="1-è·å–ç™»å½•cookie"><a href="#1-è·å–ç™»å½•cookie" class="headerlink" title="1. è·å–ç™»å½•cookie"></a>1. è·å–ç™»å½•cookie</h3><p>å› ä¸ºäº§å“è¯¦æƒ…é¡µéœ€è¦ç™»å½•ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å…ˆæ‹¿åˆ°ç™»å½•çš„cookieæ‰è¡Œã€‚getCookieæ–¹æ³•å¦‚ä¸‹ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getCookie</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    superagent.post(<span class="string">'https://www.lmlc.com/user/s/web/logon'</span>)</div><div class="line">        .type(<span class="string">'form'</span>)</div><div class="line">        .send(&#123;</div><div class="line">            <span class="attr">phone</span>: phone,</div><div class="line">            <span class="attr">password</span>: password,</div><div class="line">            <span class="attr">productCode</span>: <span class="string">"LMLC"</span>,</div><div class="line">            <span class="attr">origin</span>: <span class="string">"PC"</span></div><div class="line">        &#125;)</div><div class="line">        .end(<span class="function"><span class="keyword">function</span>(<span class="params">err, res</span>) </span>&#123;</div><div class="line">            <span class="keyword">if</span> (err) &#123;</div><div class="line">                handleErr(err.message);</div><div class="line">                <span class="keyword">return</span>;</div><div class="line">            &#125;</div><div class="line">            cookie = res.header[<span class="string">'set-cookie'</span>]; <span class="comment">//ä»responseä¸­å¾—åˆ°cookie</span></div><div class="line">            emitter.emit(<span class="string">"setCookeie"</span>);</div><div class="line">        &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>phoneå’Œpasswordå‚æ•°æ˜¯ä»å‘½ä»¤è¡Œé‡Œä¼ è¿›æ¥çš„ï¼Œå°±æ˜¯ç«‹é©¬ç†è´¢ç”¨æ‰‹æœºå·ç™»å½•çš„è´¦å·å’Œå¯†ç ã€‚æˆ‘ä»¬ç”¨superagentå»æ¨¡æ‹Ÿè¯·æ±‚ç«‹é©¬ç†è´¢ç™»å½•æ¥å£ï¼š<code>https://www.lmlc.com/user/s/web/logon</code>ã€‚ä¼ å…¥ç›¸åº”çš„å‚æ•°ï¼Œåœ¨å›è°ƒä¸­ï¼Œæˆ‘ä»¬æ‹¿åˆ°headerçš„set-cookieä¿¡æ¯ï¼Œå¹¶å‘å‡ºä¸€ä¸ªsetCookeieäº‹ä»¶ã€‚å› ä¸ºæˆ‘ä»¬è®¾ç½®äº†ç›‘å¬äº‹ä»¶ï¼š<code>emitter.on(&quot;setCookie&quot;, requestData)</code>ï¼Œæ‰€ä»¥ä¸€æ—¦è·å–cookieï¼Œæˆ‘ä»¬å°±ä¼šå»æ‰§è¡ŒrequestDataæ–¹æ³•ã€‚</p><h3 id="2-ç†è´¢é¡µajaxçš„çˆ¬å–"><a href="#2-ç†è´¢é¡µajaxçš„çˆ¬å–" class="headerlink" title="2. ç†è´¢é¡µajaxçš„çˆ¬å–"></a>2. ç†è´¢é¡µajaxçš„çˆ¬å–</h3><p>requestDataæ–¹æ³•çš„ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">requestData</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    superagent.get(<span class="string">'https://www.lmlc.com/web/product/product_list?pageSize=100&amp;pageNo=1&amp;type=0'</span>)</div><div class="line">    .end(<span class="function"><span class="keyword">function</span>(<span class="params">err,pres</span>)</span>&#123;</div><div class="line">        <span class="comment">// å¸¸è§„çš„é”™è¯¯å¤„ç†</span></div><div class="line">        <span class="keyword">if</span> (err) &#123;</div><div class="line">            handleErr(err.message);</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// åœ¨è¿™é‡Œæ¸…ç©ºæ•°æ®ï¼Œé¿å…ä¸€ä¸ªæ–‡ä»¶è¢«åŒæ—¶å†™å…¥</span></div><div class="line">        <span class="keyword">if</span>(clearProd)&#123;</div><div class="line">            fs.writeFileSync(<span class="string">'data/prod.json'</span>, <span class="built_in">JSON</span>.stringify([]));</div><div class="line">            clearProd = <span class="literal">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">let</span> addData = <span class="built_in">JSON</span>.parse(pres.text).data;</div><div class="line">        <span class="keyword">let</span> formatedAddData = formatData(addData.result);</div><div class="line">        <span class="keyword">let</span> pageUrls = [];</div><div class="line">        <span class="keyword">if</span>(addData.totalPage &gt; <span class="number">1</span>)&#123;</div><div class="line">            handleErr(<span class="string">'äº§å“ä¸ªæ•°è¶…è¿‡100ä¸ªï¼'</span>);</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>,len=addData.result.length; i&lt;len; i++)&#123;</div><div class="line">            <span class="keyword">if</span>(+<span class="keyword">new</span> <span class="built_in">Date</span>() &lt; addData.result[i].buyStartTime)&#123;</div><div class="line">                <span class="keyword">if</span>(preIds.indexOf(addData.result[i].id) == <span class="number">-1</span>)&#123;</div><div class="line">                    preIds.push(addData.result[i].id);</div><div class="line">                    setPreId(addData.result[i].buyStartTime, addData.result[i].id);</div><div class="line">                &#125;</div><div class="line">            &#125;<span class="keyword">else</span>&#123;</div><div class="line">                pageUrls.push(<span class="string">'https://www.lmlc.com/web/product/product_detail.html?id='</span> + addData.result[i].id);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="function"><span class="keyword">function</span> <span class="title">setPreId</span>(<span class="params">time, id</span>)</span>&#123;</div><div class="line">            cache[id] = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">                <span class="keyword">if</span>(time - (+<span class="keyword">new</span> <span class="built_in">Date</span>()) &lt; <span class="number">1000</span>)&#123;</div><div class="line">                    <span class="comment">// é¢„å”®äº§å“å¼€å§‹æŠ¢è´­ï¼Œç›´æ¥ä¿®æ”¹çˆ¬å–é¢‘æ¬¡ä¸º1sï¼Œé˜²æ­¢ä¸¢å¤±æ•°æ®</span></div><div class="line">                    clearInterval(cache[id]);</div><div class="line">                    clearInterval(timer);</div><div class="line">                    delay = <span class="number">1000</span>;</div><div class="line">                    timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">                        requestData();</div><div class="line">                    &#125;, delay);</div><div class="line">                    <span class="comment">// åŒæ—¶åˆ é™¤idè®°å½•</span></div><div class="line">                    <span class="keyword">let</span> index = preIds.indexOf(id);</div><div class="line">                    sort.delArrByIndex(preIds, [index]);</div><div class="line">                &#125;</div><div class="line">            &#125;, <span class="number">1000</span>)</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// å¤„ç†å”®å–é‡‘é¢ä¿¡æ¯</span></div><div class="line">        <span class="keyword">let</span> oldData = <span class="built_in">JSON</span>.parse(fs.readFileSync(<span class="string">'data/prod.json'</span>, <span class="string">'utf-8'</span>));</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>, len=formatedAddData.length; i&lt;len; i++)&#123;</div><div class="line">            <span class="keyword">let</span> isNewProduct = <span class="literal">true</span>;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> j=<span class="number">0</span>, len2=oldData.length; j&lt;len2; j++)&#123;</div><div class="line">                <span class="keyword">if</span>(formatedAddData[i].productId === oldData[j].productId)&#123;</div><div class="line">                    isNewProduct = <span class="literal">false</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span>(isNewProduct)&#123;</div><div class="line">                oldData.push(formatedAddData[i]);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        fs.writeFileSync(<span class="string">'data/prod.json'</span>, <span class="built_in">JSON</span>.stringify(oldData));</div><div class="line">        <span class="keyword">let</span> time = (<span class="keyword">new</span> <span class="built_in">Date</span>()).format(<span class="string">"yyyy-MM-dd hh:mm:ss"</span>);</div><div class="line">        <span class="built_in">console</span>.log((<span class="string">`ç†è´¢åˆ—è¡¨ajaxæ¥å£çˆ¬å–å®Œæ¯•ï¼Œæ—¶é—´ï¼š<span class="subst">$&#123;time&#125;</span>`</span>).warn);</div><div class="line">        <span class="keyword">if</span>(!pageUrls.length)&#123;</div><div class="line">            delay = <span class="number">32</span>*<span class="number">1000</span>;</div><div class="line">            clearInterval(timer);</div><div class="line">            timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">                requestData();</div><div class="line">            &#125;, delay);</div><div class="line">            <span class="keyword">return</span></div><div class="line">        &#125;</div><div class="line">        getDetailData();</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>ä»£ç å¾ˆé•¿ï¼ŒgetDetailDataå‡½æ•°ä»£ç åé¢åˆ†æã€‚</p><p>è¯·æ±‚çš„ajaxæ¥å£æ˜¯ä¸ªåˆ†é¡µæ¥å£ï¼Œå› ä¸ºä¸€èˆ¬åœ¨å”®çš„æ€»äº§å“æ•°ä¸ä¼šè¶…è¿‡10æ¡ï¼Œæˆ‘ä»¬è¿™é‡Œè®¾ç½®å‚æ•°pageSizeä¸º100ï¼Œè¿™æ ·å°±å¯ä»¥ä¸€æ¬¡æ€§è·å–æ‰€æœ‰äº§å“ã€‚</p><p>clearProdæ˜¯å…¨å±€resetä¿¡å·ï¼Œæ¯å¤©0ç‚¹æ•´çš„æ—¶å€™ï¼Œä¼šæ¸…ç©ºprod(å®šæœŸäº§å“)å’Œuser(é¦–é¡µç”¨æˆ·)æ•°æ®ã€‚</p><p>å› ä¸ºæœ‰æ—¶å€™äº§å“è¾ƒå°‘ä¼šé‡‡ç”¨æŠ¢è´­çš„æ–¹å¼ï¼Œæ¯”å¦‚æ¯å¤©10ç‚¹ï¼Œè¿™æ ·åœ¨æ¯å¤©10ç‚¹çš„æ—¶å€™æ•°æ®ä¼šæ›´æ–°å¾ˆå¿«ï¼Œæˆ‘ä»¬å¿…é¡»è¦å¢åŠ çˆ¬å–çš„é¢‘æ¬¡ï¼Œä»¥é˜²ä¸¢å¤±æ•°æ®ã€‚æ‰€ä»¥é’ˆå¯¹é¢„å”®äº§å“å³buyStartTimeå¤§äºå½“å‰æ—¶é—´ï¼Œæˆ‘ä»¬è¦è®°å½•ä¸‹ï¼Œå¹¶è®¾å®šè®¡æ—¶å™¨ï¼Œå½“å¼€å”®æ—¶ï¼Œè°ƒæ•´çˆ¬å–é¢‘æ¬¡ä¸º1æ¬¡/ç§’ï¼Œè§setPreIdæ–¹æ³•ã€‚</p><p>å¦‚æœæ²¡æœ‰æ­£åœ¨å”®å–çš„äº§å“ï¼Œå³pageUrlsä¸ºç©ºï¼Œæˆ‘ä»¬å°†çˆ¬å–çš„é¢‘æ¬¡è®¾ç½®ä¸ºæœ€å¤§32sã€‚</p><p>requestDataå‡½æ•°çš„è¿™éƒ¨åˆ†ä»£ç ä¸»è¦è®°å½•ä¸‹æ˜¯å¦æœ‰æ–°äº§å“ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œæ–°å»ºä¸€ä¸ªå¯¹è±¡ï¼Œè®°å½•äº§å“ä¿¡æ¯ï¼Œpushåˆ°prodæ•°ç»„é‡Œã€‚prod.jsonæ•°æ®ç»“æ„å¦‚ä¸‹ï¼š<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">[&#123;</div><div class="line">  <span class="attr">"productName"</span>: <span class="string">"ç«‹é©¬èšè´¢-12æœˆæœŸHLB01230901"</span>,</div><div class="line">  <span class="attr">"financeTotalAmount"</span>: <span class="number">1000000</span>,</div><div class="line">  <span class="attr">"productId"</span>: <span class="string">"201801151830PD84123120"</span>,</div><div class="line">  <span class="attr">"yearReturnRate"</span>: <span class="number">6.4</span>,</div><div class="line">  <span class="attr">"investementDays"</span>: <span class="number">364</span>,</div><div class="line">  <span class="attr">"interestStartTime"</span>: <span class="string">"2018å¹´01æœˆ23æ—¥"</span>,</div><div class="line">  <span class="attr">"interestEndTime"</span>: <span class="string">"2019å¹´01æœˆ22æ—¥"</span>,</div><div class="line">  <span class="attr">"getDataTime"</span>: <span class="number">1516118401299</span>,</div><div class="line">  <span class="attr">"alreadyBuyAmount"</span>: <span class="number">875000</span>,</div><div class="line">  <span class="attr">"records"</span>: [</div><div class="line">  &#123;</div><div class="line">    <span class="attr">"username"</span>: <span class="string">"åˆ˜**"</span>,</div><div class="line">    <span class="attr">"buyTime"</span>: <span class="number">1516117093472</span>,</div><div class="line">    <span class="attr">"buyAmount"</span>: <span class="number">30000</span>,</div><div class="line">    <span class="attr">"uniqueId"</span>: <span class="string">"åˆ˜**151611709347230,000å…ƒ"</span></div><div class="line">  &#125;,</div><div class="line">  &#123;</div><div class="line">    <span class="attr">"username"</span>: <span class="string">"åˆ˜**"</span>,</div><div class="line">    <span class="attr">"buyTime"</span>: <span class="number">1516116780799</span>,</div><div class="line">    <span class="attr">"buyAmount"</span>: <span class="number">50000</span>,</div><div class="line">    <span class="attr">"uniqueId"</span>: <span class="string">"åˆ˜**151611678079950,000å…ƒ"</span></div><div class="line">  &#125;]</div><div class="line">&#125;]</div></pre></td></tr></table></figure></p><p>æ˜¯ä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼Œæ¯ä¸ªå¯¹è±¡è¡¨ç¤ºä¸€ä¸ªæ–°äº§å“ï¼Œrecordså±æ€§è®°å½•ç€å”®å–ä¿¡æ¯ã€‚</p><h3 id="3-äº§å“è¯¦æƒ…é¡µçš„çˆ¬å–"><a href="#3-äº§å“è¯¦æƒ…é¡µçš„çˆ¬å–" class="headerlink" title="3. äº§å“è¯¦æƒ…é¡µçš„çˆ¬å–"></a>3. äº§å“è¯¦æƒ…é¡µçš„çˆ¬å–</h3><p>æˆ‘ä»¬å†çœ‹ä¸‹getDetailDataçš„ä»£ç ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getDetailData</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// è¯·æ±‚ç”¨æˆ·ä¿¡æ¯æ¥å£ï¼Œæ¥åˆ¤æ–­ç™»å½•æ˜¯å¦è¿˜æœ‰æ•ˆï¼Œåœ¨äº§å“è¯¦æƒ…é¡µåˆ¤æ–­éº»çƒ¦è¿˜è¦é€ æˆäº”æ¬¡ç™»å½•è¯·æ±‚</span></div><div class="line">    superagent</div><div class="line">        .post(<span class="string">'https://www.lmlc.com/s/web/m/user_info'</span>)</div><div class="line">        .set(<span class="string">'Cookie'</span>, cookie)</div><div class="line">        .end(<span class="function"><span class="keyword">function</span>(<span class="params">err,pres</span>)</span>&#123;</div><div class="line">        <span class="comment">// å¸¸è§„çš„é”™è¯¯å¤„ç†</span></div><div class="line">        <span class="keyword">if</span> (err) &#123;</div><div class="line">            handleErr(err.message);</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">let</span> retcode = <span class="built_in">JSON</span>.parse(pres.text).retcode;</div><div class="line">        <span class="keyword">if</span>(retcode === <span class="number">410</span>)&#123;</div><div class="line">            handleErr(<span class="string">'ç™»é™†cookieå·²å¤±æ•ˆï¼Œå°è¯•é‡æ–°ç™»é™†...'</span>);</div><div class="line">            getCookie();</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">var</span> reptileLink = <span class="function"><span class="keyword">function</span>(<span class="params">url,callback</span>)</span>&#123;</div><div class="line">            <span class="comment">// å¦‚æœçˆ¬å–é¡µé¢æœ‰é™åˆ¶çˆ¬å–æ¬¡æ•°ï¼Œè¿™é‡Œå¯è®¾ç½®å»¶è¿Ÿ</span></div><div class="line">            <span class="built_in">console</span>.log( <span class="string">'æ­£åœ¨çˆ¬å–äº§å“è¯¦æƒ…é¡µé¢ï¼š'</span> + url);</div><div class="line">            superagent</div><div class="line">                .get(url)</div><div class="line">                .set(<span class="string">'Cookie'</span>, cookie)</div><div class="line">                .end(<span class="function"><span class="keyword">function</span>(<span class="params">err,pres</span>)</span>&#123;</div><div class="line">                    <span class="comment">// å¸¸è§„çš„é”™è¯¯å¤„ç†</span></div><div class="line">                    <span class="keyword">if</span> (err) &#123;</div><div class="line">                        handleErr(err.message);</div><div class="line">                        <span class="keyword">return</span>;</div><div class="line">                    &#125;</div><div class="line">                    <span class="keyword">var</span> $ = cheerio.load(pres.text);</div><div class="line">                    <span class="keyword">var</span> records = [];</div><div class="line">                    <span class="keyword">var</span> $table = $(<span class="string">'.buy-records table'</span>);</div><div class="line">                    <span class="keyword">if</span>(!$table.length)&#123;</div><div class="line">                        $table = $(<span class="string">'.tabcontent table'</span>);</div><div class="line">                    &#125;</div><div class="line">                    <span class="keyword">var</span> $tr = $table.find(<span class="string">'tr'</span>).slice(<span class="number">1</span>);</div><div class="line">                    $tr.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">                        records.push(&#123;</div><div class="line">                            <span class="attr">username</span>: $(<span class="string">'td'</span>, $(<span class="keyword">this</span>)).eq(<span class="number">0</span>).text(),</div><div class="line">                            <span class="attr">buyTime</span>: <span class="built_in">parseInt</span>($(<span class="string">'td'</span>, $(<span class="keyword">this</span>)).eq(<span class="number">1</span>).attr(<span class="string">'data-time'</span>).replace(<span class="regexp">/,/g</span>, <span class="string">''</span>)),</div><div class="line">                            <span class="attr">buyAmount</span>: <span class="built_in">parseFloat</span>($(<span class="string">'td'</span>, $(<span class="keyword">this</span>)).eq(<span class="number">2</span>).text().replace(<span class="regexp">/,/g</span>, <span class="string">''</span>)),</div><div class="line">                            <span class="attr">uniqueId</span>: $(<span class="string">'td'</span>, $(<span class="keyword">this</span>)).eq(<span class="number">0</span>).text() + $(<span class="string">'td'</span>, $(<span class="keyword">this</span>)).eq(<span class="number">1</span>).attr(<span class="string">'data-time'</span>).replace(<span class="regexp">/,/g</span>, <span class="string">''</span>) + $(<span class="string">'td'</span>, $(<span class="keyword">this</span>)).eq(<span class="number">2</span>).text()</div><div class="line">                        &#125;)</div><div class="line">                    &#125;);</div><div class="line">                    callback(<span class="literal">null</span>, &#123;</div><div class="line">                        <span class="attr">productId</span>: url.split(<span class="string">'?id='</span>)[<span class="number">1</span>],</div><div class="line">                        <span class="attr">records</span>: records</div><div class="line">                    &#125;);</div><div class="line">                &#125;);</div><div class="line">        &#125;;</div><div class="line">        <span class="keyword">async</span>.mapLimit(pageUrls, <span class="number">10</span> ,<span class="function"><span class="keyword">function</span> (<span class="params">url, callback</span>) </span>&#123;</div><div class="line">          reptileLink(url, callback);</div><div class="line">        &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">err,result</span>) </span>&#123;</div><div class="line">            <span class="keyword">let</span> time = (<span class="keyword">new</span> <span class="built_in">Date</span>()).format(<span class="string">"yyyy-MM-dd hh:mm:ss"</span>);</div><div class="line">            <span class="built_in">console</span>.log(<span class="string">`æ‰€æœ‰äº§å“è¯¦æƒ…é¡µçˆ¬å–å®Œæ¯•ï¼Œæ—¶é—´ï¼š<span class="subst">$&#123;time&#125;</span>`</span>.info);</div><div class="line">            <span class="keyword">let</span> oldRecord = <span class="built_in">JSON</span>.parse(fs.readFileSync(<span class="string">'data/prod.json'</span>, <span class="string">'utf-8'</span>));</div><div class="line">            <span class="keyword">let</span> counts = [];</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>,len=result.length; i&lt;len; i++)&#123;</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">let</span> j=<span class="number">0</span>,len2=oldRecord.length; j&lt;len2; j++)&#123;</div><div class="line">                    <span class="keyword">if</span>(result[i].productId === oldRecord[j].productId)&#123;</div><div class="line">                        <span class="keyword">let</span> count = <span class="number">0</span>;</div><div class="line">                        <span class="keyword">let</span> newRecords = [];</div><div class="line">                        <span class="keyword">for</span>(<span class="keyword">let</span> k=<span class="number">0</span>,len3=result[i].records.length; k&lt;len3; k++)&#123;</div><div class="line">                            <span class="keyword">let</span> isNewRec = <span class="literal">true</span>;</div><div class="line">                            <span class="keyword">for</span>(<span class="keyword">let</span> m=<span class="number">0</span>,len4=oldRecord[j].records.length; m&lt;len4; m++)&#123;</div><div class="line">                                <span class="keyword">if</span>(result[i].records[k].uniqueId === oldRecord[j].records[m].uniqueId)&#123;</div><div class="line">                                    isNewRec = <span class="literal">false</span>;</div><div class="line">                                &#125;</div><div class="line">                            &#125;</div><div class="line">                            <span class="keyword">if</span>(isNewRec)&#123;</div><div class="line">                                count++;</div><div class="line">                                newRecords.push(result[i].records[k]);</div><div class="line">                            &#125;</div><div class="line">                        &#125;</div><div class="line">                        oldRecord[j].records = oldRecord[j].records.concat(newRecords);</div><div class="line">                        counts.push(count);</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">let</span> oldDelay = delay;</div><div class="line">            delay = getNewDelay(delay, counts);</div><div class="line">            <span class="function"><span class="keyword">function</span> <span class="title">getNewDelay</span>(<span class="params">delay, counts</span>)</span>&#123;</div><div class="line">                <span class="keyword">let</span> nowDate = (<span class="keyword">new</span> <span class="built_in">Date</span>()).toLocaleDateString();</div><div class="line">                <span class="keyword">let</span> time1 = <span class="built_in">Date</span>.parse(nowDate + <span class="string">' 00:00:00'</span>);</div><div class="line">                <span class="keyword">let</span> time2 = +<span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">                <span class="comment">// æ ¹æ®è¿™æ¬¡æ›´æ–°æƒ…å†µï¼Œæ¥åŠ¨æ€è®¾ç½®çˆ¬å–é¢‘æ¬¡</span></div><div class="line">                <span class="keyword">let</span> maxNum = <span class="built_in">Math</span>.max(...counts);</div><div class="line">                <span class="keyword">if</span>(maxNum &gt;=<span class="number">0</span> &amp;&amp; maxNum &lt;= <span class="number">2</span>)&#123;</div><div class="line">                    delay = delay + <span class="number">1000</span>;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span>(maxNum &gt;=<span class="number">8</span> &amp;&amp; maxNum &lt;= <span class="number">10</span>)&#123;</div><div class="line">                    delay = delay/<span class="number">2</span>;</div><div class="line">                &#125;</div><div class="line">                <span class="comment">// æ¯å¤©0ç‚¹ï¼Œprodæ•°æ®æ¸…ç©ºï¼Œæ’é™¤è¿™ä¸ªæƒ…å†µ</span></div><div class="line">                <span class="keyword">if</span>(maxNum == <span class="number">10</span> &amp;&amp; (time2 - time1 &gt;= <span class="number">60</span>*<span class="number">1000</span>))&#123;</div><div class="line">                    handleErr(<span class="string">'éƒ¨åˆ†æ•°æ®å¯èƒ½ä¸¢å¤±ï¼'</span>);</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span>(delay &lt;= <span class="number">1000</span>)&#123;</div><div class="line">                    delay = <span class="number">1000</span>;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span>(delay &gt;= <span class="number">32</span>*<span class="number">1000</span>)&#123;</div><div class="line">                    delay = <span class="number">32</span>*<span class="number">1000</span>;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">return</span> delay</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span>(oldDelay != delay)&#123;</div><div class="line">                clearInterval(timer);</div><div class="line">                timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">                    requestData();</div><div class="line">                &#125;, delay);</div><div class="line">            &#125;</div><div class="line">            fs.writeFileSync(<span class="string">'data/prod.json'</span>, <span class="built_in">JSON</span>.stringify(oldRecord));</div><div class="line">        &#125;)</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>æˆ‘ä»¬å…ˆå»è¯·æ±‚ç”¨æˆ·ä¿¡æ¯æ¥å£ï¼Œæ¥åˆ¤æ–­ç™»å½•æ˜¯å¦è¿˜æœ‰æ•ˆï¼Œå› ä¸ºåœ¨äº§å“è¯¦æƒ…é¡µåˆ¤æ–­éº»çƒ¦è¿˜è¦é€ æˆäº”æ¬¡ç™»å½•è¯·æ±‚ã€‚å¸¦cookieè¯·æ±‚å¾ˆç®€å•ï¼Œåœ¨poståé¢setä¸‹æˆ‘ä»¬ä¹‹å‰å¾—åˆ°çš„cookieå³å¯ï¼š<code>.set(&#39;Cookie&#39;, cookie)</code>ã€‚å¦‚æœåå°è¿”å›çš„retcodeä¸º410è¡¨ç¤ºç™»å½•çš„cookieå·²å¤±æ•ˆï¼Œéœ€è¦é‡æ–°æ‰§è¡ŒgetCookie()ã€‚è¿™æ ·å°±èƒ½ä¿è¯çˆ¬è™«ä¸€ç›´åœ¨ç™»å½•çŠ¶æ€ã€‚</p><p>asyncçš„mapLimitæ–¹æ³•ï¼Œä¼šå°†pageUrlsè¿›è¡Œå¹¶å‘è¯·æ±‚ï¼Œä¸€æ¬¡å¹¶å‘é‡ä¸º10ã€‚å¯¹äºæ¯ä¸ªpageUrlä¼šæ‰§è¡ŒreptileLinkæ–¹æ³•ã€‚ç­‰æ‰€æœ‰çš„å¼‚æ­¥æ‰§è¡Œå®Œæ¯•åï¼Œå†æ‰§è¡Œå›è°ƒå‡½æ•°ã€‚å›è°ƒå‡½æ•°çš„resultå‚æ•°æ˜¯æ¯ä¸ªreptileLinkå‡½æ•°è¿”å›æ•°æ®ç»„æˆçš„æ•°ç»„ã€‚</p><p>reptileLinkå‡½æ•°æ˜¯è·å–äº§å“è¯¦æƒ…é¡µçš„æŠ•èµ„è®°å½•åˆ—è¡¨ä¿¡æ¯ï¼ŒuniqueIdæ˜¯ç”±å·²çŸ¥çš„usernameã€buyTimeã€buyAmountå‚æ•°ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œç”¨æ¥æ’é‡çš„ã€‚</p><p>asyncçš„å›è°ƒä¸»è¦æ˜¯å°†æœ€æ–°çš„æŠ•èµ„è®°å½•ä¿¡æ¯å†™å…¥å¯¹åº”çš„äº§å“å¯¹è±¡é‡Œï¼ŒåŒæ—¶ç”Ÿæˆäº†countsæ•°ç»„ã€‚countsæ•°ç»„æ˜¯æ¯ä¸ªäº§å“è¿™æ¬¡çˆ¬å–æ–°å¢çš„å”®å–è®°å½•ä¸ªæ•°ç»„æˆçš„æ•°ç»„ï¼Œå’Œdelayä¸€èµ·ä¼ å…¥getNewDelayå‡½æ•°ã€‚getNewDelayåŠ¨æ€è°ƒèŠ‚çˆ¬å–é¢‘æ¬¡ï¼Œcountsæ˜¯è°ƒèŠ‚delayçš„å”¯ä¸€ä¾æ®ã€‚delayè¿‡å¤§å¯èƒ½äº§ç”Ÿæ•°æ®ä¸¢å¤±ï¼Œè¿‡å°ä¼šå¢åŠ æœåŠ¡å™¨è´Ÿæ‹…ï¼Œå¯èƒ½ä¼šè¢«ç®¡ç†å‘˜å°ipã€‚è¿™é‡Œè®¾ç½®delayæœ€å¤§å€¼ä¸º32ï¼Œæœ€å°å€¼ä¸º1ã€‚</p><h3 id="4-é¦–é¡µç”¨æˆ·ajaxçˆ¬å–"><a href="#4-é¦–é¡µç”¨æˆ·ajaxçˆ¬å–" class="headerlink" title="4. é¦–é¡µç”¨æˆ·ajaxçˆ¬å–"></a>4. é¦–é¡µç”¨æˆ·ajaxçˆ¬å–</h3><p>å…ˆä¸Šä»£ç ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">requestData1</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    superagent.get(ajaxUrl1)</div><div class="line">    .end(<span class="function"><span class="keyword">function</span>(<span class="params">err,pres</span>)</span>&#123;</div><div class="line">        <span class="comment">// å¸¸è§„çš„é”™è¯¯å¤„ç†</span></div><div class="line">        <span class="keyword">if</span> (err) &#123;</div><div class="line">            handleErr(err.message);</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">let</span> newData = <span class="built_in">JSON</span>.parse(pres.text).data;</div><div class="line">        <span class="keyword">let</span> formatNewData = formatData1(newData);</div><div class="line">        <span class="comment">// åœ¨è¿™é‡Œæ¸…ç©ºæ•°æ®ï¼Œé¿å…ä¸€ä¸ªæ–‡ä»¶è¢«åŒæ—¶å†™å…¥</span></div><div class="line">        <span class="keyword">if</span>(clearUser)&#123;</div><div class="line">            fs.writeFileSync(<span class="string">'data/user.json'</span>, <span class="string">''</span>);</div><div class="line">            clearUser = <span class="literal">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">let</span> data = fs.readFileSync(<span class="string">'data/user.json'</span>, <span class="string">'utf-8'</span>);</div><div class="line">        <span class="keyword">if</span>(!data)&#123;</div><div class="line">            fs.writeFileSync(<span class="string">'data/user.json'</span>, <span class="built_in">JSON</span>.stringify(formatNewData));</div><div class="line">            <span class="keyword">let</span> time = (<span class="keyword">new</span> <span class="built_in">Date</span>()).format(<span class="string">"yyyy-MM-dd hh:mm:ss"</span>);</div><div class="line">            <span class="built_in">console</span>.log((<span class="string">`é¦–é¡µç”¨æˆ·è´­ä¹°ajaxçˆ¬å–å®Œæ¯•ï¼Œæ—¶é—´ï¼š<span class="subst">$&#123;time&#125;</span>`</span>).silly);</div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">            <span class="keyword">let</span> oldData = <span class="built_in">JSON</span>.parse(data);</div><div class="line">            <span class="keyword">let</span> addData = [];</div><div class="line">            <span class="comment">// æ’é‡ç®—æ³•ï¼Œå¦‚æœuniqueIdä¸ä¸€æ ·é‚£è‚¯å®šæ˜¯æ–°ç”Ÿæˆçš„ï¼Œå¦åˆ™çœ‹æ—¶é—´å·®å¦‚æœæ˜¯0(ä¸‰åˆ†é’Ÿå†…è¯·æ±‚å¤šæ¬¡)æˆ–è€…ä¸‰åˆ†é’Ÿåˆ™æ˜¯æ—§æ•°æ®</span></div><div class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>, len=formatNewData.length; i&lt;len; i++)&#123;</div><div class="line">                <span class="keyword">let</span> matchArr = [];</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">let</span> len2=oldData.length, j=<span class="built_in">Math</span>.max(<span class="number">0</span>,len2 - <span class="number">20</span>); j&lt;len2; j++)&#123;</div><div class="line">                    <span class="keyword">if</span>(formatNewData[i].uniqueId === oldData[j].uniqueId)&#123;</div><div class="line">                        matchArr.push(j);</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span>(matchArr.length === <span class="number">0</span>)&#123;</div><div class="line">                    addData.push(formatNewData[i]);</div><div class="line">                &#125;<span class="keyword">else</span>&#123;</div><div class="line">                    <span class="keyword">let</span> isNewBuy = <span class="literal">true</span>;</div><div class="line">                    <span class="keyword">for</span>(<span class="keyword">let</span> k=<span class="number">0</span>, len3=matchArr.length; k&lt;len3; k++)&#123;</div><div class="line">                        <span class="keyword">let</span> delta = formatNewData[i].time - oldData[matchArr[k]].time;</div><div class="line">                        <span class="keyword">if</span>(delta == <span class="number">0</span> || (<span class="built_in">Math</span>.abs(delta - <span class="number">3</span>*<span class="number">60</span>*<span class="number">1000</span>) &lt; <span class="number">1000</span>))&#123;</div><div class="line">                            isNewBuy = <span class="literal">false</span>;</div><div class="line">                            <span class="comment">// æ›´æ–°æ—¶é—´ï¼Œè¿™æ ·ä¸‹ä¸€æ¬¡åˆ¤æ–­è¿˜æ˜¯ä¸‰åˆ†é’Ÿ</span></div><div class="line">                            oldData[matchArr[k]].time = formatNewData[i].time;</div><div class="line">                        &#125;</div><div class="line">                    &#125;</div><div class="line">                    <span class="keyword">if</span>(isNewBuy)&#123;</div><div class="line">                        addData.push(formatNewData[i]);</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            fs.writeFileSync(<span class="string">'data/user.json'</span>, <span class="built_in">JSON</span>.stringify(oldData.concat(addData)));</div><div class="line">            <span class="keyword">let</span> time = (<span class="keyword">new</span> <span class="built_in">Date</span>()).format(<span class="string">"yyyy-MM-dd hh:mm:ss"</span>);</div><div class="line">            <span class="built_in">console</span>.log((<span class="string">`é¦–é¡µç”¨æˆ·è´­ä¹°ajaxçˆ¬å–å®Œæ¯•ï¼Œæ—¶é—´ï¼š<span class="subst">$&#123;time&#125;</span>`</span>).silly);</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>user.jsçš„çˆ¬å–å’Œprod.jsç±»ä¼¼ï¼Œè¿™é‡Œä¸»è¦æƒ³è¯´ä¸€ä¸‹å¦‚ä½•æ’é‡çš„ã€‚user.jsonæ•°æ®æ ¼å¼å¦‚ä¸‹ï¼š<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line">&#123;</div><div class="line">  <span class="attr">"payAmount"</span>: <span class="number">5067.31</span>,</div><div class="line">  <span class="attr">"productId"</span>: <span class="string">"jsfund"</span>,</div><div class="line">  <span class="attr">"productName"</span>: <span class="string">"ç«‹é©¬é‡‘åº“"</span>,</div><div class="line">  <span class="attr">"productType"</span>: <span class="number">6</span>,</div><div class="line">  <span class="attr">"time"</span>: <span class="number">1548489</span>,</div><div class="line">  <span class="attr">"username"</span>: <span class="string">"éƒ‘**"</span>,</div><div class="line">  <span class="attr">"buyTime"</span>: <span class="number">1516118397758</span>,</div><div class="line">  <span class="attr">"uniqueId"</span>: <span class="string">"5067.31jsfundéƒ‘**"</span></div><div class="line">&#125;, &#123;</div><div class="line">  <span class="attr">"payAmount"</span>: <span class="number">30000</span>,</div><div class="line">  <span class="attr">"productId"</span>: <span class="string">"201801151830PD84123120"</span>,</div><div class="line">  <span class="attr">"productName"</span>: <span class="string">"ç«‹é©¬èšè´¢-12æœˆæœŸHLB01230901"</span>,</div><div class="line">  <span class="attr">"productType"</span>: <span class="number">0</span>,</div><div class="line">  <span class="attr">"time"</span>: <span class="number">1306573</span>,</div><div class="line">  <span class="attr">"username"</span>: <span class="string">"åˆ˜**"</span>,</div><div class="line">  <span class="attr">"buyTime"</span>: <span class="number">1516117199684</span>,</div><div class="line">  <span class="attr">"uniqueId"</span>: <span class="string">"30000201801151830PD84123120åˆ˜**"</span></div><div class="line">&#125;]</div></pre></td></tr></table></figure></p><p>å’Œäº§å“è¯¦æƒ…é¡µç±»ä¼¼ï¼Œæˆ‘ä»¬ä¹Ÿç”Ÿæˆä¸€ä¸ªuniqueIdå‚æ•°ç”¨æ¥æ’é™¤ï¼Œå®ƒæ˜¯payAmountã€productIdã€usernameå‚æ•°çš„æ‹¼æˆçš„å­—ç¬¦ä¸²ã€‚å¦‚æœuniqueIdä¸ä¸€æ ·ï¼Œé‚£è‚¯å®šæ˜¯ä¸€æ¡æ–°çš„è®°å½•ã€‚å¦‚æœç›¸åŒé‚£ä¸€å®šæ˜¯ä¸€æ¡æ–°è®°å½•å—ï¼Ÿç­”æ¡ˆæ˜¯å¦å®šçš„ã€‚å› ä¸ºè¿™ä¸ªæ¥å£æ•°æ®æ˜¯ä¸‰åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡ï¼Œè€Œä¸”ç»™å‡ºçš„æ—¶é—´æ˜¯ç›¸å¯¹æ—¶é—´ï¼Œå³æ•°æ®æ›´æ–°æ—¶çš„æ—¶é—´å‡å»è´­ä¹°çš„æ—¶é—´ã€‚æ‰€ä»¥æ¯æ¬¡æ›´æ–°åï¼Œå³ä½¿æ˜¯åŒä¸€æ¡è®°å½•ï¼Œæ—¶é—´ä¹Ÿä¼šä¸ä¸€æ ·ã€‚é‚£å¦‚ä½•æ’é‡å‘¢ï¼Ÿå…¶å®å¾ˆç®€å•ï¼Œå¦‚æœuniqueIdä¸€æ ·ï¼Œæˆ‘ä»¬å°±åˆ¤æ–­è¿™ä¸ªbuyTimeï¼Œå¦‚æœbuyTimeçš„å·®æ­£å¥½æ¥è¿‘180sï¼Œé‚£ä¹ˆå‡ ä¹å¯ä»¥è‚¯å®šæ˜¯æ—§æ•°æ®ã€‚å¦‚æœåŒä¸€ä¸ªäººæ­£å¥½åœ¨ä¸‰åˆ†é’Ÿåè´­ä¹°åŒä¸€ä¸ªäº§å“ç›¸åŒçš„é‡‘é¢é‚£æˆ‘ä¹Ÿæ²¡è¾™äº†ï¼Œå“ˆå“ˆã€‚</p><h3 id="5-é›¶ç‚¹æ•´åˆæ•°æ®"><a href="#5-é›¶ç‚¹æ•´åˆæ•°æ®" class="headerlink" title="5. é›¶ç‚¹æ•´åˆæ•°æ®"></a>5. é›¶ç‚¹æ•´åˆæ•°æ®</h3><p>æ¯å¤©é›¶ç‚¹æˆ‘ä»¬éœ€è¦æ•´ç†user.jsonå’Œprod.jsonæ•°æ®ï¼Œç”Ÿæˆæœ€ç»ˆçš„æ•°æ®ã€‚ä»£ç ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> globalTimer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">let</span> nowTime = +<span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">    <span class="keyword">let</span> nowStr = (<span class="keyword">new</span> <span class="built_in">Date</span>()).format(<span class="string">"hh:mm:ss"</span>);</div><div class="line">    <span class="keyword">let</span> max = nowTime;</div><div class="line">    <span class="keyword">let</span> min = nowTime - <span class="number">24</span>*<span class="number">60</span>*<span class="number">60</span>*<span class="number">1000</span>;</div><div class="line">    <span class="comment">// æ¯å¤©00:00åˆ†çš„æ—¶å€™å†™å…¥å½“å¤©çš„æ•°æ®</span></div><div class="line">    <span class="keyword">if</span>(nowStr === <span class="string">"00:00:00"</span>)&#123;</div><div class="line">        <span class="comment">// å…ˆä¿å­˜æ•°æ®</span></div><div class="line">        <span class="keyword">let</span> prod = <span class="built_in">JSON</span>.parse(fs.readFileSync(<span class="string">'data/prod.json'</span>, <span class="string">'utf-8'</span>));</div><div class="line">        <span class="keyword">let</span> user = <span class="built_in">JSON</span>.parse(fs.readFileSync(<span class="string">'data/user.json'</span>, <span class="string">'utf-8'</span>));</div><div class="line">        <span class="keyword">let</span> lmlc = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(prod));</div><div class="line">        <span class="comment">// æ¸…ç©ºç¼“å­˜æ•°æ®</span></div><div class="line">        clearProd = <span class="literal">true</span>;</div><div class="line">        clearUser = <span class="literal">true</span>;</div><div class="line">        <span class="comment">// ä¸è¶³ä¸€å¤©çš„ä¸ç»Ÿè®¡</span></div><div class="line">        <span class="comment">// if(nowTime - initialTime &lt; 24*60*60*1000) return</span></div><div class="line">        <span class="comment">// ç­›é€‰prod.recordsæ•°æ®</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>, len=prod.length; i&lt;len; i++)&#123;</div><div class="line">            <span class="keyword">let</span> delArr1 = [];</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> j=<span class="number">0</span>, len2=prod[i].records.length; j&lt;len2; j++)&#123;</div><div class="line">                <span class="keyword">if</span>(prod[i].records[j].buyTime &lt; min || prod[i].records[j].buyTime &gt;= max)&#123;</div><div class="line">                    delArr1.push(j);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            sort.delArrByIndex(lmlc[i].records, delArr1);</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// åˆ æ‰prod.recordsä¸ºç©ºçš„æ•°æ®</span></div><div class="line">        <span class="keyword">let</span> delArr2 = [];</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>, len=lmlc.length; i&lt;len; i++)&#123;</div><div class="line">            <span class="keyword">if</span>(!lmlc[i].records.length)&#123;</div><div class="line">                delArr2.push(i);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        sort.delArrByIndex(lmlc, delArr2);</div><div class="line"></div><div class="line">        <span class="comment">// åˆå§‹åŒ–lmlcé‡Œçš„ç«‹é©¬é‡‘åº“æ•°æ®</span></div><div class="line">        lmlc.unshift(&#123;</div><div class="line">            <span class="string">"productName"</span>: <span class="string">"ç«‹é©¬é‡‘åº“"</span>,</div><div class="line">            <span class="string">"financeTotalAmount"</span>: <span class="number">100000000</span>,</div><div class="line">            <span class="string">"productId"</span>: <span class="string">"jsfund"</span>,</div><div class="line">            <span class="string">"yearReturnRate"</span>: <span class="number">4.0</span>,</div><div class="line">            <span class="string">"investementDays"</span>: <span class="number">1</span>,</div><div class="line">            <span class="string">"interestStartTime"</span>: (<span class="keyword">new</span> <span class="built_in">Date</span>(min)).format(<span class="string">"yyyyå¹´MMæœˆddæ—¥"</span>),</div><div class="line">            <span class="string">"interestEndTime"</span>: (<span class="keyword">new</span> <span class="built_in">Date</span>(max)).format(<span class="string">"yyyyå¹´MMæœˆddæ—¥"</span>),</div><div class="line">            <span class="string">"getDataTime"</span>: min,</div><div class="line">            <span class="string">"alreadyBuyAmount"</span>: <span class="number">0</span>,</div><div class="line">            <span class="string">"records"</span>: []</div><div class="line">        &#125;);</div><div class="line">        <span class="comment">// ç­›é€‰useræ•°æ®</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>, len=user.length; i&lt;len; i++)&#123;</div><div class="line">            <span class="keyword">if</span>(user[i].productId === <span class="string">"jsfund"</span> &amp;&amp; user[i].buyTime &gt;= min &amp;&amp; user[i].buyTime &lt; max)&#123;</div><div class="line">                lmlc[<span class="number">0</span>].records.push(&#123;</div><div class="line">                    <span class="string">"username"</span>: user[i].username,</div><div class="line">                    <span class="string">"buyTime"</span>: user[i].buyTime,</div><div class="line">                    <span class="string">"buyAmount"</span>: user[i].payAmount,</div><div class="line">                &#125;);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// åˆ é™¤æ— ç”¨å±æ€§ï¼ŒæŒ‰ç…§æ—¶é—´æ’åº</span></div><div class="line">        lmlc[<span class="number">0</span>].records.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> a.buyTime - b.buyTime&#125;);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>, len=lmlc.length; i&lt;len; i++)&#123;</div><div class="line">            lmlc[i].records.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;<span class="keyword">return</span> a.buyTime - b.buyTime&#125;);</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> j=<span class="number">0</span>, len2=lmlc[i].records.length; j&lt;len2; j++)&#123;</div><div class="line">                <span class="keyword">delete</span> lmlc[i].records[j].uniqueId</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// çˆ¬å–é‡‘åº“æ”¶ç›Šï¼Œå†™å…¥å‰ä¸€å¤©çš„æ•°æ®ï¼Œæ¸…ç©ºuser.jsonå’Œprod.json</span></div><div class="line">        <span class="keyword">let</span> dateStr = (<span class="keyword">new</span> <span class="built_in">Date</span>(nowTime - <span class="number">10</span>*<span class="number">60</span>*<span class="number">1000</span>)).format(<span class="string">"yyyyMMdd"</span>);</div><div class="line">        superagent</div><div class="line">            .get(<span class="string">'https://www.lmlc.com/web/product/product_list?pageSize=10&amp;pageNo=1&amp;type=1'</span>)</div><div class="line">            .end(<span class="function"><span class="keyword">function</span>(<span class="params">err,pres</span>)</span>&#123;</div><div class="line">                <span class="comment">// å¸¸è§„çš„é”™è¯¯å¤„ç†</span></div><div class="line">                <span class="keyword">if</span> (err) &#123;</div><div class="line">                    handleErr(err.message);</div><div class="line">                    <span class="keyword">return</span>;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">var</span> data = <span class="built_in">JSON</span>.parse(pres.text).data;</div><div class="line">                <span class="keyword">var</span> rate = data.result[<span class="number">0</span>].yearReturnRate||<span class="number">4.0</span>;</div><div class="line">                lmlc[<span class="number">0</span>].yearReturnRate = rate;</div><div class="line">                fs.writeFileSync(<span class="string">`data/<span class="subst">$&#123;dateStr&#125;</span>.json`</span>, <span class="built_in">JSON</span>.stringify(lmlc));</div><div class="line">        &#125;)</div><div class="line">    &#125;</div><div class="line">&#125;, <span class="number">1000</span>);</div></pre></td></tr></table></figure></p><p>globalTimeræ˜¯ä¸ªå…¨å±€å®šæ—¶å™¨ï¼Œæ¯éš”1sæ‰§è¡Œä¸€æ¬¡ï¼Œå½“æ—¶é—´ä¸º<code>00:00:00</code>æ—¶ï¼ŒclearProdå’ŒclearUserå…¨å±€å‚æ•°ä¸º<code>true</code>ï¼Œè¿™æ ·åœ¨ä¸‹æ¬¡çˆ¬å–è¿‡ç¨‹æ—¶ä¼šæ¸…ç©ºuser.jsonå’Œprod.jsonæ–‡ä»¶ã€‚æ²¡æœ‰åŒæ­¥æ¸…ç©ºæ˜¯å› ä¸ºé˜²æ­¢å¤šå¤„åŒæ—¶ä¿®æ”¹åŒä¸€æ–‡ä»¶æŠ¥é”™ã€‚å–å‡ºuser.jsoné‡Œçš„æ‰€æœ‰é‡‘åº“è®°å½•ï¼Œè·å–å½“å¤©é‡‘åº“ç›¸å…³ä¿¡æ¯ï¼Œç”Ÿæˆä¸€æ¡ç«‹é©¬é‡‘åº“çš„prodä¿¡æ¯å¹¶unshiftè¿›prod.jsoné‡Œã€‚åˆ é™¤ä¸€äº›æ— ç”¨å±æ€§ï¼Œæ’åºæ•°ç»„æœ€ç»ˆç”Ÿæˆå¸¦æœ‰å½“å¤©æ—¶é—´æˆ³çš„jsonæ–‡ä»¶ï¼Œå¦‚ï¼š20180101.jsonã€‚</p><h2 id="äº”ã€å‰ç«¯å±•ç¤º"><a href="#äº”ã€å‰ç«¯å±•ç¤º" class="headerlink" title="äº”ã€å‰ç«¯å±•ç¤º"></a>äº”ã€å‰ç«¯å±•ç¤º</h2><h3 id="1ã€æ•´ä½“æ€è·¯"><a href="#1ã€æ•´ä½“æ€è·¯" class="headerlink" title="1ã€æ•´ä½“æ€è·¯"></a>1ã€æ•´ä½“æ€è·¯</h3><p>å‰ç«¯æ€»å…±å°±ä¸¤ä¸ªé¡µé¢ï¼Œé¦–é¡µå’Œè¯¦æƒ…é¡µï¼Œé¦–é¡µä¸»è¦å±•ç¤ºå®æ—¶é”€å”®é¢ã€æŸä¸€æ—¶é—´æ®µå†…çš„é”€å”®æƒ…å†µã€å…·ä½“æŸå¤©çš„é”€å”®æƒ…å†µã€‚è¯¦æƒ…é¡µå±•ç¤ºæŸå¤©çš„å…·ä½“æŸä¸€äº§å“é”€å”®æƒ…å†µã€‚é¡µé¢æœ‰ä¸¤ä¸ªå…¥å£ï¼Œè€Œä¸”æ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œæˆ‘ä»¬é‡‡ç”¨gulpæ¥æ‰“åŒ…å‹ç¼©æ„å»ºå‰ç«¯å·¥ç¨‹ã€‚åå°ç”¨expressæ­å»ºçš„ï¼ŒåŒ¹é…åˆ°è·¯ç”±ï¼Œä»dataæ–‡ä»¶å¤¹é‡Œå–åˆ°æ•°æ®å†åˆ†æå¤„ç†å†è¿”å›ç»™å‰ç«¯ã€‚</p><h3 id="2ã€å‰ç«¯ç”¨åˆ°çš„ç»„ä»¶ä»‹ç»"><a href="#2ã€å‰ç«¯ç”¨åˆ°çš„ç»„ä»¶ä»‹ç»" class="headerlink" title="2ã€å‰ç«¯ç”¨åˆ°çš„ç»„ä»¶ä»‹ç»"></a>2ã€å‰ç«¯ç”¨åˆ°çš„ç»„ä»¶ä»‹ç»</h3><ul><li><p><a href="http://echarts.baidu.com/" target="_blank" rel="external">Echarts</a><br>Echartsæ˜¯ä¸€ä¸ªç»˜å›¾åˆ©å™¨ï¼Œç™¾åº¦å…¬å¸ä¸å¯å¤šå¾—çš„è‰¯å¿ƒä¹‹ä½œã€‚èƒ½æ–¹ä¾¿çš„ç»˜åˆ¶å„ç§å›¾å½¢ï¼Œå®˜ç½‘å·²ç»æ›´æ–°åˆ°4.0äº†ï¼ŒåŠŸèƒ½æ›´åŠ å¼ºå¤§ã€‚æˆ‘ä»¬è¿™é‡Œä¸»è¦ç”¨åˆ°çš„æ˜¯<a href="http://echarts.baidu.com/examples/editor.html?c=bar-tick-align" target="_blank" rel="external">ç›´æ–¹å›¾</a>ã€‚</p></li><li><p><a href="https://datatables.net/" target="_blank" rel="external">DataTables</a><br>Datatablesæ˜¯ä¸€æ¬¾jqueryè¡¨æ ¼æ’ä»¶ã€‚å®ƒæ˜¯ä¸€ä¸ªé«˜åº¦çµæ´»çš„å·¥å…·ï¼Œå¯ä»¥å°†ä»»ä½•HTMLè¡¨æ ¼æ·»åŠ é«˜çº§çš„äº¤äº’åŠŸèƒ½ã€‚åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œæœ‰ä¸°å¯Œçš„APIï¼Œå¤§å®¶å¯ä»¥å»å®˜ç½‘å­¦ä¹ ã€‚</p></li><li><p><a href="https://fengyuanchen.github.io/datepicker/" target="_blank" rel="external">Datepicker</a><br>Datepickeræ˜¯ä¸€æ¬¾åŸºäºjqueryçš„æ—¥æœŸé€‰æ‹©å™¨ï¼Œéœ€è¦çš„åŠŸèƒ½åŸºæœ¬éƒ½æœ‰ï¼Œä¸»è¦æ ·å¼æ¯”è¾ƒå¥½çœ‹ï¼Œæ¯”jqueryUIå®˜ç½‘çš„<a href="https://jqueryui.com/datepicker/" target="_blank" rel="external">Datepicker</a>å¥½çœ‹å¤ªå¤šã€‚</p></li></ul><h3 id="3ã€gulpé…ç½®"><a href="#3ã€gulpé…ç½®" class="headerlink" title="3ã€gulpé…ç½®"></a>3ã€gulpé…ç½®</h3><p>gulpé…ç½®æ¯”è¾ƒç®€å•ï¼Œä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</div><div class="line"><span class="keyword">var</span> uglify = <span class="built_in">require</span>(<span class="string">"gulp-uglify"</span>);</div><div class="line"><span class="keyword">var</span> less = <span class="built_in">require</span>(<span class="string">"gulp-less"</span>);</div><div class="line"><span class="keyword">var</span> minifyCss = <span class="built_in">require</span>(<span class="string">"gulp-minify-css"</span>);</div><div class="line"><span class="keyword">var</span> livereload = <span class="built_in">require</span>(<span class="string">'gulp-livereload'</span>);</div><div class="line"><span class="keyword">var</span> connect = <span class="built_in">require</span>(<span class="string">'gulp-connect'</span>);</div><div class="line"><span class="keyword">var</span> minimist = <span class="built_in">require</span>(<span class="string">'minimist'</span>);</div><div class="line"><span class="keyword">var</span> babel = <span class="built_in">require</span>(<span class="string">'gulp-babel'</span>);</div><div class="line"></div><div class="line"><span class="keyword">var</span> knownOptions = &#123;</div><div class="line">  <span class="attr">string</span>: <span class="string">'env'</span>,</div><div class="line">  <span class="attr">default</span>: &#123; <span class="attr">env</span>: process.env.NODE_ENV || <span class="string">'production'</span> &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">var</span> options = minimist(process.argv.slice(<span class="number">2</span>), knownOptions);</div><div class="line"></div><div class="line"><span class="comment">// jsæ–‡ä»¶å‹ç¼©</span></div><div class="line">gulp.task(<span class="string">'minify-js'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    gulp.src(<span class="string">'src/js/*.js'</span>)</div><div class="line">        .pipe(babel(&#123;</div><div class="line">          <span class="attr">presets</span>: [<span class="string">'es2015'</span>]</div><div class="line">        &#125;))</div><div class="line">        .pipe(uglify())</div><div class="line">        .pipe(gulp.dest(<span class="string">'dist/'</span>));</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// jsç§»åŠ¨æ–‡ä»¶</span></div><div class="line">gulp.task(<span class="string">'move-js'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    gulp.src(<span class="string">'src/js/*.js'</span>)</div><div class="line">        .pipe(babel(&#123;</div><div class="line">          <span class="attr">presets</span>: [<span class="string">'es2015'</span>]</div><div class="line">        &#125;))</div><div class="line">        .pipe(gulp.dest(<span class="string">'dist/'</span>))</div><div class="line">        .pipe(connect.reload());</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// lessç¼–è¯‘</span></div><div class="line">gulp.task(<span class="string">'compile-less'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    gulp.src(<span class="string">'src/css/*.less'</span>)</div><div class="line">        .pipe(less())</div><div class="line">        .pipe(gulp.dest(<span class="string">'dist/'</span>))</div><div class="line">        .pipe(connect.reload());</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// lessæ–‡ä»¶ç¼–è¯‘å‹ç¼©</span></div><div class="line">gulp.task(<span class="string">'compile-minify-css'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    gulp.src(<span class="string">'src/css/*.less'</span>)</div><div class="line">        .pipe(less())</div><div class="line">        .pipe(minifyCss())</div><div class="line">        .pipe(gulp.dest(<span class="string">'dist/'</span>));</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// htmlé¡µé¢è‡ªåŠ¨åˆ·æ–°</span></div><div class="line">gulp.task(<span class="string">'html'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  gulp.src(<span class="string">'views/*.html'</span>)</div><div class="line">    .pipe(connect.reload());</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// é¡µé¢è‡ªåŠ¨åˆ·æ–°å¯åŠ¨</span></div><div class="line">gulp.task(<span class="string">'connect'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    connect.server(&#123;</div><div class="line">        <span class="attr">livereload</span>: <span class="literal">true</span></div><div class="line">    &#125;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// ç›‘æµ‹æ–‡ä»¶çš„æ”¹åŠ¨</span></div><div class="line">gulp.task(<span class="string">'watch'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    gulp.watch(<span class="string">'src/css/*.less'</span>, [<span class="string">'compile-less'</span>]);</div><div class="line">    gulp.watch(<span class="string">'src/js/*.js'</span>, [<span class="string">'move-js'</span>]);</div><div class="line">    gulp.watch(<span class="string">'views/*.html'</span>, [<span class="string">'html'</span>]);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// æ¿€æ´»æµè§ˆå™¨livereloadå‹å¥½æç¤º</span></div><div class="line">gulp.task(<span class="string">'tip'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'\n&lt;----- è¯·ç”¨chromeæµè§ˆå™¨æ‰“å¼€ http://localhost:5000 é¡µé¢ï¼Œå¹¶æ¿€æ´»livereloadæ’ä»¶ -----&gt;\n'</span>);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="keyword">if</span> (options.env === <span class="string">'development'</span>) &#123;</div><div class="line">    gulp.task(<span class="string">'default'</span>, [<span class="string">'move-js'</span>, <span class="string">'compile-less'</span>, <span class="string">'connect'</span>, <span class="string">'watch'</span>, <span class="string">'tip'</span>]);</div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">    gulp.task(<span class="string">'default'</span>, [<span class="string">'minify-js'</span>, <span class="string">'compile-minify-css'</span>]);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒéƒ½æ˜¯å°†æ–‡ä»¶æ‰“åŒ…åˆ°distç›®å½•ã€‚ä¸åŒçš„æ˜¯ï¼šå¼€å‘ç¯å¢ƒåªæ˜¯ç¼–è¯‘es6å’Œlessæ–‡ä»¶ï¼›ç”Ÿäº§ç¯å¢ƒä¼šå†å‹ç¼©æ··æ·†ã€‚æ”¯æŒlivereloadæ’ä»¶ï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸‹ï¼Œæ–‡ä»¶æ”¹åŠ¨ä¼šè‡ªåŠ¨åˆ·æ–°é¡µé¢ã€‚</p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>è‡³æ­¤ï¼Œä¸€ä¸ªå®Œæ•´çš„çˆ¬è™«å°±å®Œæˆäº†ã€‚å…¶å®æˆ‘è§‰å¾—æœ€éœ€è¦èŠ±æ—¶é—´çš„æ˜¯åœ¨åˆ†æé¡µé¢ç»“æ„ï¼Œå¤„ç†æ•°æ®è¿˜æœ‰è§£å†³å„ç§é—®é¢˜ï¼Œæ¯”å¦‚å¦‚ä½•ä¿æŒä¸€ç›´åœ¨ç™»å½•çŠ¶æ€ç­‰ã€‚</p><p>æœ¬çˆ¬è™«ä»£ç åªåšç ”ç©¶å­¦ä¹ ç”¨å¤„ï¼Œç¦æ­¢ç”¨ä½œä»»ä½•å•†ä¸šåˆ†æã€‚å†è¯´ï¼Œç»Ÿè®¡çš„æ•°æ®ä¹Ÿä¸å‡†ç¡®ã€‚</p><p>å› ä¸ºä»£ç å¼€æºï¼Œå¸Œæœ›å¤§å®¶ç…§ç€ä»£ç å»çˆ¬å–å…¶ä»–ç½‘ç«™ï¼Œå¦‚æœéƒ½æ‹¿ç«‹é©¬ç†è´¢æ¥çˆ¬ï¼Œä¼°è®¡æœåŠ¡å™¨ä¼šæ‰¿å—ä¸äº†çš„é¢ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å…¶å®åœ¨æ—©ä¹‹å‰ï¼Œå°±åšè¿‡&lt;a href=&quot;https://www.lmlc.com/&quot;&gt;ç«‹é©¬ç†è´¢&lt;/a&gt;çš„é”€å”®é¢ç»Ÿè®¡ï¼Œåªä¸è¿‡æ˜¯ç”¨å‰ç«¯jså†™çš„ï¼Œéœ€è¦åœ¨é¦–é¡µçš„consoleè°ƒè¯•é¢æ¿é‡Œç²˜è´´ä¸€æ®µä»£ç æ‰§è¡Œï¼Œ&lt;a href=&quot;https://github.com/tywei90/selfwork/tree/master/statistics&quot;&gt;ç‚¹å‡»è¿™é‡Œ&lt;/a&gt;ã€‚ä¸»è¦æ˜¯é€šè¿‡å®šæ—¶çˆ¬å–&lt;a href=&quot;https://www.lmlc.com/s/web/home/user_buying&quot;&gt;&lt;code&gt;https://www.lmlc.com/s/web/home/user_buying&lt;/code&gt;&lt;/a&gt;å¼‚æ­¥æ¥å£æ¥è·å–æ•°æ®ã€‚ç„¶åé€šè¿‡ä¸€å®šçš„æ’é‡ç®—æ³•æ¥è·å–æœ€ç»ˆçš„æ•°æ®ã€‚ä½†æ˜¯è¿™æ ·åšæœ‰ä»¥ä¸‹ç¼ºç‚¹ï¼š  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»£ç åªèƒ½åœ¨æµè§ˆå™¨çª—å£ä¸‹è¿è¡Œï¼Œå…³é—­æµè§ˆå™¨æˆ–è€…ç”µè„‘å°±å¤±æ•ˆäº†&lt;/li&gt;
&lt;li&gt;åªèƒ½çˆ¬å–ä¸€ä¸ªé¡µé¢çš„æ•°æ®ï¼Œä¸èƒ½æ•´åˆå…¶ä»–é¡µé¢çš„æ•°æ®&lt;/li&gt;
&lt;li&gt;çˆ¬å–çš„æ•°æ®æ— æ³•å­˜å‚¨åˆ°æœ¬åœ°&lt;/li&gt;
&lt;li&gt;ä¸Šé¢çš„å¼‚æ­¥æ¥å£æ•°æ®ä¼šéƒ¨åˆ†è¿‡æ»¤ï¼Œå¯¼è‡´æˆ‘ä»¬çš„æ’é‡ç®—æ³•å¤±æ•ˆ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç”±äºæœ€è¿‘å­¦ä¹ äº†nodeçˆ¬è™«ç›¸å…³çŸ¥è¯†ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åå°è‡ªå·±æ¨¡æ‹Ÿè¯·æ±‚ï¼Œçˆ¬å–é¡µé¢æ•°æ®ã€‚å¹¶ä¸”æˆ‘å¼€é€šäº†é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼Œå¯ä»¥æŠŠä»£ç æ”¾åˆ°äº‘ç«¯è·‘ã€‚è¿™æ ·ï¼Œ1ã€2ã€3éƒ½å¯ä»¥è§£å†³ã€‚4æ˜¯å› ä¸ºä¹‹å‰ä¸çŸ¥é“è¿™ä¸ªajaxæ¥å£æ˜¯æ¯ä¸‰åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥æ ¹æ®è¿™ä¸ªæ¥æ’é‡ï¼Œç¡®ä¿æ•°æ®ä¸ä¼šé‡å¤ã€‚è¯´åˆ°çˆ¬è™«ï¼Œå¤§å®¶æƒ³åˆ°çš„æ¯”è¾ƒå¤šçš„è¿˜æ˜¯pythonï¼Œç¡®å®pythonæœ‰Scrapyç­‰æˆç†Ÿçš„æ¡†æ¶ï¼Œå¯ä»¥å®ç°å¾ˆå¼ºå¤§çš„çˆ¬å–åŠŸèƒ½ã€‚ä½†æ˜¯nodeä¹Ÿæœ‰è‡ªèº«çš„ä¼˜ç‚¹ï¼Œå‡­å€Ÿå¼ºå¤§çš„å¼‚æ­¥ç‰¹æ€§ï¼Œå¯ä»¥å¾ˆè½»æ¾çš„å®ç°é«˜æ•ˆçš„å¼‚æ­¥å¹¶å‘è¯·æ±‚ï¼ŒèŠ‚çœcpuçš„å¼€é”€ã€‚å…¶å®nodeçˆ¬è™«è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥åˆ†ææ•´ä¸ªçˆ¬è™«çˆ¬å–çš„æµç¨‹å’Œæœ€ç»ˆå¦‚ä½•å±•ç¤ºæ•°æ®çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ¬¢è¿å¤§å®¶starå­¦ä¹ äº¤æµï¼š&lt;a href=&quot;https://lmlc.wty90.com/&quot;&gt;çº¿ä¸Šåœ°å€&lt;/a&gt;&amp;emsp;&lt;a href=&quot;https://github.com/tywei90/lmlcSpider_production&quot;&gt;githubåœ°å€&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç«‹é©¬ç†è´¢" scheme="https://www.wty90.com/tags/%E7%AB%8B%E9%A9%AC%E7%90%86%E8%B4%A2/"/>
    
      <category term="çˆ¬è™«" scheme="https://www.wty90.com/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>åŸºäºionicçš„æ··åˆAPPå®æˆ˜</title>
    <link href="https://www.wty90.com/2018/01/16/ionic-app/"/>
    <id>https://www.wty90.com/2018/01/16/ionic-app/</id>
    <published>2018-01-16T03:36:54.000Z</published>
    <updated>2018-02-06T13:25:33.000Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™ä¸ªé¡¹ç›®åšå¾—æ¯”è¾ƒæ—©ï¼Œå½“æ—¶æ˜¯åŸºäºionic1å’Œangular1åšçš„ã€‚åšäº†å››ä¸ªtabsçš„appï¼Œé¦–é¡µæ¨¡ä»¿æºç¨‹é¦–é¡µï¼Œç¬¬äºŒé¡µä¸»è¦æ˜¯phonegapè°ƒç”¨æ‰‹æœºæ ¸å¿ƒåŠŸèƒ½ï¼Œç¬¬ä¸‰é¡µæ¨¡ä»¿å¾®ä¿¡å’ŒqqèŠå¤©é¡µï¼Œç¬¬å››é¡µæ¨¡ä»¿ä¸€èˆ¬æ‰‹æœºçš„è¡¨å•è®¾ç½®é¡µã€‚åŒæ—¶è¿˜æ¨¡ä»¿çŸ¥ä¹åšäº†ä¸€ä¸ªä¾§è¾¹æ é¡µ(è´¦å·ï¼šwtyï¼Œå¯†ç ï¼š123456)ã€‚</p><p>æ²¡æœ‰åå°ï¼Œçº¯å‰ç«¯å±•ç¤ºï¼ŒåŠŸèƒ½è¿˜æ¯”è¾ƒå¤šï¼Œè°ƒç”¨ç³»ç»Ÿçš„å£°éŸ³ã€éœ‡åŠ¨å’Œæ‰‹æœºè®¾å¤‡ä¿¡æ¯ç­‰ã€‚æœ‰äºŒç»´ç æ‰«æåŠŸèƒ½ï¼Œè¿˜åšäº†ç±»ä¼¼qqæ¶ˆæ¯å¯æ‹–æ‹½æ•ˆæœï¼Œä¸Šæ‹‰ä¸‹æ‹‰åˆ·æ–°ï¼Œè½®æ’­å›¾ç»„ä»¶ã€‚</p><p><a href="https://github.com/tywei90/ionic_app_production/releases/download/v1.0/ionic_app.apk" target="_blank" rel="external">å®‰å“apkä¸‹è½½</a>  </p><p><img src="/assets/img/apk.png" alt="å®‰å“apkä¸‹è½½äºŒç»´ç " title="å®‰å“apkä¸‹è½½äºŒç»´ç "></p><p>æ¬¢è¿å¤§å®¶starå­¦ä¹ äº¤æµï¼š<a href="https://ionic.wty90.com/" target="_blank" rel="external">çº¿ä¸Šåœ°å€</a>&emsp;<a href="https://github.com/tywei90/ionic_app_production" target="_blank" rel="external">githubåœ°å€</a></p><a id="more"></a><h2 id="ä¸€ã€åŸºæœ¬æ¦‚å¿µ"><a href="#ä¸€ã€åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="ä¸€ã€åŸºæœ¬æ¦‚å¿µ"></a>ä¸€ã€åŸºæœ¬æ¦‚å¿µ</h2><h3 id="1-Angularjsç®€ä»‹"><a href="#1-Angularjsç®€ä»‹" class="headerlink" title="1. Angularjsç®€ä»‹"></a>1. Angularjsç®€ä»‹</h3><p>Angularjsæ˜¯ä¸€æ¬¾ä¼˜ç§€çš„å‰ç«¯ JS æ¡†æ¶ï¼Œå·²ç”¨äº Google çš„å¤šæ¬¾äº§å“å½“ä¸­ å¦‚ Gmailã€Mapsã€Calender ç­‰ã€‚AngularJSæœ‰ç€è¯¸å¤šç‰¹æ€§ï¼Œæœ€ä¸ºæ ¸å¿ƒçš„æ˜¯ï¼šMVVMã€æ¨¡å—åŒ–ã€è‡ªåŠ¨åŒ–åŒå‘æ•°æ®ç»‘å®šã€è¯­ä¹‰æ ‡ç­¾ã€ä¾èµ–æ³¨å…¥ï¼Œç­‰ç­‰ã€‚</p><h3 id="2-Ionicç®€ä»‹"><a href="#2-Ionicç®€ä»‹" class="headerlink" title="2. Ionicç®€ä»‹"></a>2. Ionicç®€ä»‹</h3><p>Ionicæ˜¯ä¸€ä¸ªå¼ºå¤§çš„ HTML5 åº”ç”¨ç¨‹åºå¼€å‘æ¡†æ¶ï¼Œå…·æœ‰é€Ÿåº¦å¿«ï¼Œç•Œé¢ç°ä»£åŒ–ã€ç¾è§‚ç­‰ç‰¹ç‚¹ã€‚ç‰¹åˆ«é€‚åˆç”¨äºåŸºäº Hybird æ¨¡å¼çš„ HTML5 ç§»åŠ¨åº”ç”¨ç¨‹åºå¼€å‘ã€‚</p><h3 id="3-Phonegapç®€ä»‹"><a href="#3-Phonegapç®€ä»‹" class="headerlink" title="3. Phonegapç®€ä»‹"></a>3. Phonegapç®€ä»‹</h3><p>Phonegapæ˜¯ä¸€ä¸ªç”¨åŸºäº HTMLï¼Œ CSS å’Œ JavaScript çš„ï¼Œåˆ›å»ºç§»åŠ¨è·¨å¹³å°ç§»åŠ¨åº”ç”¨ç¨‹åºçš„<br>å¿«é€Ÿå¼€å‘å¹³å°ã€‚å®ƒä½¿å¼€å‘è€…èƒ½å¤Ÿæ‰‹æœºçš„æ ¸å¿ƒåŠŸèƒ½â€”â€”åŒ…æ‹¬åœ°ç†å®šä½ï¼ŒåŠ é€Ÿå™¨ï¼Œè”ç³»äººï¼Œå£°éŸ³å’ŒæŒ¯åŠ¨ç­‰ï¼Œæ­¤å¤–PhoneGap æ‹¥æœ‰ä¸°å¯Œçš„æ’ä»¶ï¼Œå¯ä»¥è°ƒç”¨ã€‚</p><h2 id="äºŒã€é¡¹ç›®å„tabä¸»è¦åŠŸèƒ½ä»‹ç»"><a href="#äºŒã€é¡¹ç›®å„tabä¸»è¦åŠŸèƒ½ä»‹ç»" class="headerlink" title="äºŒã€é¡¹ç›®å„tabä¸»è¦åŠŸèƒ½ä»‹ç»"></a>äºŒã€é¡¹ç›®å„tabä¸»è¦åŠŸèƒ½ä»‹ç»</h2><h3 id="1-åˆå§‹åŒ–é…ç½®"><a href="#1-åˆå§‹åŒ–é…ç½®" class="headerlink" title="1. åˆå§‹åŒ–é…ç½®"></a>1. åˆå§‹åŒ–é…ç½®</h3><ul><li>æ‰‹æœºä¸Šappæ˜¾ç¤ºçš„å›¾æ ‡ã€åç§°ã€å¼€æœºç”»é¢</li><li>æ³¨å…¥ä¾èµ–</li><li>éšè—æ˜¾ç¤ºé”®ç›˜</li><li>hammerè§¦å±æ‰‹åŠ¿æ’ä»¶é…ç½®</li><li>èœå•æ çš„ä½ç½®ã€å¯¼èˆªæ¡æ–‡å­—ä½ç½®ã€å›é€€æŒ‰é’®å›¾æ ‡ç­‰</li><li>åˆ‡æ¢é¡µé¢çš„è¿‡æ¸¡æ•ˆæœï¼ˆbugï¼‰</li><li>AngularUI Router</li><li>servicesæœåŠ¡</li></ul><h3 id="2-tab-home"><a href="#2-tab-home" class="headerlink" title="2. tab-home"></a>2. tab-home</h3><ul><li>å¹»ç¯æŒ‡ä»¤ ion-slide-box</li><li>è§¦å±æ‰‹åŠ¿åˆ‡æ¢é¡µé¢</li><li>æ …æ ¼ç³»ç»Ÿ</li><li>è§¦å±æ‰‹åŠ¿touch-baseså’Œhammerjs</li><li>ng-initã€ng-clickã€ ng-srcã€ ng-repeatæŒ‡ä»¤ï¼ŒåŒå‘æ•°æ®ç»‘å®š</li><li>æ‰“å¼€appå†…ç½®çš„æµè§ˆå™¨webviewæ–¹æ³•</li><li>ä¸Šæ‹‰åˆ·æ–°</li></ul><h3 id="3-tab-dash"><a href="#3-tab-dash" class="headerlink" title="3. tab-dash"></a>3. tab-dash</h3><ul><li>phonegapåŠŸèƒ½çš„åº”ç”¨ï¼šäºŒç»´ç æ‰«æã€è°ƒç”¨ç³»ç»Ÿå¼¹çª—ã€éœ‡åŠ¨é“ƒå£°åŠŸèƒ½ã€è·å–è®¾å¤‡ä¿¡æ¯</li><li>ion-side-menusä¾§è¾¹æ åŠŸèƒ½</li><li>ionic åŠ¨æ€ç»„ä»¶ $ionicModalå¼¹å‡ºç™»å½•ç•Œé¢</li><li>ng-showã€ng-model åŒå‘æ•°æ®ç»‘å®šå®ç°ç™»å½•éªŒè¯çš„å®æ—¶ç›‘æ§</li><li>ionic åŠ¨æ€ç»„ä»¶ $ionicPopupå¼¹å‡ºæ³¨é”€ç•Œé¢</li><li>æ›´æ¢å¤´åƒï¼ˆè®¿é—®æ‰‹æœºæ‘„åƒå¤´ã€å›¾åº“åŠŸèƒ½ï¼‰</li><li>åˆ‡æ¢ä¸»é¢˜é¢œè‰²</li></ul><h3 id="4-tab-chats"><a href="#4-tab-chats" class="headerlink" title="4. tab-chats"></a>4. tab-chats</h3><ul><li>åˆ é™¤æŒ‰é’®å’Œé‡æ–°æ’åºæŒ‰é’®</li><li>ä¸‹æ‹‰åˆ·æ–°</li><li>æ»‘åŠ¨æ˜¾ç¤ºåˆ†äº«ç¼–è¾‘æŒ‰é’®</li><li>é•¿æŒ‰æ˜¾ç¤ºåŠ¨æ€ç»„ä»¶$ionicActionSheeté€‰é¡¹</li><li>çº¢è‰²æ¶ˆæ¯badge</li></ul><h3 id="5-tab-account"><a href="#5-tab-account" class="headerlink" title="5. tab-account"></a>5. tab-account</h3><ul><li>ionicçš„è¡¨å•åº”ç”¨</li><li>â€œå£°éŸ³â€é€‰é¡¹è¢«é€‰ä¸­æ’­æ”¾é“ƒå£°</li><li>â€œéœ‡åŠ¨â€é€‰é¡¹è¢«é€‰ä¸­å¼€å§‹éœ‡åŠ¨</li><li>å®ç°å…¨é€‰ã€å…¨ä¸é€‰ã€åé€‰çš„åŠŸèƒ½</li><li>ionicåŠ¨æ€ç»„ä»¶$ionicPopup</li><li>æ ¹æ®è¢«é€‰æ‹©æ•°æ˜¾ç¤ºç›¸åº”å¼¹çª—å†…å®¹</li></ul><h2 id="ä¸‰ã€æ¼”ç¤ºå¦‚ä¸‹ï¼š"><a href="#ä¸‰ã€æ¼”ç¤ºå¦‚ä¸‹ï¼š" class="headerlink" title="ä¸‰ã€æ¼”ç¤ºå¦‚ä¸‹ï¼š"></a>ä¸‰ã€æ¼”ç¤ºå¦‚ä¸‹ï¼š</h2><p><img src="/assets/img/ionic_app.gif" alt="ionicå®æˆ˜åŠ¨æ€å›¾æ¼”ç¤º">  </p><h2 id="å››ã€æ€»-ç»“"><a href="#å››ã€æ€»-ç»“" class="headerlink" title="å››ã€æ€» ç»“"></a>å››ã€æ€» ç»“</h2><p>ä¼˜ç‚¹ï¼š é€šè¿‡ä½¿ç”¨ web æŠ€æœ¯å¼€å‘ Appï¼Œé‡‡ç”¨ Cordova/PhoneGapä¹‹ç±»è¿›è¡Œæ‰“åŒ…å°è£…ã€‚ä¼˜ç‚¹æ˜¯é‡‡ç”¨æ ‡å‡†çš„webæŠ€æœ¯å¼€å‘ï¼Œé¿å…äº†ä¸åŒå¹³å°åŸç”Ÿå¼€å‘ä½“ç³»çš„å­¦ä¹ ï¼Œå­¦ä¹ æˆæœ¬ä½ï¼Œ ä¸Šæ‰‹å¿«ã€ æ•ˆç‡é«˜ï¼Œä¸€æ¬¡å¼€å‘å¾®ä¿¡ wap app å…¨éƒ¨æå®šï¼›</p><p>ç¼ºç‚¹ï¼šapp åœ¨ android å¹³å°æ€§èƒ½ä¸Šæœ‰ä¸€äº›æŸå¤±ï¼Œ ä½†æ˜¯ç›¸ä¿¡ç¡¬ä»¶çš„å‘å±•ä¼šæ¥è¿‘åŸç”Ÿã€‚</p><h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><ol><li><a href="http://bbs.phonegap100.com/thread-668-1-1.html" target="_blank" rel="external">PhoneGap3.4å®‰è£…è§†é¢‘æ•™ç¨‹ä¸‹è½½</a></li><li><a href="http://www.angularjs.org/" target="_blank" rel="external">Angular1å®˜ç½‘</a></li><li><a href="http://www.angularjs.cn/" target="_blank" rel="external">Angularä¸­æ–‡ç¤¾åŒº</a></li><li><a href="http://www.ngnice.com/" target="_blank" rel="external">AngularJS Nice Things</a></li><li><a href="http://www.phonegap100.com" target="_blank" rel="external">phonegap ä¸­æ–‡ç½‘</a></li><li><a href="http://ionicframework.com/" target="_blank" rel="external">ionicå®˜ç½‘</a></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™ä¸ªé¡¹ç›®åšå¾—æ¯”è¾ƒæ—©ï¼Œå½“æ—¶æ˜¯åŸºäºionic1å’Œangular1åšçš„ã€‚åšäº†å››ä¸ªtabsçš„appï¼Œé¦–é¡µæ¨¡ä»¿æºç¨‹é¦–é¡µï¼Œç¬¬äºŒé¡µä¸»è¦æ˜¯phonegapè°ƒç”¨æ‰‹æœºæ ¸å¿ƒåŠŸèƒ½ï¼Œç¬¬ä¸‰é¡µæ¨¡ä»¿å¾®ä¿¡å’ŒqqèŠå¤©é¡µï¼Œç¬¬å››é¡µæ¨¡ä»¿ä¸€èˆ¬æ‰‹æœºçš„è¡¨å•è®¾ç½®é¡µã€‚åŒæ—¶è¿˜æ¨¡ä»¿çŸ¥ä¹åšäº†ä¸€ä¸ªä¾§è¾¹æ é¡µ(è´¦å·ï¼šwtyï¼Œå¯†ç ï¼š123456)ã€‚&lt;/p&gt;
&lt;p&gt;æ²¡æœ‰åå°ï¼Œçº¯å‰ç«¯å±•ç¤ºï¼ŒåŠŸèƒ½è¿˜æ¯”è¾ƒå¤šï¼Œè°ƒç”¨ç³»ç»Ÿçš„å£°éŸ³ã€éœ‡åŠ¨å’Œæ‰‹æœºè®¾å¤‡ä¿¡æ¯ç­‰ã€‚æœ‰äºŒç»´ç æ‰«æåŠŸèƒ½ï¼Œè¿˜åšäº†ç±»ä¼¼qqæ¶ˆæ¯å¯æ‹–æ‹½æ•ˆæœï¼Œä¸Šæ‹‰ä¸‹æ‹‰åˆ·æ–°ï¼Œè½®æ’­å›¾ç»„ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/tywei90/ionic_app_production/releases/download/v1.0/ionic_app.apk&quot;&gt;å®‰å“apkä¸‹è½½&lt;/a&gt;  &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/assets/img/apk.png&quot; alt=&quot;å®‰å“apkä¸‹è½½äºŒç»´ç &quot; title=&quot;å®‰å“apkä¸‹è½½äºŒç»´ç &quot;&gt;&lt;/p&gt;
&lt;p&gt;æ¬¢è¿å¤§å®¶starå­¦ä¹ äº¤æµï¼š&lt;a href=&quot;https://ionic.wty90.com/&quot;&gt;çº¿ä¸Šåœ°å€&lt;/a&gt;&amp;emsp;&lt;a href=&quot;https://github.com/tywei90/ionic_app_production&quot;&gt;githubåœ°å€&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="ionic" scheme="https://www.wty90.com/tags/ionic/"/>
    
      <category term="phonegap" scheme="https://www.wty90.com/tags/phonegap/"/>
    
      <category term="æ··åˆAPP" scheme="https://www.wty90.com/tags/%E6%B7%B7%E5%90%88APP/"/>
    
  </entry>
  
  <entry>
    <title>å‰ç«¯é¡µé¢åˆ¶ä½œå·¥å…·</title>
    <link href="https://www.wty90.com/2018/01/11/pagemaker/"/>
    <id>https://www.wty90.com/2018/01/11/pagemaker/</id>
    <published>2018-01-11T12:50:29.000Z</published>
    <updated>2018-01-25T08:10:54.000Z</updated>
    
    <content type="html"><![CDATA[<p>pagemakeræ˜¯ä¸€ä¸ªå‰ç«¯é¡µé¢åˆ¶ä½œå·¥å…·ï¼Œæ–¹ä¾¿äº§å“ï¼Œè¿è¥å’Œè§†è§‰çš„åŒå­¦è¿…é€Ÿå¼€å‘ç®€å•çš„å‰ç«¯é¡µé¢ï¼Œä»è€Œå¯ä»¥è§£æ”¾å‰ç«¯åŒå­¦çš„å·¥ä½œé‡ã€‚æ­¤é¡¹ç›®åˆ›æ„æ¥è‡ªç½‘æ˜“ä¹å¾—å†…éƒ¨é¡¹ç›®<a href="http://nfop.ms.netease.com/" target="_blank" rel="external">nfop</a>ä¸­çš„pagemakeré¡¹ç›®ã€‚åŸæ¥é¡¹ç›®çš„å‰ç«¯æ˜¯é‡‡ç”¨jqueryå’Œæ¨¡æ¿ejsåšçš„ï¼Œæ¯æ¬¡ç»„ä»¶çš„æ›´æ–°éƒ½ä¼šé‡ç»˜æ•´ä¸ªdomï¼Œæ€§èƒ½ä¸æ˜¯å¾ˆå¥½ã€‚å› ä¸ºå½“æ—¶reactç‰¹åˆ«ç«ï¼ŒåŠ ä¸Šé¡¹ç›®æœ¬èº«çš„é€‚åˆï¼Œæœ€åå†³å®šé‡‡ç”¨reactæ¥è¯•è¯•æ°´ã€‚å› ä¸ºåŸæ¥æ•´ä¸ªé¡¹ç›®æ˜¯åŒ…å«å¾ˆå¤šå­é¡¹ç›®ä¸€èµ·ï¼Œæ‰€ä»¥åå°çš„å®ç°ä¹Ÿæ²¡æœ‰å‚è€ƒï¼Œå®Œå…¨é‡å†™ã€‚  </p><p>æœ¬é¡¹ç›®åªæ˜¯åŸæ¥é¡¹ç›®çš„ç®€å•å®ç°ï¼Œå»é™¤äº†ç”¨çš„ä¸å¤šå’Œå¤æ‚çš„ç»„ä»¶ã€‚ä½†éº»é›€è™½å°äº”è„ä¿±å…¨ï¼Œæœ¬é¡¹ç›®é‡‡ç”¨äº†reactçš„ä¸€æ•´å¥—æŠ€æœ¯æ ˆï¼Œé€‚åˆé‚£äº›å¯¹reactæœ‰è¿‡å‰æœŸå­¦ä¹ ï¼Œæƒ³é€šè¿‡demoæ¥åŠ æ·±ç†è§£å¹¶åŠ¨æ‰‹å®è·µçš„åŒå­¦ã€‚å»ºè®®å­¦ä¹ æœ¬demoçš„ä¹‹å‰ï¼Œå…ˆå­¦ä¹ /å¤ä¹ ä¸‹ç›¸å…³çš„çŸ¥è¯†ç‚¹ï¼š<a href="http://www.ruanyifeng.com/blog/2016/09/react-technology-stack.html" target="_blank" rel="external">React æŠ€æœ¯æ ˆç³»åˆ—æ•™ç¨‹</a>ã€<a href="https://zhuanlan.zhihu.com/p/20295971?columnSlug=purerender" target="_blank" rel="external">Immutable è¯¦è§£åŠ React ä¸­å®è·µ</a>ã€‚</p><p>æ¬¢è¿å¤§å®¶starå­¦ä¹ äº¤æµï¼š<a href="https://pagemaker.wty90.com/" target="_blank" rel="external">çº¿ä¸Šåœ°å€</a>&emsp;<a href="https://github.com/tywei90/pagemaker_production" target="_blank" rel="external">githubåœ°å€</a></p><a id="more"></a><h2 id="ä¸€ã€åŠŸèƒ½ç‰¹ç‚¹"><a href="#ä¸€ã€åŠŸèƒ½ç‰¹ç‚¹" class="headerlink" title="ä¸€ã€åŠŸèƒ½ç‰¹ç‚¹"></a>ä¸€ã€åŠŸèƒ½ç‰¹ç‚¹</h2><ol><li>ç»„ä»¶ä¸°å¯Œã€‚æœ‰æ ‡é¢˜ã€å›¾ç‰‡ã€æŒ‰é’®ã€æ­£æ–‡ã€éŸ³é¢‘ã€è§†é¢‘ã€ç»Ÿè®¡ã€jscssè¾“å…¥ã€‚</li><li>å®æ—¶é¢„è§ˆã€‚æ¯æ¬¡ä¿®æ”¹éƒ½å¯ä»¥ç«‹é©¬çœ‹åˆ°æœ€æ–°çš„é¢„è§ˆã€‚</li><li>æ”¯æŒä¸‰ç§å¯¼å…¥æ–¹å¼ï¼Œæ”¯æŒå¯¼å‡ºé…ç½®æ–‡ä»¶ã€‚</li><li>æ”¯æŒUndo/Redoæ“ä½œã€‚(ç»„ä»¶ä¸ªæ•°å‘ç”Ÿå˜åŒ–ä¸ºè§¦å‘ç‚¹)</li><li>å¯ä»¥éšæ—¶å‘å¸ƒã€ä¿®æ”¹ã€åˆ é™¤å·²å‘å¸ƒçš„é¡µé¢ã€‚</li><li>æ¯ä¸ªé¡µé¢éƒ½æœ‰ä¸€ä¸ªå‘å¸ƒå¯†ç ï¼Œä»è€Œå¯ä»¥é˜²æ­¢åˆ«äººä¿®æ”¹ã€‚</li><li>é¡µé¢å‰ç«¯æ¶æ„é‡‡ç”¨react+reduxï¼Œå¹¶é‡‡ç”¨immutableæ•°æ®ç»“æ„ã€‚å¯ä»¥å°†æ¯æ¬¡ç»„ä»¶çš„æ›´æ–°æœ€å°åŒ–ï¼Œä»è€Œè¾¾åˆ°é¡µé¢æ€§èƒ½çš„æœ€ä¼˜åŒ–ã€‚</li><li>åå°å¯¹ä¸Šä¼ çš„å›¾ç‰‡è‡ªåŠ¨è¿›è¡Œå‹ç¼©ï¼Œé˜²æ­¢æ–‡ä»¶è¿‡å¤§</li><li>é€‚é…ç§»åŠ¨ç«¯ </li></ol><h2 id="äºŒã€ç”¨åˆ°çš„æŠ€æœ¯"><a href="#äºŒã€ç”¨åˆ°çš„æŠ€æœ¯" class="headerlink" title="äºŒã€ç”¨åˆ°çš„æŠ€æœ¯"></a>äºŒã€ç”¨åˆ°çš„æŠ€æœ¯</h2><h3 id="1-å‰ç«¯"><a href="#1-å‰ç«¯" class="headerlink" title="1. å‰ç«¯"></a>1. å‰ç«¯</h3><ol><li>React</li><li>Redux</li><li>React-Redux</li><li>Immutable</li><li>React-Router</li><li>fetch</li><li>es6</li><li>es7</li></ol><h3 id="2-åå°"><a href="#2-åå°" class="headerlink" title="2. åå°"></a>2. åå°</h3><ol><li>Node</li><li>Express</li></ol><h3 id="3-å·¥å…·"><a href="#3-å·¥å…·" class="headerlink" title="3. å·¥å…·"></a>3. å·¥å…·</h3><ol><li>Webpack</li><li>Sass</li><li>Pug</li></ol><h2 id="ä¸‰ã€è„šæ‰‹æ¶å·¥å…·"><a href="#ä¸‰ã€è„šæ‰‹æ¶å·¥å…·" class="headerlink" title="ä¸‰ã€è„šæ‰‹æ¶å·¥å…·"></a>ä¸‰ã€è„šæ‰‹æ¶å·¥å…·</h2><p>å› ä¸ºé¡¹ç›®ç”¨çš„æŠ€æœ¯æ¯”è¾ƒå¤šï¼Œé‡‡ç”¨è„šæ‰‹æ¶å·¥å…·å¯ä»¥çœå»æˆ‘ä»¬æ­å»ºé¡¹ç›®çš„æ—¶é—´ã€‚ç»è¿‡æœç´¢ï¼Œæˆ‘å‘ç°æœ‰ä¸‰ä¸ªç”¨çš„æ¯”è¾ƒå¤šï¼š</p><ol><li><a href="https://github.com/facebookincubator/create-react-app" target="_blank" rel="external">create-react-app</a>   <img src="/assets/img/git1.png" alt="create-react-app staræ•°" title="create-react-app staræ•°"></li><li><a href="https://github.com/kriasoft/react-starter-kit#readme" target="_blank" rel="external">react-starter-kit</a>   <img src="/assets/img/git2.png" alt="react-starter-kit staræ•°" title="react-starter-kit staræ•°"></li><li><a href="https://github.com/react-boilerplate/react-boilerplate" target="_blank" rel="external">react-boilerplate</a>   <img src="/assets/img/git3.png" alt="react-boilerplate staræ•°" title="react-boilerplate staræ•°">  </li></ol><p>githubä¸Šçš„staræ•°éƒ½å¾ˆé«˜ï¼Œç¬¬ä¸€ä¸ªæ˜¯Facebookå®˜æ–¹å‡ºçš„react demoã€‚ä½†æ˜¯çœ‹ä¸‹æ¥ï¼Œä¸‰ä¸ªé¡¹ç›®éƒ½æ¯”è¾ƒåºå¤§ï¼Œå¼•å…¥äº†å¾ˆå¤šä¸éœ€è¦çš„åŠŸèƒ½åŒ…ã€‚åæ¥æœç´¢äº†ä¸‹ï¼Œå‘ç°ä¸€ä¸ªå¥½ç”¨çš„è„šæ‰‹æ¶å·¥å…·ï¼š<a href="http://yeoman.io/learning/" target="_blank" rel="external">yeoman</a>ï¼Œå¤§å®¶å¯ä»¥é€‰æ‹©ç›¸åº”çš„generatorã€‚æˆ‘é€‰æ‹©çš„æ˜¯<a href="https://github.com/react-webpack-generators/generator-react-webpack#readme" target="_blank" rel="external">react-webpack</a>ã€‚é¡¹ç›®æ¯”è¾ƒæ¸…çˆ½ï¼Œéœ€è¦å¤§å®¶è‡ªå·±æ­å»ºreduxå’Œimmutableç¯å¢ƒï¼Œä»¥åŠåå°expressã€‚å…¶å®ä¹Ÿå¥½ï¼Œé”»ç‚¼ä¸‹è‡ªå·±æ„å»ºé¡¹ç›®çš„èƒ½åŠ›ã€‚</p><h2 id="å››ã€æ ¸å¿ƒä»£ç åˆ†æ"><a href="#å››ã€æ ¸å¿ƒä»£ç åˆ†æ" class="headerlink" title="å››ã€æ ¸å¿ƒä»£ç åˆ†æ"></a>å››ã€æ ¸å¿ƒä»£ç åˆ†æ</h2><h3 id="1-Store"><a href="#1-Store" class="headerlink" title="1. Store"></a>1. Store</h3><p>Store å°±æ˜¯ä¿å­˜æ•°æ®çš„åœ°æ–¹ï¼Œä½ å¯ä»¥æŠŠå®ƒçœ‹æˆä¸€ä¸ªå®¹å™¨ã€‚æ•´ä¸ªåº”ç”¨åªèƒ½æœ‰ä¸€ä¸ª Storeã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">'redux'</span>;</div><div class="line"><span class="keyword">import</span> &#123; combineReducers &#125; <span class="keyword">from</span> <span class="string">'redux-immutable'</span>;</div><div class="line"></div><div class="line"><span class="keyword">import</span> unit <span class="keyword">from</span> <span class="string">'./reducer/unit'</span>;</div><div class="line"><span class="comment">// import content from './reducer/content';</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> devToolsEnhancer = <span class="literal">null</span>;</div><div class="line"><span class="keyword">if</span> (process.env.NODE_ENV === <span class="string">'development'</span>) &#123;</div><div class="line">    devToolsEnhancer = <span class="built_in">require</span>(<span class="string">'remote-redux-devtools'</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> reducers = combineReducers(&#123; unit &#125;);</div><div class="line"><span class="keyword">let</span> store = <span class="literal">null</span>;</div><div class="line"><span class="keyword">if</span> (devToolsEnhancer) &#123;</div><div class="line">    store = createStore(reducers, devToolsEnhancer.default(&#123; <span class="attr">realtime</span>: <span class="literal">true</span>, <span class="attr">port</span>: config.reduxDevPort &#125;));</div><div class="line">&#125;</div><div class="line"><span class="keyword">else</span> &#123;</div><div class="line">    store = createStore(reducers);</div><div class="line">&#125;</div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> store;</div></pre></td></tr></table></figure></p><p>Redux æä¾›createStoreè¿™ä¸ªå‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ Storeã€‚ç”±äºæ•´ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ª State å¯¹è±¡ï¼ŒåŒ…å«æ‰€æœ‰æ•°æ®ï¼Œå¯¹äºå¤§å‹åº”ç”¨æ¥è¯´ï¼Œè¿™ä¸ª State å¿…ç„¶ååˆ†åºå¤§ï¼Œå¯¼è‡´ Reducer å‡½æ•°ä¹Ÿååˆ†åºå¤§ã€‚Redux æä¾›äº†ä¸€ä¸ª combineReducers æ–¹æ³•ï¼Œç”¨äº Reducer çš„æ‹†åˆ†ã€‚ä½ åªè¦å®šä¹‰å„ä¸ªå­ Reducer å‡½æ•°ï¼Œç„¶åç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå°†å®ƒä»¬åˆæˆä¸€ä¸ªå¤§çš„ Reducerã€‚å½“ç„¶ï¼Œæˆ‘ä»¬è¿™é‡Œåªæœ‰ä¸€ä¸ª unit çš„ Reducer ï¼Œæ‹†ä¸æ‹†åˆ†éƒ½å¯ä»¥ã€‚  </p><p>devToolsEnhanceræ˜¯ä¸ªä¸­é—´ä»¶ï¼ˆmiddlewareï¼‰ã€‚ç”¨äºåœ¨å¼€å‘ç¯å¢ƒæ—¶ä½¿ç”¨Redux DevToolsæ¥è°ƒè¯•reduxã€‚</p><h3 id="2-Action"><a href="#2-Action" class="headerlink" title="2. Action"></a>2. Action</h3><p>Action æè¿°å½“å‰å‘ç”Ÿçš„äº‹æƒ…ã€‚æ”¹å˜ State çš„å”¯ä¸€åŠæ³•ï¼Œå°±æ˜¯ä½¿ç”¨ Actionã€‚å®ƒä¼šè¿é€æ•°æ®åˆ° Storeã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> Store <span class="keyword">from</span> <span class="string">'../store'</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> dispatch = Store.dispatch;</div><div class="line"></div><div class="line"><span class="keyword">const</span> actions = &#123;</div><div class="line">    <span class="attr">addUnit</span>: <span class="function">(<span class="params">name</span>) =&gt;</span> dispatch(&#123; <span class="attr">type</span>: <span class="string">'AddUnit'</span>, name &#125;),</div><div class="line">    <span class="attr">copyUnit</span>: <span class="function">(<span class="params">id</span>) =&gt;</span> dispatch(&#123; <span class="attr">type</span>: <span class="string">'CopyUnit'</span>, id &#125;),</div><div class="line">    <span class="attr">editUnit</span>: <span class="function">(<span class="params">id, prop, value</span>) =&gt;</span> dispatch(&#123; <span class="attr">type</span>: <span class="string">'EditUnit'</span>, id, prop, value &#125;),</div><div class="line">    <span class="attr">removeUnit</span>: <span class="function">(<span class="params">id</span>) =&gt;</span> dispatch(&#123; <span class="attr">type</span>: <span class="string">'RemoveUnit'</span>, id &#125;),</div><div class="line">    <span class="attr">clear</span>: <span class="function"><span class="params">()</span> =&gt;</span> dispatch(&#123; <span class="attr">type</span>: <span class="string">'Clear'</span>&#125;),</div><div class="line">    <span class="attr">insert</span>: <span class="function">(<span class="params">data, index</span>) =&gt;</span> dispatch(&#123; <span class="attr">type</span>: <span class="string">'Insert'</span>, data, index&#125;),</div><div class="line">    <span class="attr">moveUnit</span>: <span class="function">(<span class="params">fid, tid</span>) =&gt;</span> dispatch(&#123; <span class="attr">type</span>: <span class="string">'MoveUnit'</span>, fid, tid &#125;),</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> actions;</div></pre></td></tr></table></figure></p><p>State çš„å˜åŒ–ï¼Œä¼šå¯¼è‡´ View çš„å˜åŒ–ã€‚ä½†æ˜¯ï¼Œç”¨æˆ·æ¥è§¦ä¸åˆ° Stateï¼Œåªèƒ½æ¥è§¦åˆ° Viewã€‚æ‰€ä»¥ï¼ŒState çš„å˜åŒ–å¿…é¡»æ˜¯ View å¯¼è‡´çš„ã€‚Action å°±æ˜¯ View å‘å‡ºçš„é€šçŸ¥ï¼Œè¡¨ç¤º State åº”è¯¥è¦å‘ç”Ÿå˜åŒ–äº†ã€‚ä»£ç ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†actionså¯¹è±¡ï¼Œä»–æœ‰å¾ˆå¤šå±æ€§ï¼Œæ¯ä¸ªå±æ€§éƒ½æ˜¯å‡½æ•°ï¼Œå‡½æ•°çš„è¾“å‡ºæ˜¯æ´¾å‘äº†ä¸€ä¸ªactionå¯¹è±¡ï¼Œé€šè¿‡Store.dispatchå‘å‡ºã€‚actionæ˜¯ä¸€ä¸ªåŒ…å«äº†å¿…é¡»çš„typeå±æ€§ï¼Œè¿˜æœ‰å…¶ä»–é™„å¸¦çš„ä¿¡æ¯ã€‚</p><h3 id="3-Immutable"><a href="#3-Immutable" class="headerlink" title="3. Immutable"></a>3. Immutable</h3><p>Immutable Data å°±æ˜¯ä¸€æ—¦åˆ›å»ºï¼Œå°±ä¸èƒ½å†è¢«æ›´æ”¹çš„æ•°æ®ã€‚å¯¹ Immutable å¯¹è±¡çš„ä»»ä½•ä¿®æ”¹æˆ–æ·»åŠ åˆ é™¤æ“ä½œéƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ Immutable å¯¹è±¡ã€‚è¯¦ç»†ä»‹ç»ï¼Œæ¨èçŸ¥ä¹ä¸Šçš„<a href="https://zhuanlan.zhihu.com/p/20295971?columnSlug=purerender" target="_blank" rel="external">Immutable è¯¦è§£åŠ React ä¸­å®è·µ</a>ã€‚æˆ‘ä»¬é¡¹ç›®é‡Œç”¨çš„æ˜¯Facebook å·¥ç¨‹å¸ˆ Lee Byron èŠ±è´¹ 3 å¹´æ—¶é—´æ‰“é€ çš„<a href="https://github.com/facebook/immutable-js/" target="_blank" rel="external">immutable.jsåº“</a>ã€‚å…·ä½“çš„APIå¤§å®¶å¯ä»¥å»å®˜ç½‘å­¦ä¹ ã€‚</p><p>ç†Ÿæ‚‰ React çš„éƒ½çŸ¥é“ï¼ŒReact åšæ€§èƒ½ä¼˜åŒ–æ—¶æœ‰ä¸€ä¸ªé¿å…é‡å¤æ¸²æŸ“çš„å¤§æ‹›ï¼Œå°±æ˜¯ä½¿ç”¨ <code>shouldComponentUpdate()</code>ï¼Œä½†å®ƒé»˜è®¤è¿”å› <code>true</code>ï¼Œå³å§‹ç»ˆä¼šæ‰§è¡Œ <code>render()</code> æ–¹æ³•ï¼Œç„¶ååš Virtual DOM æ¯”è¾ƒï¼Œå¹¶å¾—å‡ºæ˜¯å¦éœ€è¦åšçœŸå® DOM æ›´æ–°ï¼Œè¿™é‡Œå¾€å¾€ä¼šå¸¦æ¥å¾ˆå¤šæ— å¿…è¦çš„æ¸²æŸ“å¹¶æˆä¸ºæ€§èƒ½ç“¶é¢ˆã€‚å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ <code>shouldComponentUpdate()</code> ä¸­ä½¿ç”¨ä½¿ç”¨ deepCopy å’Œ deepCompare æ¥é¿å…æ— å¿…è¦çš„ <code>render()</code>ï¼Œä½† deepCopy å’Œ deepCompare ä¸€èˆ¬éƒ½æ˜¯éå¸¸è€—æ€§èƒ½çš„ã€‚  </p><p>Immutable åˆ™æä¾›äº†ç®€æ´é«˜æ•ˆçš„åˆ¤æ–­æ•°æ®æ˜¯å¦å˜åŒ–çš„æ–¹æ³•ï¼Œåªéœ€ <code>===</code>(åœ°å€æ¯”è¾ƒ) å’Œ <code>is</code>( å€¼æ¯”è¾ƒ) æ¯”è¾ƒå°±èƒ½çŸ¥é“æ˜¯å¦éœ€è¦æ‰§è¡Œ <code>render()</code>ï¼Œè€Œè¿™ä¸ªæ“ä½œå‡ ä¹ 0 æˆæœ¬ï¼Œæ‰€ä»¥å¯ä»¥æå¤§æé«˜æ€§èƒ½ã€‚ä¿®æ”¹åçš„ <code>shouldComponentUpdate</code> æ˜¯è¿™æ ·çš„ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; is &#125; <span class="keyword">from</span> <span class="string">'immutable'</span>;</div><div class="line"></div><div class="line">shouldComponentUpdate: <span class="function">(<span class="params">nextProps = &#123;&#125;, nextState = &#123;&#125;</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">const</span> thisProps = <span class="keyword">this</span>.props || &#123;&#125;, thisState = <span class="keyword">this</span>.state || &#123;&#125;;</div><div class="line"></div><div class="line">  <span class="keyword">if</span> (<span class="built_in">Object</span>.keys(thisProps).length !== <span class="built_in">Object</span>.keys(nextProps).length ||</div><div class="line">      <span class="built_in">Object</span>.keys(thisState).length !== <span class="built_in">Object</span>.keys(nextState).length) &#123;</div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> nextProps) &#123;</div><div class="line">    <span class="keyword">if</span> (thisProps[key] !== nextProps[key] || ï¼is(thisProps[key], nextProps[key])) &#123;</div><div class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> nextState) &#123;</div><div class="line">    <span class="keyword">if</span> (thisState[key] !== nextState[key] || ï¼is(thisState[key], nextState[key])) &#123;</div><div class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>ä½¿ç”¨ Immutable åï¼Œå¦‚ä¸‹å›¾ï¼Œå½“çº¢è‰²èŠ‚ç‚¹çš„ state å˜åŒ–åï¼Œä¸ä¼šå†æ¸²æŸ“æ ‘ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œè€Œæ˜¯åªæ¸²æŸ“å›¾ä¸­ç»¿è‰²çš„éƒ¨åˆ†ï¼š</p><p><img src="/assets/img/immutable.jpg" alt="immutableæ¼”ç¤º" title="immutableæ¼”ç¤º">  </p><p>æœ¬é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨æ”¯æŒ class è¯­æ³•çš„ <a href="http://link.zhihu.com/?target=https%3A//github.com/felixgirault/pure-render-decorator" target="_blank" rel="external">pure-render-decorator</a> æ¥å®ç°ã€‚æˆ‘ä»¬å¸Œæœ›è¾¾åˆ°çš„æ•ˆæœæ˜¯ï¼šå½“æˆ‘ä»¬ç¼–è¾‘ç»„ä»¶çš„å±æ€§æ—¶ï¼Œå…¶ä»–ç»„ä»¶å¹¶ä¸è¢«æ¸²æŸ“ï¼Œè€Œä¸”previewé‡Œï¼Œåªæœ‰è¢«ä¿®æ”¹çš„previewç»„ä»¶updateï¼Œè€Œå…¶ä»–previewç»„ä»¶ä¸æ¸²æŸ“ã€‚ä¸ºäº†æ–¹ä¾¿è§‚å¯Ÿç»„ä»¶æ˜¯å¦è¢«æ¸²æŸ“ï¼Œæˆ‘ä»¬äººä¸ºçš„ç»™ç»„ä»¶å¢åŠ äº†data-idçš„å±æ€§ï¼Œå…¶å€¼ä¸º<code>Math.random()</code>çš„éšæœºå€¼ã€‚æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š  </p><p><img src="/assets/img/immutable.gif" alt="immutableå®é™…æ•ˆæœå›¾" title="immutableå®é™…æ•ˆæœå›¾">  </p><h3 id="4-Reducer"><a href="#4-Reducer" class="headerlink" title="4. Reducer"></a>4. Reducer</h3><p>Store æ”¶åˆ° Action ä»¥åï¼Œå¿…é¡»ç»™å‡ºä¸€ä¸ªæ–°çš„ Stateï¼Œè¿™æ · View æ‰ä¼šå‘ç”Ÿå˜åŒ–ã€‚è¿™ç§ State çš„è®¡ç®—è¿‡ç¨‹å°±å«åš Reducerã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> immutable <span class="keyword">from</span> <span class="string">'immutable'</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> unitsConfig = immutable.fromJS(&#123;</div><div class="line">    <span class="attr">META</span>: &#123;</div><div class="line">        <span class="attr">type</span>: <span class="string">'META'</span>,</div><div class="line">        <span class="attr">name</span>: <span class="string">'METAä¿¡æ¯é…ç½®'</span>,</div><div class="line">        <span class="attr">title</span>: <span class="string">''</span>,</div><div class="line">        <span class="attr">keywords</span>: <span class="string">''</span>,</div><div class="line">        <span class="attr">desc</span>: <span class="string">''</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">TITLE</span>: &#123;</div><div class="line">        <span class="attr">type</span>: <span class="string">'TITLE'</span>,</div><div class="line">        <span class="attr">name</span>: <span class="string">'æ ‡é¢˜'</span>,</div><div class="line">        <span class="attr">text</span>: <span class="string">''</span>,</div><div class="line">        <span class="attr">url</span>: <span class="string">''</span>,</div><div class="line">        <span class="attr">color</span>: <span class="string">'#000'</span>,</div><div class="line">        <span class="attr">fontSize</span>: <span class="string">"middle"</span>,</div><div class="line">        <span class="attr">textAlign</span>: <span class="string">"center"</span>,</div><div class="line">        <span class="attr">padding</span>: [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</div><div class="line">        <span class="attr">margin</span>: [<span class="number">10</span>, <span class="number">0</span>, <span class="number">20</span>, <span class="number">0</span>]</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">IMAGE</span>: &#123;</div><div class="line">        <span class="attr">type</span>: <span class="string">'IMAGE'</span>,</div><div class="line">        <span class="attr">name</span>: <span class="string">'å›¾ç‰‡'</span>,</div><div class="line">        <span class="attr">address</span>: <span class="string">''</span>,</div><div class="line">        <span class="attr">url</span>: <span class="string">''</span>,</div><div class="line">        <span class="attr">bgColor</span>: <span class="string">'#fff'</span>,</div><div class="line">        <span class="attr">padding</span>: [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</div><div class="line">        <span class="attr">margin</span>: [<span class="number">10</span>, <span class="number">0</span>, <span class="number">20</span>, <span class="number">0</span>]</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">BUTTON</span>: &#123;</div><div class="line">        <span class="attr">type</span>: <span class="string">'BUTTON'</span>,</div><div class="line">        <span class="attr">name</span>: <span class="string">'æŒ‰é’®'</span>,</div><div class="line">        <span class="attr">address</span>: <span class="string">''</span>,</div><div class="line">        <span class="attr">url</span>: <span class="string">''</span>,</div><div class="line">        <span class="attr">txt</span>: <span class="string">''</span>,</div><div class="line">        <span class="attr">margin</span>: [</div><div class="line">            <span class="number">0</span>, <span class="number">30</span>, <span class="number">20</span>, <span class="number">30</span></div><div class="line">        ],</div><div class="line">        <span class="attr">buttonStyle</span>: <span class="string">"yellowStyle"</span>,</div><div class="line">        <span class="attr">bigRadius</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">style</span>: <span class="string">'default'</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">TEXTBODY</span>: &#123;</div><div class="line">        <span class="attr">type</span>: <span class="string">'TEXTBODY'</span>,</div><div class="line">        <span class="attr">name</span>: <span class="string">'æ­£æ–‡'</span>,</div><div class="line">        <span class="attr">text</span>: <span class="string">''</span>,</div><div class="line">        <span class="attr">textColor</span>: <span class="string">'#333'</span>,</div><div class="line">        <span class="attr">bgColor</span>: <span class="string">'#fff'</span>,</div><div class="line">        <span class="attr">fontSize</span>: <span class="string">"small"</span>,</div><div class="line">        <span class="attr">textAlign</span>: <span class="string">"center"</span>,</div><div class="line">        <span class="attr">padding</span>: [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</div><div class="line">        <span class="attr">margin</span>: [<span class="number">0</span>, <span class="number">30</span>, <span class="number">20</span>, <span class="number">30</span>],</div><div class="line">        <span class="attr">changeLine</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">retract</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">bigLH</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">bigPD</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">noUL</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">borderRadius</span>: <span class="literal">true</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">AUDIO</span>: &#123;</div><div class="line">        <span class="attr">type</span>: <span class="string">'AUDIO'</span>,</div><div class="line">        <span class="attr">name</span>: <span class="string">'éŸ³é¢‘'</span>,</div><div class="line">        <span class="attr">address</span>: <span class="string">''</span>,</div><div class="line">        <span class="attr">size</span>: <span class="string">'middle'</span>,</div><div class="line">        <span class="attr">position</span>: <span class="string">'topRight'</span>,</div><div class="line">        <span class="attr">bgColor</span>: <span class="string">'#9160c3'</span>,</div><div class="line">        <span class="attr">loop</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">auto</span>: <span class="literal">true</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">VIDEO</span>: &#123;</div><div class="line">        <span class="attr">type</span>: <span class="string">'VIDEO'</span>,</div><div class="line">        <span class="attr">name</span>: <span class="string">'è§†é¢‘'</span>,</div><div class="line">        <span class="attr">address</span>: <span class="string">''</span>,</div><div class="line">        <span class="attr">loop</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">auto</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">padding</span>: [<span class="number">0</span>, <span class="number">0</span>, <span class="number">20</span>, <span class="number">0</span>]</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">CODE</span>: &#123;</div><div class="line">        <span class="attr">type</span>: <span class="string">'CODE'</span>,</div><div class="line">        <span class="attr">name</span>: <span class="string">'JSCSS'</span>,</div><div class="line">        <span class="attr">js</span>: <span class="string">''</span>,</div><div class="line">        <span class="attr">css</span>: <span class="string">''</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">STATISTIC</span>: &#123;</div><div class="line">        <span class="attr">type</span>: <span class="string">'STATISTIC'</span>,</div><div class="line">        <span class="attr">name</span>: <span class="string">'ç»Ÿè®¡'</span>,</div><div class="line">        <span class="attr">id</span>: <span class="string">''</span></div><div class="line">    &#125;</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="keyword">const</span> initialState = immutable.fromJS([</div><div class="line">    &#123;</div><div class="line">        <span class="attr">type</span>: <span class="string">'META'</span>,</div><div class="line">        <span class="attr">name</span>: <span class="string">'METAä¿¡æ¯é…ç½®'</span>,</div><div class="line">        <span class="attr">title</span>: <span class="string">''</span>,</div><div class="line">        <span class="attr">keywords</span>: <span class="string">''</span>,</div><div class="line">        <span class="attr">desc</span>: <span class="string">''</span>,</div><div class="line">        <span class="comment">// éå¸¸é‡è¦çš„å±æ€§ï¼Œè¡¨æ˜è¿™æ¬¡stateå˜åŒ–æ¥è‡ªå“ªä¸ªç»„ä»¶ï¼</span></div><div class="line">        fromType: <span class="string">''</span></div><div class="line">    &#125;</div><div class="line">]);</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">reducer</span>(<span class="params">state = initialState, action</span>) </span>&#123;</div><div class="line">    <span class="keyword">let</span> newState, localData, tmp</div><div class="line">    <span class="comment">// åˆå§‹åŒ–ä»localstorageå–æ•°æ®</span></div><div class="line">    <span class="keyword">if</span> (state === initialState) &#123;</div><div class="line">        localData = localStorage.getItem(<span class="string">'config'</span>);</div><div class="line">        !!localData &amp;&amp; (state = immutable.fromJS(<span class="built_in">JSON</span>.parse(localData)));</div><div class="line">        <span class="comment">// sessionStorageçš„åˆå§‹åŒ–</span></div><div class="line">        sessionStorage.setItem(<span class="string">'configs'</span>, <span class="built_in">JSON</span>.stringify([]));</div><div class="line">        sessionStorage.setItem(<span class="string">'index'</span>, <span class="number">0</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">switch</span> (action.type) &#123;</div><div class="line">        <span class="keyword">case</span> <span class="string">'AddUnit'</span>: &#123;</div><div class="line">            tmp = state.push(unitsConfig.get(action.name));</div><div class="line">            newState = tmp.setIn([<span class="number">0</span>, <span class="string">'fromType'</span>], action.name);</div><div class="line">            <span class="keyword">break</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">case</span> <span class="string">'CopyUnit'</span>: &#123;</div><div class="line">            tmp = state.push(state.get(action.id));</div><div class="line">            newState = tmp.setIn([<span class="number">0</span>, <span class="string">'fromType'</span>], state.getIn([action.id, <span class="string">'type'</span>]));</div><div class="line">            <span class="keyword">break</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">case</span> <span class="string">'EditUnit'</span>: &#123;</div><div class="line">            tmp = state.setIn([action.id, action.prop], action.value);</div><div class="line">            newState = tmp.setIn([<span class="number">0</span>, <span class="string">'fromType'</span>], state.getIn([action.id, <span class="string">'type'</span>]));</div><div class="line">            <span class="keyword">break</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">case</span> <span class="string">'RemoveUnit'</span>: &#123;</div><div class="line">            <span class="keyword">const</span> type = state.getIn([action.id, <span class="string">'type'</span>]);</div><div class="line">            tmp = state.splice(action.id, <span class="number">1</span>);</div><div class="line">            newState = tmp.setIn([<span class="number">0</span>, <span class="string">'fromType'</span>], type);</div><div class="line">            <span class="keyword">break</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">case</span> <span class="string">'Clear'</span>: &#123;</div><div class="line">            tmp = initialState;</div><div class="line">            newState = tmp.setIn([<span class="number">0</span>, <span class="string">'fromType'</span>], <span class="string">'ALL'</span>);</div><div class="line">            <span class="keyword">break</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">case</span> <span class="string">'Insert'</span>: &#123;</div><div class="line">            tmp = immutable.fromJS(action.data);</div><div class="line">            newState = tmp.setIn([<span class="number">0</span>, <span class="string">'fromType'</span>], <span class="string">'ALL'</span>);</div><div class="line">            <span class="keyword">break</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">case</span> <span class="string">'MoveUnit'</span>:&#123;</div><div class="line">            <span class="keyword">const</span> &#123;fid, tid&#125; = action;</div><div class="line">            <span class="keyword">const</span> fitem = state.get(fid);</div><div class="line">            <span class="keyword">if</span> (fitem &amp;&amp; fid != tid) &#123;</div><div class="line">                tmp = state.splice(fid, <span class="number">1</span>).splice(tid, <span class="number">0</span>, fitem);</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                tmp = state;</div><div class="line">            &#125;</div><div class="line">            newState = tmp.setIn([<span class="number">0</span>, <span class="string">'fromType'</span>], <span class="string">''</span>);</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">default</span>:</div><div class="line">            newState = state;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// æ›´æ–°localstorageï¼Œä¾¿äºæ¢å¤ç°åœº</span></div><div class="line">    localStorage.setItem(<span class="string">'config'</span>, <span class="built_in">JSON</span>.stringify(newState.toJS()));</div><div class="line"></div><div class="line">    <span class="comment">// æ’¤é”€ï¼Œæ¢å¤æ“ä½œ(ä»…ä»¥ç»„ä»¶æ•°é‡å˜åŒ–ä¸ºè§¦å‘ç‚¹ï¼Œå¦åˆ™å­˜å‚¨æ•°æ®å·¨å¤§ï¼Œä¹Ÿæ²¡å¿…è¦)</span></div><div class="line">    <span class="keyword">let</span> index = <span class="built_in">parseInt</span>(sessionStorage.getItem(<span class="string">'index'</span>));</div><div class="line">    <span class="keyword">let</span> configs = <span class="built_in">JSON</span>.parse(sessionStorage.getItem(<span class="string">'configs'</span>));</div><div class="line">    <span class="keyword">if</span>(action.type == <span class="string">'Insert'</span> &amp;&amp; action.index)&#123;</div><div class="line">        sessionStorage.setItem(<span class="string">'index'</span>, index + action.index);</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        <span class="keyword">if</span>(newState.toJS().length != state.toJS().length)&#123;</div><div class="line">            <span class="comment">// ç»„ä»¶çš„æ•°é‡æœ‰å˜åŒ–ï¼Œåˆ é™¤å†å²è®°å½•indexæŒ‡é’ˆçŠ¶æ€ä¹‹åçš„æ‰€æœ‰configsï¼Œå°†è¿™æ¬¡å˜åŒ–çš„configä½œä¸ºæœ€æ–°çš„è®°å½•</span></div><div class="line">            configs.splice(index + <span class="number">1</span>, configs.length - index - <span class="number">1</span>, <span class="built_in">JSON</span>.stringify(newState.toJS()));</div><div class="line">            sessionStorage.setItem(<span class="string">'configs'</span>, <span class="built_in">JSON</span>.stringify(configs));</div><div class="line">            sessionStorage.setItem(<span class="string">'index'</span>, configs.length - <span class="number">1</span>);</div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">            <span class="comment">// ç»„ä»¶æ•°é‡æ²¡æœ‰å˜åŒ–ï¼Œindexä¸å˜ã€‚ä½†æ˜¯è¦æ›´æ–°å­˜å‚¨çš„configé…ç½®</span></div><div class="line">            configs.splice(index, <span class="number">1</span>, <span class="built_in">JSON</span>.stringify(newState.toJS()));</div><div class="line">            sessionStorage.setItem(<span class="string">'configs'</span>, <span class="built_in">JSON</span>.stringify(configs));</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">// console.log(JSON.parse(sessionStorage.getItem('configs')));</span></div><div class="line">    <span class="keyword">return</span> newState</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> reducer;</div></pre></td></tr></table></figure></p><p>Reduceræ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥å—Actionå’Œå½“å‰Stateä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„Stateã€‚unitsConfigæ˜¯å­˜å‚¨ç€å„ä¸ªç»„ä»¶åˆå§‹é…ç½®çš„å¯¹è±¡é›†åˆï¼Œæ‰€æœ‰æ–°æ·»åŠ çš„ç»„ä»¶éƒ½ä»é‡Œè¾¹å–åˆå§‹å€¼ã€‚Stateæœ‰ä¸€ä¸ªåˆå§‹å€¼ï¼šinitialStateï¼ŒåŒ…å«METAç»„ä»¶ï¼Œå› ä¸ºæ¯ä¸ªwebé¡µé¢å¿…å®šæœ‰ä¸€ä¸ªMETAä¿¡æ¯ï¼Œè€Œä¸”åªæœ‰ä¸€ä¸ªï¼Œæ‰€ä»¥é¡µé¢å·¦ä¾§ç»„ä»¶åˆ—è¡¨é‡Œä¸åŒ…å«å®ƒã€‚</p><p>reducerä¼šæ ¹æ®actionçš„typeä¸åŒï¼Œå»æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚ä½†æ˜¯ä¸€å®šè¦æ³¨æ„ï¼Œimmutableæ•°æ®æ“ä½œåè¦è®°å¾—èµ‹å€¼ã€‚æ¯æ¬¡ç»“æŸåæˆ‘ä»¬éƒ½ä¼šå»ä¿®æ”¹fromTypeå€¼ï¼Œæ˜¯å› ä¸ºæœ‰çš„ç»„ä»¶ï¼Œæ¯”å¦‚AUDIOã€CODEç­‰ä¿®æ”¹åï¼Œé¢„è§ˆçš„jsä»£ç éœ€è¦é‡æ–°æ‰§è¡Œä¸€æ¬¡æ‰å¯ä»¥ç”Ÿæ•ˆï¼Œè€Œå…¶ä»–ç»„ä»¶æˆ‘ä»¬å¯ä»¥ä¸ç”¨å»æ‰§è¡Œï¼Œæé«˜æ€§èƒ½ã€‚  </p><p>å½“ç„¶ï¼Œæˆ‘ä»¬é¡µé¢ä¹Ÿåšäº†ç°åœºæ¢å¤åŠŸèƒ½(localStorage)ï¼Œä¹Ÿå¾—ç›Šäºimmutableæ•°æ®ç»“æ„ï¼Œæˆ‘ä»¬å®ç°äº†Redo/Undoçš„åŠŸèƒ½ã€‚Redo/Undoçš„åŠŸèƒ½ä»…ä¼šåœ¨ç»„ä»¶ä¸ªæ•°æœ‰å˜åŒ–çš„æ—¶å€™è®¡ä½œä¸€æ¬¡ç‰ˆæœ¬ï¼Œå¦åˆ™å½•å–çš„çš„ä¿¡æ¯å¤ªå¤šï¼Œä¼šå¯¹æ€§èƒ½é€ æˆå½±å“ã€‚å½“ç„¶ï¼Œç»„ä»¶ä¿¡æ¯å‘ç”Ÿå˜åŒ–æˆ‘ä»¬æ˜¯ä¼šå»æ›´æ–°æ•°ç»„çš„ã€‚</p><h3 id="5-å·¥ä½œæµç¨‹"><a href="#5-å·¥ä½œæµç¨‹" class="headerlink" title="5. å·¥ä½œæµç¨‹"></a>5. å·¥ä½œæµç¨‹</h3><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src="/assets/img/redux_flow.jpg" alt="reduxæµç¨‹å›¾" title="reduxæµç¨‹å›¾">  </p><p>ç”¨æˆ·èƒ½æ¥è§¦åˆ°çš„åªæœ‰viewå±‚ï¼Œå°±æ˜¯ç»„ä»¶é‡Œçš„å„ç§è¾“å…¥æ¡†ï¼Œå•é€‰å¤šé€‰ç­‰ã€‚ç”¨æˆ·ä¸ä¹‹å‘ç”Ÿäº¤äº’ï¼Œä¼šå‘å‡ºactionã€‚React-Reduxæä¾›connectæ–¹æ³•ï¼Œç”¨äºä»UIç»„ä»¶ç”Ÿæˆå®¹å™¨ç»„ä»¶ã€‚connectæ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šmapStateToPropså’ŒmapDispatchToPropsï¼ŒæŒ‰ç…§React-Reduxçš„APIï¼Œæˆ‘ä»¬éœ€è¦å°†Store.dispatch(action)å†™åœ¨mapDispatchToPropså‡½æ•°é‡Œè¾¹ï¼Œä½†æ˜¯ä¸ºäº†ä¹¦å†™æ–¹ä¾¿å’Œç›´è§‚çœ‹å‡ºè¿™ä¸ªactionæ˜¯å“ªé‡Œå‘å‡ºçš„ï¼Œæˆ‘ä»¬æ²¡æœ‰éµå¾ªè¿™ä¸ªAPIï¼Œè€Œæ˜¯ç›´æ¥å†™åœ¨åœ¨ä»£ç ä¸­ã€‚</p><p>ç„¶åï¼ŒStore è‡ªåŠ¨è°ƒç”¨ Reducerï¼Œå¹¶ä¸”ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼šå½“å‰ State å’Œæ”¶åˆ°çš„ Actionã€‚ Reducer ä¼šè¿”å›æ–°çš„ State ã€‚State ä¸€æ—¦æœ‰å˜åŒ–ï¼ŒStore å°±ä¼šè°ƒç”¨ç›‘å¬å‡½æ•°ã€‚åœ¨React-Reduxè§„åˆ™é‡Œï¼Œæˆ‘ä»¬éœ€è¦æä¾›mapStateToPropså‡½æ•°ï¼Œå»ºç«‹ä¸€ä¸ªä»ï¼ˆå¤–éƒ¨çš„ï¼‰stateå¯¹è±¡åˆ°ï¼ˆUIç»„ä»¶çš„ï¼‰propså¯¹è±¡çš„æ˜ å°„å…³ç³»ã€‚mapStateToPropsä¼šè®¢é˜… Storeï¼Œæ¯å½“stateæ›´æ–°çš„æ—¶å€™ï¼Œå°±ä¼šè‡ªåŠ¨æ‰§è¡Œï¼Œé‡æ–°è®¡ç®— UI ç»„ä»¶çš„å‚æ•°ï¼Œä»è€Œè§¦å‘UIç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚å¤§å®¶å¯ä»¥çœ‹æˆ‘ä»¬content.jsç»„ä»¶çš„æœ€åä»£ç ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> connect(</div><div class="line">    <span class="function"><span class="params">state</span> =&gt;</span> (&#123;</div><div class="line">        <span class="attr">unit</span>: state.get(<span class="string">'unit'</span>),</div><div class="line">    &#125;)</div><div class="line">)(Content);</div></pre></td></tr></table></figure></p><p>connectæ–¹æ³•å¯ä»¥çœç•¥mapStateToPropså‚æ•°ï¼Œé‚£æ ·çš„è¯ï¼ŒUIç»„ä»¶å°±ä¸ä¼šè®¢é˜…Storeï¼Œå°±æ˜¯è¯´ Store çš„æ›´æ–°ä¸ä¼šå¼•èµ· UI ç»„ä»¶çš„æ›´æ–°ã€‚åƒheaderå’Œfooterç»„ä»¶ï¼Œå°±æ˜¯çº¯UIç»„ä»¶ã€‚</p><p>ä¸ºä»€ä¹ˆæˆ‘ä»¬çš„å„ä¸ªå­ç»„ä»¶éƒ½å¯ä»¥æ‹¿åˆ°stateçŠ¶æ€ï¼Œé‚£æ˜¯å› ä¸ºæˆ‘ä»¬åœ¨æœ€é¡¶å±‚ç»„ä»¶å¤–é¢åˆåŒ…äº†ä¸€å±‚<provider> ç»„ä»¶ã€‚å…¥å£æ–‡ä»¶index.jsä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> <span class="string">"babel-polyfill"</span>;</div><div class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">import</span> ReactDom <span class="keyword">from</span> <span class="string">'react-dom'</span>;</div><div class="line"><span class="keyword">import</span> &#123; Provider &#125; <span class="keyword">from</span> <span class="string">'react-redux'</span>;</div><div class="line"><span class="keyword">import</span> &#123; Router, Route, IndexRoute, browserHistory &#125; <span class="keyword">from</span> <span class="string">'react-router'</span>;</div><div class="line"></div><div class="line"><span class="keyword">import</span> <span class="string">'./index.scss'</span>;</div><div class="line"></div><div class="line"><span class="keyword">import</span> Store <span class="keyword">from</span> <span class="string">'./store'</span>;</div><div class="line"></div><div class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./components/app'</span>;</div><div class="line"></div><div class="line">ReactDom.render(</div><div class="line">    <span class="xml"><span class="tag">&lt;<span class="name">Provider</span> <span class="attr">store</span>=<span class="string">&#123;Store&#125;</span>&gt;</span></span></div><div class="line">        <span class="tag">&lt;<span class="name">Router</span> <span class="attr">history</span>=<span class="string">&#123;browserHistory&#125;</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">"/"</span> <span class="attr">component</span>=<span class="string">&#123;App&#125;</span>&gt;</span></div><div class="line"></div><div class="line">            <span class="tag">&lt;/<span class="name">Route</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">Router</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">Provider</span>&gt;</span>,</div><div class="line">    <span class="built_in">document</span>.querySelector(<span class="string">'#app'</span>)</div><div class="line">);</div></pre></td></tr></table></figure></provider></p><p>æˆ‘ä»¬çš„react-routeré‡‡ç”¨çš„æ˜¯browserHistoryï¼Œä½¿ç”¨çš„æ˜¯HTML5çš„History APIï¼Œè·¯ç”±åˆ‡æ¢äº¤ç»™åå°ã€‚</p><h2 id="äº”ã€å…¼å®¹æ€§å’Œæ‰“åŒ…ä¼˜åŒ–"><a href="#äº”ã€å…¼å®¹æ€§å’Œæ‰“åŒ…ä¼˜åŒ–" class="headerlink" title="äº”ã€å…¼å®¹æ€§å’Œæ‰“åŒ…ä¼˜åŒ–"></a>äº”ã€å…¼å®¹æ€§å’Œæ‰“åŒ…ä¼˜åŒ–</h2><h3 id="1-å…¼å®¹æ€§"><a href="#1-å…¼å®¹æ€§" class="headerlink" title="1. å…¼å®¹æ€§"></a>1. å…¼å®¹æ€§</h3><p>ä¸ºäº†è®©é¡µé¢æ›´å¥½çš„å…¼å®¹IE9+å’Œandroidæµè§ˆå™¨ï¼Œå› ä¸ºé¡¹ç›®ä½¿ç”¨äº†babelï¼Œæ‰€ä»¥é‡‡ç”¨<a href="https://babeljs.io/docs/usage/polyfill/" target="_blank" rel="external">babel-polyfill</a>å’Œ<a href="https://babeljs.io/docs/plugins/transform-runtime/" target="_blank" rel="external">babel-plugin-transform-runtime</a>æ’ä»¶ã€‚</p><h3 id="2-AntdæŒ‰éœ€åŠ è½½"><a href="#2-AntdæŒ‰éœ€åŠ è½½" class="headerlink" title="2. AntdæŒ‰éœ€åŠ è½½"></a>2. AntdæŒ‰éœ€åŠ è½½</h3><p>Antdå®Œæ•´åŒ…ç‰¹åˆ«å¤§ï¼Œæœ‰10Må¤šã€‚è€Œæˆ‘ä»¬é¡¹ç›®é‡Œä¸»è¦æ˜¯é‡‡ç”¨äº†å¼¹çª—ç»„ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥é‡‡ç”¨æŒ‰éœ€åŠ è½½ã€‚åªéœ€åœ¨.babelrcæ–‡ä»¶é‡Œé…ç½®ä¸€ä¸‹å³å¯ï¼Œè¯¦è§<a href="https://ant.design/docs/react/introduce-cn#%E6%8C%89%E9%9C%80%E5%8A%A0%E8%BD%BD" target="_blank" rel="external">å®˜æ–¹è¯´æ˜</a>ã€‚  </p><h3 id="3-webpacké…ç½®externalså±æ€§"><a href="#3-webpacké…ç½®externalså±æ€§" class="headerlink" title="3. webpacké…ç½®externalså±æ€§"></a>3. webpacké…ç½®externalså±æ€§</h3><p>é¡¹ç›®æœ€åæ‰“åŒ…çš„main.jséå¸¸å¤§ï¼Œæœ‰æ¥è¿‘10Må¤šã€‚åœ¨ç½‘ä¸Šæœäº†å¾ˆå¤šæ–¹æ³•ï¼Œæœ€åå‘ç°webpacké…ç½®externalså±æ€§çš„æ–¹æ³•éå¸¸å¥½ã€‚å¯ä»¥åˆ©ç”¨pcçš„å¤šæ–‡ä»¶å¹¶è¡Œä¸‹è½½ï¼Œé™ä½è‡ªå·±æœåŠ¡å™¨çš„å‹åŠ›å’Œæµé‡ï¼ŒåŒæ—¶å¯ä»¥åˆ©ç”¨cdnçš„ç¼“å­˜èµ„æºã€‚é…ç½®å¦‚ä¸‹æ‰€ç¤ºï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">externals: &#123;</div><div class="line">    <span class="string">"jquery"</span>: <span class="string">"jQuery"</span>,</div><div class="line">    <span class="string">"react"</span>: <span class="string">"React"</span>,</div><div class="line">    <span class="string">"react-dom"</span>: <span class="string">"ReactDOM"</span>,</div><div class="line">    <span class="string">'CodeMirror'</span>: <span class="string">'CodeMirror'</span>,</div><div class="line">    <span class="string">'immutable'</span>: <span class="string">'Immutable'</span>,</div><div class="line">    <span class="string">'react-router'</span>: <span class="string">'ReactRouter'</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>externalså±æ€§å‘Šè¯‰webpackï¼Œå¦‚ä¸‹çš„è¿™äº›èµ„æºä¸è¿›è¡Œæ‰“åŒ…ï¼Œä»å¤–éƒ¨å¼•å…¥ã€‚ä¸€èˆ¬éƒ½æ˜¯ä¸€äº›å…¬å…±æ–‡ä»¶ï¼Œæ¯”å¦‚jqueryã€reactç­‰ã€‚æ³¨æ„ï¼Œå› ä¸ºè¿™äº›æ–‡ä»¶ä»å¤–éƒ¨å¼•å…¥ï¼Œæ‰€ä»¥åœ¨<code>npm install</code>çš„æ—¶å€™ï¼Œæœ‰äº›ä¾èµ–è¿™äº›å…¬å…±æ–‡ä»¶çš„åŒ…å®‰è£…ä¼šæŠ¥warningï¼Œæ‰€ä»¥çœ‹åˆ°è¿™äº›å¤§å®¶ä¸è¦ç´§å¼ ã€‚ç»è¿‡å¤„ç†ï¼Œmain.jsæ–‡ä»¶å¤§å°é™åˆ°3.7Mï¼Œç„¶ånginxé…ç½®ä¸‹gzipç¼–ç å‹ç¼©ï¼Œæœ€ç»ˆå°†æ–‡ä»¶å¤§å°é™åˆ°872KBã€‚å› ä¸ºåœ¨ç§»åŠ¨ç«¯ï¼Œæ–‡ä»¶åŠ è½½è¿˜æ˜¯æ¯”è¾ƒæ…¢çš„ï¼Œæˆ‘åˆç»™é¡µé¢åŠ äº†loadingæ•ˆæœã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;pagemakeræ˜¯ä¸€ä¸ªå‰ç«¯é¡µé¢åˆ¶ä½œå·¥å…·ï¼Œæ–¹ä¾¿äº§å“ï¼Œè¿è¥å’Œè§†è§‰çš„åŒå­¦è¿…é€Ÿå¼€å‘ç®€å•çš„å‰ç«¯é¡µé¢ï¼Œä»è€Œå¯ä»¥è§£æ”¾å‰ç«¯åŒå­¦çš„å·¥ä½œé‡ã€‚æ­¤é¡¹ç›®åˆ›æ„æ¥è‡ªç½‘æ˜“ä¹å¾—å†…éƒ¨é¡¹ç›®&lt;a href=&quot;http://nfop.ms.netease.com/&quot;&gt;nfop&lt;/a&gt;ä¸­çš„pagemakeré¡¹ç›®ã€‚åŸæ¥é¡¹ç›®çš„å‰ç«¯æ˜¯é‡‡ç”¨jqueryå’Œæ¨¡æ¿ejsåšçš„ï¼Œæ¯æ¬¡ç»„ä»¶çš„æ›´æ–°éƒ½ä¼šé‡ç»˜æ•´ä¸ªdomï¼Œæ€§èƒ½ä¸æ˜¯å¾ˆå¥½ã€‚å› ä¸ºå½“æ—¶reactç‰¹åˆ«ç«ï¼ŒåŠ ä¸Šé¡¹ç›®æœ¬èº«çš„é€‚åˆï¼Œæœ€åå†³å®šé‡‡ç”¨reactæ¥è¯•è¯•æ°´ã€‚å› ä¸ºåŸæ¥æ•´ä¸ªé¡¹ç›®æ˜¯åŒ…å«å¾ˆå¤šå­é¡¹ç›®ä¸€èµ·ï¼Œæ‰€ä»¥åå°çš„å®ç°ä¹Ÿæ²¡æœ‰å‚è€ƒï¼Œå®Œå…¨é‡å†™ã€‚  &lt;/p&gt;
&lt;p&gt;æœ¬é¡¹ç›®åªæ˜¯åŸæ¥é¡¹ç›®çš„ç®€å•å®ç°ï¼Œå»é™¤äº†ç”¨çš„ä¸å¤šå’Œå¤æ‚çš„ç»„ä»¶ã€‚ä½†éº»é›€è™½å°äº”è„ä¿±å…¨ï¼Œæœ¬é¡¹ç›®é‡‡ç”¨äº†reactçš„ä¸€æ•´å¥—æŠ€æœ¯æ ˆï¼Œé€‚åˆé‚£äº›å¯¹reactæœ‰è¿‡å‰æœŸå­¦ä¹ ï¼Œæƒ³é€šè¿‡demoæ¥åŠ æ·±ç†è§£å¹¶åŠ¨æ‰‹å®è·µçš„åŒå­¦ã€‚å»ºè®®å­¦ä¹ æœ¬demoçš„ä¹‹å‰ï¼Œå…ˆå­¦ä¹ /å¤ä¹ ä¸‹ç›¸å…³çš„çŸ¥è¯†ç‚¹ï¼š&lt;a href=&quot;http://www.ruanyifeng.com/blog/2016/09/react-technology-stack.html&quot;&gt;React æŠ€æœ¯æ ˆç³»åˆ—æ•™ç¨‹&lt;/a&gt;ã€&lt;a href=&quot;https://zhuanlan.zhihu.com/p/20295971?columnSlug=purerender&quot;&gt;Immutable è¯¦è§£åŠ React ä¸­å®è·µ&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ¬¢è¿å¤§å®¶starå­¦ä¹ äº¤æµï¼š&lt;a href=&quot;https://pagemaker.wty90.com/&quot;&gt;çº¿ä¸Šåœ°å€&lt;/a&gt;&amp;emsp;&lt;a href=&quot;https://github.com/tywei90/pagemaker_production&quot;&gt;githubåœ°å€&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="é¡µé¢åˆ¶ä½œ" scheme="https://www.wty90.com/tags/%E9%A1%B5%E9%9D%A2%E5%88%B6%E4%BD%9C/"/>
    
      <category term="react" scheme="https://www.wty90.com/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>ç§»åŠ¨ç«¯å¸ƒå±€æ–¹æ¡ˆæ¢ç©¶</title>
    <link href="https://www.wty90.com/2017/07/17/mobile-study/"/>
    <id>https://www.wty90.com/2017/07/17/mobile-study/</id>
    <published>2017-07-17T15:04:58.000Z</published>
    <updated>2018-02-18T16:10:25.000Z</updated>
    
    <content type="html"><![CDATA[<p>ç ”ç©¶äº†æ·˜å®ï¼Œå¤©çŒ«å’Œç½‘æ˜“å½©ç¥¨163çš„wapä¸»é¡µæ ·å¼å¸ƒå±€ï¼Œæ€»ç»“ç§»åŠ¨ç«¯å¸ƒå±€æ–¹æ¡ˆ<br><em>æ³¨æ„ï¼šä»£ç è¿è¡Œæ˜¯fileåè®®ï¼Œåœ¨chromeé‡Œä¸æ”¯æŒå¼•ç”¨æœ¬åœ°æ–‡ä»¶ï¼Œä¼šæç¤ºè·¨åŸŸé”™è¯¯ï¼Œå¯ä»¥ç”¨firefoxæˆ–è€…Safariæ‰“å¼€</em></p><p>å½“æ—¶åšçš„pptä¸‹è½½: <a href="https://raw.githubusercontent.com/tywei90/mobile_study/master/assets/mobile_study.ppt" target="_blank" rel="external">2015å¹´12æœˆç§»åŠ¨ç«¯å¸ƒå±€æ–¹æ¡ˆæ¢ç©¶</a></p><p>æ¬¢è¿å¤§å®¶starå­¦ä¹ äº¤æµï¼š<a href="https://github.com/tywei90/mobile_study" target="_blank" rel="external">githubåœ°å€</a></p><a id="more"></a><h2 id="ä¸€ã€åŸºæœ¬æ¦‚å¿µ"><a href="#ä¸€ã€åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="ä¸€ã€åŸºæœ¬æ¦‚å¿µ"></a>ä¸€ã€åŸºæœ¬æ¦‚å¿µ</h2><h3 id="1-ç‰©ç†åƒç´ -physical-pixel"><a href="#1-ç‰©ç†åƒç´ -physical-pixel" class="headerlink" title="1. ç‰©ç†åƒç´ (physical pixel)"></a>1. ç‰©ç†åƒç´ (physical pixel)</h3><p>ä¸€ä¸ªç‰©ç†åƒç´ æ˜¯æ˜¾ç¤ºå™¨(æ‰‹æœºå±å¹•)ä¸Šæœ€å°çš„ç‰©ç†æ˜¾ç¤ºå•å…ƒ</p><h3 id="2-è®¾å¤‡ç‹¬ç«‹åƒç´ -density-independent-pixel"><a href="#2-è®¾å¤‡ç‹¬ç«‹åƒç´ -density-independent-pixel" class="headerlink" title="2. è®¾å¤‡ç‹¬ç«‹åƒç´ (density-independent pixel)"></a>2. è®¾å¤‡ç‹¬ç«‹åƒç´ (density-independent pixel)</h3><p>è®¾å¤‡ç‹¬ç«‹åƒç´ (ä¹Ÿå«å¯†åº¦æ— å…³åƒç´ )ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯è®¡ç®—æœºåæ ‡ç³»ç»Ÿä¸­å¾—ä¸€ä¸ªç‚¹ï¼Œè¿™ä¸ªç‚¹ä»£è¡¨ä¸€ä¸ªå¯ä»¥ç”±ç¨‹åºä½¿ç”¨çš„è™šæ‹Ÿåƒç´ (æ¯”å¦‚: CSSåƒç´ )</p><h3 id="3-ä½å›¾åƒç´ "><a href="#3-ä½å›¾åƒç´ " class="headerlink" title="3. ä½å›¾åƒç´ "></a>3. ä½å›¾åƒç´ </h3><p>ä¸€ä¸ªä½å›¾åƒç´ æ˜¯æ …æ ¼å›¾åƒ(å¦‚ï¼špng, jpg, gifç­‰)æœ€å°çš„æ•°æ®å•å…ƒã€‚æ¯ä¸€ä¸ªä½å›¾åƒç´ éƒ½åŒ…å«ç€ä¸€äº›è‡ªèº«çš„æ˜¾ç¤ºä¿¡æ¯(å¦‚ï¼šæ˜¾ç¤ºä½ç½®ï¼Œé¢œè‰²å€¼ï¼Œé€æ˜åº¦ç­‰)</p><h3 id="4-è®¾å¤‡åƒç´ æ¯”-ç®€ç§°dpr"><a href="#4-è®¾å¤‡åƒç´ æ¯”-ç®€ç§°dpr" class="headerlink" title="4. è®¾å¤‡åƒç´ æ¯”(ç®€ç§°dpr)"></a>4. è®¾å¤‡åƒç´ æ¯”(ç®€ç§°dpr)</h3><p>è®¾å¤‡åƒç´ æ¯” = ç‰©ç†åƒç´  / è®¾å¤‡ç‹¬ç«‹åƒç´ ï¼ˆåœ¨æŸä¸€æ–¹å‘ä¸Šï¼Œxæ–¹å‘æˆ–è€…yæ–¹å‘ï¼‰</p><h3 id="5-scale"><a href="#5-scale" class="headerlink" title="5. scale"></a>5. scale</h3><p>ç¼©æ”¾æ¯”ï¼šscale = 1/dpr</p><h3 id="6-å®Œç¾è§†å£"><a href="#6-å®Œç¾è§†å£" class="headerlink" title="6. å®Œç¾è§†å£"></a>6. å®Œç¾è§†å£</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"initial-scale=1,width=device-width,user-scalable=0,maximum-scale=1"</span> /&gt;</span></div></pre></td></tr></table></figure><h2 id="äºŒã€ç½‘æ˜“å½©ç¥¨è®¾è®¡æ–¹æ¡ˆ"><a href="#äºŒã€ç½‘æ˜“å½©ç¥¨è®¾è®¡æ–¹æ¡ˆ" class="headerlink" title="äºŒã€ç½‘æ˜“å½©ç¥¨è®¾è®¡æ–¹æ¡ˆ"></a>äºŒã€ç½‘æ˜“å½©ç¥¨è®¾è®¡æ–¹æ¡ˆ</h2><p><a href="http://caipiao.163.com/t/" target="_blank" rel="external">ç½‘æ˜“å½©ç¥¨</a></p><ul><li>é‡‡ç”¨scale = 1.0å†™æ­»viewport</li><li>é‡‡ç”¨åª’ä½“æŸ¥è¯¢æ¥ç¡®å®šhtmlæ ¹å…ƒç´ çš„font-sizeå€¼ï¼Œå³remå€¼</li><li>rem + ç™¾åˆ†æ¯”å¸ƒå±€</li></ul><p>åª’ä½“æŸ¥è¯¢çš„cssä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//ç½‘æ˜“å½©ç¥¨çš„å“åº”å¼å¸ƒå±€æ˜¯é‡‡ç”¨åª’ä½“æŸ¥è¯¢æ¥æ”¹å˜remå€¼å®ç°çš„</span></div><div class="line"><span class="comment">//åª’ä½“æŸ¥è¯¢css</span></div><div class="line"><span class="selector-id">#media-query</span>&#123;</div><div class="line">    <span class="keyword">@media</span> screen and (<span class="attribute">min-width</span>: <span class="number">240px</span>) &#123;</div><div class="line">        <span class="selector-tag">html</span>,<span class="selector-tag">body</span>,<span class="selector-tag">button</span>,<span class="selector-tag">input</span>,<span class="selector-tag">select</span>,<span class="selector-tag">textarea</span> &#123;</div><div class="line">            <span class="attribute">font-size</span>:<span class="number">9px</span><span class="meta">!important</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">@media</span> screen and (<span class="attribute">min-width</span>: <span class="number">320px</span>) &#123;</div><div class="line">        <span class="selector-tag">html</span>,<span class="selector-tag">body</span>,<span class="selector-tag">button</span>,<span class="selector-tag">input</span>,<span class="selector-tag">select</span>,<span class="selector-tag">textarea</span> &#123;</div><div class="line">            <span class="attribute">font-size</span>:<span class="number">12px</span><span class="meta">!important</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">@media</span> screen and (<span class="attribute">min-width</span>: <span class="number">374px</span>) &#123;</div><div class="line">        <span class="selector-tag">html</span>,<span class="selector-tag">body</span>,<span class="selector-tag">button</span>,<span class="selector-tag">input</span>,<span class="selector-tag">select</span>,<span class="selector-tag">textarea</span> &#123;</div><div class="line">            <span class="attribute">font-size</span>:<span class="number">14px</span><span class="meta">!important</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">@media</span> screen and (<span class="attribute">min-width</span>: <span class="number">400px</span>) &#123;</div><div class="line">        <span class="selector-tag">html</span>,<span class="selector-tag">body</span>,<span class="selector-tag">button</span>,<span class="selector-tag">input</span>,<span class="selector-tag">select</span>,<span class="selector-tag">textarea</span> &#123;</div><div class="line">            <span class="attribute">font-size</span>:<span class="number">15px</span><span class="meta">!important</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// çœç•¥</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p><h2 id="ä¸‰ã€å¤©çŒ«è®¾è®¡æ–¹æ¡ˆ"><a href="#ä¸‰ã€å¤©çŒ«è®¾è®¡æ–¹æ¡ˆ" class="headerlink" title="ä¸‰ã€å¤©çŒ«è®¾è®¡æ–¹æ¡ˆ"></a>ä¸‰ã€å¤©çŒ«è®¾è®¡æ–¹æ¡ˆ</h2><p><a href="https://www.tmall.com/#/main" target="_blank" rel="external">å¤©çŒ«é¦–é¡µ</a></p><ul><li>é‡‡ç”¨scale = 1.0å†™æ­»viewport</li><li>ä¸é‡‡ç”¨remï¼Œbodyçš„font-size=14pxå†™æ­»</li><li>px + flexboxå¸ƒå±€</li></ul><h2 id="å››ã€é‡åˆ°çš„é—®é¢˜"><a href="#å››ã€é‡åˆ°çš„é—®é¢˜" class="headerlink" title="å››ã€é‡åˆ°çš„é—®é¢˜"></a>å››ã€é‡åˆ°çš„é—®é¢˜</h2><h3 id="1-é«˜æ¸…å±ä¸‹ï¼ˆ-dpr-gt-1-ï¼‰1pxçº¿æ¨¡ç³Šé—®é¢˜"><a href="#1-é«˜æ¸…å±ä¸‹ï¼ˆ-dpr-gt-1-ï¼‰1pxçº¿æ¨¡ç³Šé—®é¢˜" class="headerlink" title="1. é«˜æ¸…å±ä¸‹ï¼ˆ dpr&gt;1 ï¼‰1pxçº¿æ¨¡ç³Šé—®é¢˜"></a>1. é«˜æ¸…å±ä¸‹ï¼ˆ dpr&gt;1 ï¼‰1pxçº¿æ¨¡ç³Šé—®é¢˜</h3><p>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè®¾è®¡å¸ˆäº§å‡ºå„ç§å°ºå¯¸çš„ç¨¿å­ï¼Œéƒ½æ˜¯å…ˆç”»å‡ºå¤§å°ºå¯¸ï¼ˆä¸€èˆ¬2xï¼‰çš„ç¨¿å­ï¼Œå†å»ç¼©å°å°ºå¯¸ï¼Œæœ€åå¯¼å‡ºã€‚ è¿™æ ·ä¼šå¸¦æ¥é—®é¢˜ï¼šå¦‚æœè®¾è®¡å¸ˆåœ¨2å€ç¨¿å­é‡Œç”»äº†ä¸€æ¡1pxçš„çº¿ï¼ˆä¾‹å¦‚borderï¼š1pxï¼‰ï¼Œè¿™æ—¶å€™å‡å¦‚æˆ‘ä»¬è¦åœ¨scale=1.0é‡Œå‘ˆç°çš„è¯ï¼Œå°±ä¼šå˜æˆ0.5pxï¼Œè€Œå¾ˆå¤§ä¸€éƒ¨åˆ†æ‰‹æœºæ˜¯æ— æ³•ç”»å‡º0.5pxçš„ã€‚<br>ç†è®ºä¸Šï¼Œ1ä¸ªä½å›¾åƒç´ å¯¹åº”äº1ä¸ªç‰©ç†åƒç´ ï¼Œå›¾ç‰‡æ‰èƒ½å¾—åˆ°å®Œç¾æ¸…æ™°çš„å±•ç¤ºã€‚åœ¨æ™®é€šå±å¹•ä¸‹æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯åœ¨retinaå±å¹•ï¼ˆdpr=2ï¼‰ä¸‹å°±ä¼šå‡ºç°ä½å›¾åƒç´ ç‚¹ä¸å¤Ÿï¼Œä»è€Œå¯¼è‡´å›¾ç‰‡æ¨¡ç³Šçš„æƒ…å†µã€‚</p><p><img src="/assets/img/h_dpr1.jpg" alt=""></p><hr><h3 id="2-é«˜æ¸…å±ä¸‹ï¼ˆ-dpr-gt-1-ï¼‰é«˜æ¸…å›¾ç‰‡æ¨¡ç³Šé—®é¢˜"><a href="#2-é«˜æ¸…å±ä¸‹ï¼ˆ-dpr-gt-1-ï¼‰é«˜æ¸…å›¾ç‰‡æ¨¡ç³Šé—®é¢˜" class="headerlink" title="2. é«˜æ¸…å±ä¸‹ï¼ˆ dpr&gt;1 ï¼‰é«˜æ¸…å›¾ç‰‡æ¨¡ç³Šé—®é¢˜"></a>2. é«˜æ¸…å±ä¸‹ï¼ˆ dpr&gt;1 ï¼‰é«˜æ¸…å›¾ç‰‡æ¨¡ç³Šé—®é¢˜</h3><p>å¯¹äºdpr=2çš„retinaå±å¹•è€Œè¨€ï¼Œ1ä¸ªä½å›¾åƒç´ å¯¹åº”äº4ä¸ªç‰©ç†åƒç´ ï¼Œç”±äºå•ä¸ªä½å›¾åƒç´ ä¸å¯ä»¥å†è¿›ä¸€æ­¥åˆ†å‰²ï¼Œæ‰€ä»¥åªèƒ½å°±è¿‘å–è‰²ï¼Œä»è€Œå¯¼è‡´å›¾ç‰‡æ¨¡ç³Š(æ³¨æ„ä¸Šè¿°çš„å‡ ä¸ªé¢œè‰²å€¼)ã€‚æ‰€ä»¥ï¼Œå¯¹äºå›¾ç‰‡é«˜æ¸…é—®é¢˜ï¼Œæ¯”è¾ƒå¥½çš„æ–¹æ¡ˆå°±æ˜¯é‡‡ç”¨ä¸¤å€å›¾ç‰‡ã€‚å¦‚ï¼š200Ã—300(css pixel)imgæ ‡ç­¾ï¼Œå°±éœ€è¦æä¾›400Ã—600çš„å›¾ç‰‡ã€‚<br>å¯¹äºdpr=2çš„retinaå±å¹•è€Œè¨€ï¼Œ1ä¸ªä½å›¾åƒç´ å¯¹åº”äº4ä¸ªç‰©ç†åƒç´ ï¼Œç”±äºå•ä¸ªä½å›¾åƒç´ ä¸å¯ä»¥å†è¿›ä¸€æ­¥åˆ†å‰²ï¼Œæ‰€ä»¥åªèƒ½å°±è¿‘å–è‰²ï¼Œä»è€Œå¯¼è‡´å›¾ç‰‡æ¨¡ç³Š(æ³¨æ„ä¸Šè¿°çš„å‡ ä¸ªé¢œè‰²å€¼)ã€‚æ‰€ä»¥ï¼Œå¯¹äºå›¾ç‰‡é«˜æ¸…é—®é¢˜ï¼Œæ¯”è¾ƒå¥½çš„æ–¹æ¡ˆå°±æ˜¯é‡‡ç”¨ä¸¤å€å›¾ç‰‡ã€‚å¦‚ï¼š200Ã—300(css pixel)imgæ ‡ç­¾ï¼Œå°±éœ€è¦æä¾›400Ã—600çš„å›¾ç‰‡ã€‚</p><p><img src="/assets/img/h_dpr2.jpg" alt=""></p><h2 id="äº”ã€ç»ˆæè§£å†³æ–¹æ¡ˆâ€“-gt-æ·˜å®è®¾è®¡æ–¹æ¡ˆ"><a href="#äº”ã€ç»ˆæè§£å†³æ–¹æ¡ˆâ€“-gt-æ·˜å®è®¾è®¡æ–¹æ¡ˆ" class="headerlink" title="äº”ã€ç»ˆæè§£å†³æ–¹æ¡ˆâ€“&gt;æ·˜å®è®¾è®¡æ–¹æ¡ˆ"></a>äº”ã€ç»ˆæè§£å†³æ–¹æ¡ˆâ€“&gt;æ·˜å®è®¾è®¡æ–¹æ¡ˆ</h2><p><a href="https://m.taobao.com/" target="_blank" rel="external">æ·˜å®é¦–é¡µ</a></p><ul><li>é€šè¿‡jså¤„ç†è·å–æ‰‹æœºdprå‚æ•°ï¼Œç„¶ååŠ¨æ€ç”Ÿæˆviewpoint</li><li>è·å–æ‰‹æœºç‰©ç†åƒç´ å®½åº¦ï¼Œåˆ†æˆ10ä»½ï¼Œæ¯ä¸€ä»½çš„å®½åº¦å³æ˜¯remçš„å°ºå¯¸ã€‚</li><li>æ ¹æ®è®¾è®¡ç¨¿çš„å°ºå¯¸ï¼ˆpxï¼‰åˆ†ä¸‰ç§æƒ…å†µè¿›è¡Œå¤„ç†ï¼Œé‡‡ç”¨px + remå¸ƒå±€</li></ul><p>ç›¸å…³çš„è„šæœ¬å¦‚ä¸‹ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> dpr, rem, scale;</div><div class="line">    <span class="keyword">var</span> docEl = <span class="built_in">document</span>.documentElement;</div><div class="line">    <span class="keyword">var</span> fontEl = <span class="built_in">document</span>.createElement(<span class="string">'style'</span>);</div><div class="line">    <span class="keyword">var</span> metaEl = <span class="built_in">document</span>.querySelector(<span class="string">'meta[name="viewport"]'</span>);</div><div class="line">    <span class="keyword">var</span> view1 = <span class="built_in">document</span>.querySelector(<span class="string">'#view-1'</span>);</div><div class="line">    <span class="keyword">if</span>(<span class="built_in">window</span>.screen.width &lt; <span class="number">540</span>)&#123;</div><div class="line">        dpr = <span class="built_in">window</span>.devicePixelRatio || <span class="number">1</span>;</div><div class="line">        scale = <span class="number">1</span> / dpr;</div><div class="line">        rem = docEl.clientWidth * dpr / <span class="number">10</span>;</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        dpr = <span class="number">1</span>;</div><div class="line">        scale =<span class="number">1</span>;</div><div class="line">        rem = <span class="number">54</span>;</div><div class="line">    &#125;</div><div class="line"><span class="comment">//è²Œä¼¼æœ€æ–°çš„æ·˜å®ç½‘ç«™åˆå»æ‰äº†ï¼Œåªæ˜¯é™åˆ¶äº†ä¸»ä½“å†…å®¹çš„å®½åº¦</span></div><div class="line"></div><div class="line">    <span class="comment">// è®¾ç½®viewportï¼Œè¿›è¡Œç¼©æ”¾ï¼Œè¾¾åˆ°é«˜æ¸…æ•ˆæœ</span></div><div class="line">    metaEl.setAttribute(<span class="string">'content'</span>, <span class="string">'width='</span> + dpr * docEl.clientWidth + <span class="string">',initial-scale='</span> + scale + <span class="string">',maximum-scale='</span> + scale + <span class="string">', minimum-scale='</span> + scale + <span class="string">',user-scalable=no'</span>);</div><div class="line">    </div><div class="line">    <span class="comment">// è®¾ç½®æ•´ä½“divçš„å®½é«˜</span></div><div class="line">    view1.setAttribute(<span class="string">'style'</span>, <span class="string">'width:'</span>+ docEl.clientWidth+<span class="string">'px; height:'</span>+ docEl.clientHeight+<span class="string">'px'</span>);</div><div class="line"></div><div class="line">    <span class="comment">// è®¾ç½®data-dprå±æ€§ï¼Œç•™ä½œçš„css hackä¹‹ç”¨</span></div><div class="line">    docEl.setAttribute(<span class="string">'data-dpr'</span>, dpr);</div><div class="line"></div><div class="line">    <span class="comment">// åŠ¨æ€å†™å…¥æ ·å¼</span></div><div class="line">    docEl.firstElementChild.appendChild(fontEl);</div><div class="line">    fontEl.innerHTML = <span class="string">'html&#123;font-size:'</span> + rem + <span class="string">'px!important;&#125;'</span>;</div><div class="line">    $(<span class="string">'body'</span>).attr(<span class="string">'style'</span>, <span class="string">'font-size:'</span> + dpr * <span class="number">12</span> +<span class="string">'px'</span>);</div><div class="line"></div><div class="line">    <span class="comment">// ç»™jsè°ƒç”¨çš„ï¼ŒæŸä¸€dprä¸‹remå’Œpxä¹‹é—´çš„è½¬æ¢å‡½æ•°</span></div><div class="line">    <span class="built_in">window</span>.rem2px = <span class="function"><span class="keyword">function</span>(<span class="params">v</span>) </span>&#123;</div><div class="line">        v = <span class="built_in">parseFloat</span>(v);</div><div class="line">        <span class="keyword">return</span> v * rem;</div><div class="line">    &#125;;</div><div class="line">    <span class="built_in">window</span>.px2rem = <span class="function"><span class="keyword">function</span>(<span class="params">v</span>) </span>&#123;</div><div class="line">        v = <span class="built_in">parseFloat</span>(v);</div><div class="line">        <span class="keyword">return</span> v / rem;</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    <span class="built_in">window</span>.dpr = dpr;</div><div class="line">    <span class="built_in">window</span>.rem = rem;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p><h2 id="å…­ã€è®¾è®¡æ–¹æ¡ˆæ€»ç»“"><a href="#å…­ã€è®¾è®¡æ–¹æ¡ˆæ€»ç»“" class="headerlink" title="å…­ã€è®¾è®¡æ–¹æ¡ˆæ€»ç»“"></a>å…­ã€è®¾è®¡æ–¹æ¡ˆæ€»ç»“</h2><p>ä»ä»¥ä¸Šçš„åˆ†ææˆ‘ä»¬ä¸éš¾çœ‹å‡ºï¼š</p><ul><li>ç½‘æ˜“å½©ç¥¨çš„æ–¹æ¡ˆä¸Šæ‰‹å¿«ï¼Œå¼€å‘æ•ˆç‡é«˜ï¼Œå…¼å®¹æ€§å¥½ï¼Œä½†æ˜¯ä¸å¤Ÿçµæ´»å’Œç²¾ç»†ï¼›</li><li>å¤©çŒ«çš„è®¾è®¡æ€è·¯æ¯”è¾ƒç®€å•ï¼Œflexboxéå¸¸çµæ´»ï¼Œä½†æ˜¯flexboxçš„å…¼å®¹æ€§æ–¹é¢éœ€è¦å¥½å¥½å¤„ç†ï¼Œä¸å¤Ÿç²¾ç»†ï¼›</li><li>æ·˜å®çš„æ–¹æ¡ˆå‡ ä¹è§£å†³äº†ç§»åŠ¨ç«¯é‡åˆ°çš„æ‰€æœ‰é—®é¢˜ï¼Œå ªç§°å®Œç¾çš„è§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯å¼€å‘æ•ˆç‡ä½ã€æˆæœ¬æ¯”è¾ƒé«˜ã€‚</li></ul><h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><ol><li><a href="http://www.cnblogs.com/2050/p/3877280.html" target="_blank" rel="external">ç§»åŠ¨å‰ç«¯å¼€å‘ä¹‹viewportçš„æ·±å…¥ç†è§£</a></li><li><a href="http://www.html-js.com/article/Mobile-terminal-H5-mobile-terminal-HD-multi-screen-adaptation-scheme%203041" target="_blank" rel="external">ã€åŸåˆ›ã€‘ç§»åŠ¨ç«¯é«˜æ¸…ã€å¤šå±é€‚é…æ–¹æ¡ˆ</a></li><li><a href="http://my.oschina.net/kenblog/blog/373341?fromerr=OQeOo5fR" target="_blank" rel="external">wapæ‰‹æœºç«¯é¡µé¢æ ¹æ®dprå’Œå®½åº¦è®¡ç®—å‡ºfont-sizeå¯¹åº”æ•°å€¼</a></li><li><a href="http://www.1024i.com/demo/less/document.html" target="_blank" rel="external">lessè¯­æ³•</a></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç ”ç©¶äº†æ·˜å®ï¼Œå¤©çŒ«å’Œç½‘æ˜“å½©ç¥¨163çš„wapä¸»é¡µæ ·å¼å¸ƒå±€ï¼Œæ€»ç»“ç§»åŠ¨ç«¯å¸ƒå±€æ–¹æ¡ˆ&lt;br&gt;&lt;em&gt;æ³¨æ„ï¼šä»£ç è¿è¡Œæ˜¯fileåè®®ï¼Œåœ¨chromeé‡Œä¸æ”¯æŒå¼•ç”¨æœ¬åœ°æ–‡ä»¶ï¼Œä¼šæç¤ºè·¨åŸŸé”™è¯¯ï¼Œå¯ä»¥ç”¨firefoxæˆ–è€…Safariæ‰“å¼€&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;å½“æ—¶åšçš„pptä¸‹è½½: &lt;a href=&quot;https://raw.githubusercontent.com/tywei90/mobile_study/master/assets/mobile_study.ppt&quot;&gt;2015å¹´12æœˆç§»åŠ¨ç«¯å¸ƒå±€æ–¹æ¡ˆæ¢ç©¶&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ¬¢è¿å¤§å®¶starå­¦ä¹ äº¤æµï¼š&lt;a href=&quot;https://github.com/tywei90/mobile_study&quot;&gt;githubåœ°å€&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="ç§»åŠ¨ç«¯å¸ƒå±€" scheme="https://www.wty90.com/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%B8%83%E5%B1%80/"/>
    
      <category term="css" scheme="https://www.wty90.com/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>æ•°ç»„å¤šé‡ç­›é€‰æ¡ä»¶æ’åºæ–¹æ³•</title>
    <link href="https://www.wty90.com/2016/11/28/multi-sort-array/"/>
    <id>https://www.wty90.com/2016/11/28/multi-sort-array/</id>
    <published>2016-11-27T16:07:48.000Z</published>
    <updated>2018-02-18T15:23:25.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong> Update </strong></p><p>æ­¤é¡¹ç›®å·²ç»æŠ½ç¦»å‡ºæ¥ï¼Œåšæˆä¸¤ä¸ªnpmåŒ…ï¼š<a href="https://github.com/tywei90/arr-sort" target="_blank" rel="external">arr-sort</a>, <a href="https://github.com/tywei90/arr-del" target="_blank" rel="external">arr-del</a>ã€‚åŠŸèƒ½å¢å¼ºï¼Œæ”¯æŒnestedå¯¹è±¡å±æ€§å¹¶æ”¯æŒä¼ å…¥æ¯”è¾ƒå‡½æ•°åŠŸèƒ½ã€‚</p><h2 id="ä¸€ã€é—®é¢˜èƒŒæ™¯"><a href="#ä¸€ã€é—®é¢˜èƒŒæ™¯" class="headerlink" title="ä¸€ã€é—®é¢˜èƒŒæ™¯"></a>ä¸€ã€é—®é¢˜èƒŒæ™¯</h2><p>å‰ç«¯æ—¶é—´åšé¡¹ç›®é‡åˆ°ä¸ªæ•°ç»„å¤šé‡ç­›é€‰æ¡ä»¶æ’åºçš„é—®é¢˜ï¼Œåšçš„æ˜¯ä¸€ä¸ªå±•ç¤ºç”¨æˆ·æ‹¥æœ‰çš„çº¢åŒ…å’ŒåŠ æ¯åˆ¸é¡µé¢ï¼Œä½†æ˜¯æ’åºç±»ä¼¼äºä¸‹é¢è¿™æ ·ï¼š</p><ol><li>å…ˆæŒ‰ç…§æˆªæ­¢æ—¶é—´å€’åºæ’ï¼›</li><li>è‹¥æˆªæ­¢æ—¶é—´ä¸€æ ·ï¼Œåˆ™æŒ‰ç…§è·å¾—æ—¶é—´å€’åºæ’ï¼›</li><li>è‹¥è·å¾—æ—¶é—´ä¸€æ ·æ—¶ï¼Œçº¢åŒ…&gt;åŠ æ¯åˆ¸ï¼›</li><li>å‰©ä½™åˆ™éšæœºã€‚</li></ol><p>æ¬¢è¿å¤§å®¶starå­¦ä¹ äº¤æµï¼š<a href="https://github.com/tywei90/selfwork/tree/master/sortArr" target="_blank" rel="external">githubåœ°å€</a><br><a id="more"></a></p><h2 id="äºŒã€è§£å†³æ–¹æ³•1"><a href="#äºŒã€è§£å†³æ–¹æ³•1" class="headerlink" title="äºŒã€è§£å†³æ–¹æ³•1"></a>äºŒã€è§£å†³æ–¹æ³•1</h2><p>æˆ‘å°±ç¢ç£¨ç€ï¼Œè¿™ä¸ªå¯ä»¥åšæˆä¸€ä¸ªç»„ä»¶ã€‚ä½†æ˜¯å®ç°çš„æ–¹æ³•å…¶å®ä¹Ÿå°±æ˜¯ç®—æ³•æœ‰å¥½å¤šç§ï¼Œæˆ‘å½“æ—¶æœ€å…ˆæƒ³åˆ°çš„æ˜¯æ•°ç»„çš„è‡ªå¸¦æ’åºæ–¹æ³•sort,åœ¨å‚æ•°functioné‡Œè¾¹å»å¤„ç†æ’åºï¼Œç¡®å®æ˜¯å¯ä»¥åšåˆ°å…ˆæŒ‰ç…§æˆªæ­¢æ—¶é—´æ’åºï¼Œå¹¶ä¸”å¯ä»¥æå–å‡ºæˆªæ­¢æ—¶é—´ç›¸åŒçš„å…ƒç´ ç»„æˆçš„æ•°ç»„ï¼Œä½†æ˜¯å†è¿™æ ·é€’å½’ä¸‹å»ç›´åˆ°æœ€åä¸€ä¸ªæ¡ä»¶ï¼Œç„¶åå†å½’çº³æ•°ç»„åˆå¹¶ï¼Œæ•°æ®ä¸å¤ªå¥½å¤„ç†ï¼Œä¹Ÿä¸å®¹æ˜“åšæˆå‡½æ•°çš„é€’å½’ã€‚æˆ‘æ‰æ‘¸ç€å†™å‡ºäº†ä¸‹é¢çš„ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sortDeepArr</span>(<span class="params">arr, sortTypes</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> i = <span class="number">0</span>;</div><div class="line">    <span class="keyword">var</span> len = sortTypes.length;</div><div class="line">    <span class="keyword">var</span> arrObj = &#123;&#125;; <span class="comment">//å¯¹è±¡--&gt;å¯¹è±¡--&gt;æ•°ç»„--&gt;å¯¹è±¡</span></div><div class="line">    sortArr(arr, sortTypes[i]);</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">sortArr</span>(<span class="params">arr, sortType</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> itSelf = <span class="built_in">arguments</span>.callee;</div><div class="line">        arrObj[sortType.name] = &#123;&#125;;</div><div class="line">        arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">item1, item2</span>) </span>&#123;</div><div class="line">            <span class="keyword">if</span> (item1[sortType.name] === item2[sortType.name]) &#123;</div><div class="line">                <span class="keyword">if</span> (!arrObj[sortType.name][item1[sortType.name]]) &#123;</div><div class="line">                    arrObj[sortType.name][item1[sortType.name]] = [item1, item2]</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    arrObj[sortType.name][item1[sortType.name]].push(item2)</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="comment">// console.log(arrObj)</span></div><div class="line">            <span class="keyword">return</span> (item1[sortType.name] - item2[sortType.name]) * ((sortType.positive || <span class="literal">true</span>) ? <span class="number">1</span> : <span class="number">-1</span>)</div><div class="line">        &#125;);</div><div class="line">        <span class="built_in">console</span>.log(arrObj)</div><div class="line">        i++</div><div class="line">        <span class="keyword">if</span> (<span class="built_in">JSON</span>.stringify(arrObj[sortType.name]) === <span class="string">"&#123;&#125;"</span> || i &gt;= len) &#123;</div><div class="line">            <span class="keyword">return</span></div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">var</span> nextSortType = sortTypes[i + <span class="number">1</span>];</div><div class="line">            $.each(arrObj[sortType.name], <span class="function"><span class="keyword">function</span>(<span class="params">key, val</span>) </span>&#123;</div><div class="line">                <span class="built_in">console</span>.log(i)</div><div class="line">                itSelf(val, nextSortType)</div><div class="line">            &#125;)</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="ä¸‰ã€è§£å†³æ–¹æ³•2"><a href="#ä¸‰ã€è§£å†³æ–¹æ³•2" class="headerlink" title="ä¸‰ã€è§£å†³æ–¹æ³•2"></a>ä¸‰ã€è§£å†³æ–¹æ³•2</h2><p>ä¸çŸ¥é“ä½ ä»¬ä¹±ä¸ä¹±å•Šï¼Œåæ­£æˆ‘æ˜¯æ”¾å¼ƒäº†ã€‚ã€‚ã€‚æ—¢ç„¶è¿™ä¸ªèµ°ä¸é€šï¼Œæˆ‘å°±æƒ³ï¼Œæˆ‘ä»¬èƒ½ä¸èƒ½éå†æ‰€æœ‰æ¡ä»¶ä¸€æ¬¡é€‰å‡ºä¸€ä¸ªæˆ–è€…å‡ ä¸ªå…ƒç´ ï¼Œç„¶åå†ä»å¤´éå†ã€‚å°±æ˜¯è¯´æˆ‘ä»¬å…ˆä»æ‰€æœ‰æ•°ç»„ä¸­é€‰å‡ºæˆªæ­¢æ—¶é—´ç¦»æˆ‘ä»¬æœ€è¿‘ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªï¼Œç›´æ¥returnï¼Œæ­¤æ¬¡å¾ªç¯ç»“æŸï¼›å¦‚æœæœ‰å¤šä¸ªï¼Œå†ä»ä¸­é€‰å‡ºè·å¾—æ—¶é—´ç¦»æˆ‘ä»¬æœ€è¿‘çš„ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªï¼Œç›´æ¥returnï¼Œæ­¤æ¬¡å¾ªç¯ç»“æŸï¼›å¦‚æœæœ‰å¤šä¸ªã€‚ã€‚ã€‚ä¸€ç›´åˆ°æœ€åæ¡ä»¶cåï¼Œreturnæ‰€æœ‰å‰©ä¸‹çš„ã€‚è¿™æ ·ç¬¬ä¸€è½®å°±ç®—ç»“æŸäº†ï¼Œç„¶åæˆ‘ä»¬å°†ç¬¬ä¸€è½®ç­›é€‰å‡ºæ¥çš„å…ƒç´ pushè¿›outArré‡Œè¾¹ï¼Œå¹¶ä»è¾“å…¥æ•°ç»„inArrä¸­åˆ é™¤è¿™äº›æ•°ç»„ã€‚æ¥ç€å†è¿™æ ·é€’å½’ä¸‹å»ï¼Œç›´åˆ°inArrä¸ºç©ºæ•°ç»„ã€‚</p><p>è¿™æ ·æ€è·¯æ˜¯ä¸æ˜¯æ¸…çˆ½å¤šäº†ï¼Ÿä¹Ÿæ¯”è¾ƒå¥½å¤„ç†é€’å½’çš„é—®é¢˜ã€‚åºŸè¯å°‘è¯´ï¼Œé™„ä¸Šä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div></pre></td><td class="code"><pre><div class="line">define([], <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> sortArrMethods =&#123;</div><div class="line">        <span class="comment">// åˆ é™¤æ•°ç»„æŒ‡å®šé¡¹(index)</span></div><div class="line">        delArrByIndex: <span class="function"><span class="keyword">function</span> (<span class="params">arr, indexArr</span>) </span>&#123;</div><div class="line">            <span class="keyword">if</span> (arr.length === <span class="number">0</span>) &#123;</div><div class="line">                <span class="keyword">return</span> [];</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = indexArr.length; i &lt; len; i++) &#123;</div><div class="line">                arr.splice(indexArr[i] - i, <span class="number">1</span>);</div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line">        <span class="comment">// é€‰å‡ºå¯¹è±¡æ•°ç»„æŸä¸ªå±æ€§å€¼æœ€å¤§çš„å¯¹è±¡ç»„æˆçš„æ•°ç»„</span></div><div class="line">        maxObjArr: <span class="function"><span class="keyword">function</span> (<span class="params">arr, sortType</span>) </span>&#123;</div><div class="line">            <span class="keyword">var</span> maxData;</div><div class="line">            <span class="keyword">var</span> tmpArr = [];</div><div class="line">            <span class="keyword">var</span> outArr = [];</div><div class="line">            <span class="keyword">if</span> (arr.length === <span class="number">0</span>) &#123;</div><div class="line">                <span class="keyword">return</span> [];</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>,len=arr.length; i&lt;len; i++)&#123;</div><div class="line">                tmpArr.push(arr[i][sortType]);</div><div class="line">            &#125;</div><div class="line">            maxData = maxNum(tmpArr);</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>,len=arr.length; i&lt;len; i++)&#123;</div><div class="line">                <span class="keyword">if</span> (arr[i][sortType] === maxData) &#123;</div><div class="line">                    outArr.push(arr[i]);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> outArr</div><div class="line">            <span class="comment">// é€‰å‡ºæ•°å­—ç»„æˆçš„æ•°ç»„ä¸­æœ€å¤§å€¼</span></div><div class="line">            <span class="function"><span class="keyword">function</span> <span class="title">maxNum</span>(<span class="params">array</span>) </span>&#123;</div><div class="line">                <span class="keyword">return</span> <span class="built_in">Math</span>.max.apply(&#123;&#125;, array)</div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line">        <span class="comment">// é€‰å‡ºå¯¹è±¡æ•°ç»„æŸä¸ªå±æ€§å€¼æœ€å°çš„å¯¹è±¡ç»„æˆçš„æ•°ç»„</span></div><div class="line">        minObjArr: <span class="function"><span class="keyword">function</span> (<span class="params">arr, sortType</span>) </span>&#123;</div><div class="line">            <span class="keyword">var</span> minData;</div><div class="line">            <span class="keyword">var</span> tmpArr = [];</div><div class="line">            <span class="keyword">var</span> outArr = [];</div><div class="line">            <span class="keyword">if</span> (arr.length === <span class="number">0</span>) &#123;</div><div class="line">                <span class="keyword">return</span> [];</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>,len=arr.length; i&lt;len; i++)&#123;</div><div class="line">                tmpArr.push(arr[i][sortType]);</div><div class="line">            &#125;</div><div class="line">            minData = minNum(tmpArr);</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>,len=arr.length; i&lt;len; i++)&#123;</div><div class="line">                <span class="keyword">if</span> (arr[i][sortType] === minData) &#123;</div><div class="line">                    outArr.push(arr[i]);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> outArr</div><div class="line">            <span class="comment">// é€‰å‡ºæ•°å­—ç»„æˆçš„æ•°ç»„ä¸­æœ€å°å€¼</span></div><div class="line">            <span class="function"><span class="keyword">function</span> <span class="title">minNum</span>(<span class="params">array</span>) </span>&#123;</div><div class="line">                <span class="keyword">return</span> <span class="built_in">Math</span>.min.apply(&#123;&#125;, array)</div><div class="line">            &#125;</div><div class="line">        &#125;,</div><div class="line">        <span class="comment">// å¤šé‡æ¡ä»¶æ•°ç»„ç­›é€‰æ–¹æ³•</span></div><div class="line">        multiSortArr: <span class="function"><span class="keyword">function</span>(<span class="params">arr, sortLists</span>) </span>&#123;</div><div class="line">            <span class="keyword">var</span> me = <span class="keyword">this</span>;</div><div class="line">            <span class="keyword">var</span> i = <span class="number">0</span>;</div><div class="line">            <span class="keyword">var</span> len = sortLists.length;</div><div class="line">            <span class="keyword">var</span> inArr = arr;</div><div class="line">            <span class="keyword">var</span> outArr = [];</div><div class="line">            <span class="keyword">if</span> (inArr.length === <span class="number">0</span>) &#123;</div><div class="line">                <span class="keyword">return</span> [];</div><div class="line">            &#125;</div><div class="line">            <span class="comment">// ä¸¥æ ¼æ¨¡å¼ä¸‹arguments.calleeæ­£ç¡®çš„ä½¿ç”¨å§¿åŠ¿</span></div><div class="line">            <span class="keyword">var</span> sortArr = (<span class="function"><span class="keyword">function</span> <span class="title">sortArrWrap</span>(<span class="params">arr, sortList</span>) </span>&#123;</div><div class="line">                    <span class="keyword">var</span> filterArr = [];</div><div class="line">                    <span class="keyword">if</span> (arr.length === <span class="number">0</span>) &#123;</div><div class="line">                        <span class="keyword">return</span>;</div><div class="line">                    &#125;</div><div class="line">                    <span class="keyword">if</span> (sortList.positive === <span class="literal">false</span>) &#123;</div><div class="line">                        filterArr = me.maxObjArr(arr, sortList.name);</div><div class="line">                    &#125; <span class="keyword">else</span> &#123;</div><div class="line">                        filterArr = me.minObjArr(arr, sortList.name);</div><div class="line">                    &#125;</div><div class="line">                    <span class="keyword">if</span> (filterArr.length === <span class="number">1</span> || i &gt;= len - <span class="number">1</span>) &#123;</div><div class="line">                        outArr = outArr.concat(filterArr);</div><div class="line">                        <span class="comment">// åˆ é™¤åŸæ¥æ•°ç»„ä¸­çš„å¯¹åº”é¡¹</span></div><div class="line">                        <span class="keyword">for</span>(<span class="keyword">var</span> k=<span class="number">0</span>,len1=filterArr.length; k&lt;len1; k++)&#123;</div><div class="line">                            <span class="comment">// æ¯æ¬¡æŸ¥æ‰¾åˆ°ä¸€ä¸ªå°±åˆ é™¤åŸæ•°ç»„å¯¹åº”é¡¹ï¼Œå¹¶æ›´æ–°stringifyInArrï¼Œé˜²æ­¢æœ‰å¤šä¸ªç›¸åŒå…ƒç´ ï¼Œå¯¼è‡´åˆ é™¤é”™è¯¯</span></div><div class="line">                            <span class="keyword">var</span> stringifyInArr = [];</div><div class="line">                            <span class="keyword">for</span>(<span class="keyword">var</span> j=<span class="number">0</span>,len2=inArr.length; j&lt;len2; j++)&#123;</div><div class="line">                                stringifyInArr.push(<span class="built_in">JSON</span>.stringify(inArr[j]));</div><div class="line">                            &#125;</div><div class="line">                            <span class="keyword">var</span> delIndex = stringifyInArr.indexOf(<span class="built_in">JSON</span>.stringify(filterArr[k]));</div><div class="line">                            <span class="keyword">if</span> (delIndex !== <span class="number">-1</span>) &#123;</div><div class="line">                                me.delArrByIndex(inArr, [delIndex]);</div><div class="line">                            &#125;</div><div class="line">                        &#125;</div><div class="line">                    &#125; <span class="keyword">else</span> &#123;</div><div class="line">                        i++;</div><div class="line">                        sortArrWrap(filterArr, sortLists[i])</div><div class="line">                    &#125;</div><div class="line">                &#125;)</div><div class="line">                <span class="comment">// ä¸¥æ ¼æ¨¡å¼ä¸‹arguments.calleeæ­£ç¡®çš„ä½¿ç”¨å§¿åŠ¿</span></div><div class="line">            <span class="keyword">var</span> loopSortArr = (<span class="function"><span class="keyword">function</span> <span class="title">loopSortArrWrap</span>(<span class="params"></span>) </span>&#123;</div><div class="line">                i = <span class="number">0</span>;</div><div class="line">                sortArr(inArr, sortLists[<span class="number">0</span>]);</div><div class="line">                <span class="keyword">if</span> (inArr.length === <span class="number">0</span>) &#123;</div><div class="line">                    <span class="keyword">return</span></div><div class="line">                &#125;</div><div class="line">                loopSortArrWrap();</div><div class="line">            &#125;)</div><div class="line">            loopSortArr();</div><div class="line">            <span class="keyword">return</span> outArr;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">return</span> sortArrMethods</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p><p>å»é™¤äº†åŸæ¥ç”¨jqueryçš„<code>$.each()</code>æ–¹æ³•éå†æ•°ç»„ï¼Œæ”¹ç”¨forå¾ªç¯ï¼Œè§£é™¤ä¾èµ–ã€‚è¿™æ ·è„šæœ¬å°±æ˜¯çº¯åŸç”Ÿjså†™çš„ï¼Œæ²¡æœ‰å…¼å®¹æ€§é—®é¢˜å¹¶ä¸”ä¸ä¾èµ–ä»»ä½•ç»„ä»¶ï¼Œå¤§å®¶æ”¾å¿ƒä½¿ç”¨ã€‚è¿™é‡Œæ˜¯ç”¨çš„AMDå¼‚æ­¥æ¨¡å—æ–¹æ¡ˆåšçš„ç»„ä»¶ï¼Œæ²¡æœ‰ä¾èµ–ï¼Œè¾“å‡ºä¸€ä¸ªå¯¹è±¡ï¼Œæœ‰delArrByIndexã€maxObjArrã€minObjArrå’ŒmultiSortArrå››ä¸ªæ•°ç»„æ–¹æ³•ã€‚</p><h2 id="å››ã€è¯¦ç»†ç”¨æ³•è¯´æ˜åŠæµ‹è¯•"><a href="#å››ã€è¯¦ç»†ç”¨æ³•è¯´æ˜åŠæµ‹è¯•" class="headerlink" title="å››ã€è¯¦ç»†ç”¨æ³•è¯´æ˜åŠæµ‹è¯•"></a>å››ã€è¯¦ç»†ç”¨æ³•è¯´æ˜åŠæµ‹è¯•</h2><blockquote><p>1ã€å¤šé‡æ•°ç»„ç­›é€‰æ–¹æ³•ï¼šmultiSortArr</p></blockquote><p>é’ˆå¯¹ç±»ä¼¼å¦‚ä¸‹çš„æƒ…å†µï¼š</p><pre><code>1. å…ˆæŒ‰ç…§æˆªæ­¢æ—¶é—´å€’åºæ’ï¼›2. è‹¥æˆªæ­¢æ—¶é—´ä¸€æ ·ï¼Œåˆ™æŒ‰ç…§è·å¾—æ—¶é—´å€’åºæ’ï¼›3. è‹¥è·å¾—æ—¶é—´ä¸€æ ·æ—¶ï¼Œçº¢åŒ…&gt;åŠ æ¯åˆ¸ï¼›4. å‰©ä½™åˆ™éšæœºã€‚</code></pre><h3 id="for-test"><a href="#for-test" class="headerlink" title="for test"></a>for test</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [&#123;</div><div class="line">    <span class="attr">invalidTime</span>: <span class="number">100</span>,</div><div class="line">    <span class="attr">assignTime</span>: <span class="number">10</span>,</div><div class="line">    <span class="attr">type</span>: <span class="number">0</span></div><div class="line">&#125;,&#123;</div><div class="line">    <span class="attr">invalidTime</span>: <span class="number">110</span>,</div><div class="line">    <span class="attr">assignTime</span>: <span class="number">10</span>,</div><div class="line">    <span class="attr">type</span>: <span class="number">1</span></div><div class="line">&#125;,&#123;</div><div class="line">    <span class="attr">invalidTime</span>: <span class="number">110</span>,</div><div class="line">    <span class="attr">assignTime</span>: <span class="number">10</span>,</div><div class="line">    <span class="attr">type</span>: <span class="number">0</span></div><div class="line">&#125;,&#123;</div><div class="line">    <span class="attr">invalidTime</span>: <span class="number">110</span>,</div><div class="line">    <span class="attr">assignTime</span>: <span class="number">10</span>,</div><div class="line">    <span class="attr">type</span>: <span class="number">0</span></div><div class="line">&#125;,&#123;</div><div class="line">    <span class="attr">invalidTime</span>: <span class="number">110</span>,</div><div class="line">    <span class="attr">assignTime</span>: <span class="number">14</span>,</div><div class="line">    <span class="attr">type</span>: <span class="number">0</span></div><div class="line">&#125;,&#123;</div><div class="line">    <span class="attr">invalidTime</span>: <span class="number">92</span>,</div><div class="line">    <span class="attr">assignTime</span>: <span class="number">13</span>,</div><div class="line">    <span class="attr">type</span>: <span class="number">0</span></div><div class="line">&#125;,&#123;</div><div class="line">    <span class="attr">invalidTime</span>: <span class="number">92</span>,</div><div class="line">    <span class="attr">assignTime</span>: <span class="number">10</span>,</div><div class="line">    <span class="attr">type</span>: <span class="number">1</span></div><div class="line">&#125;,&#123;</div><div class="line">    <span class="attr">invalidTime</span>: <span class="number">92</span>,</div><div class="line">    <span class="attr">assignTime</span>: <span class="number">12</span>,</div><div class="line">    <span class="attr">type</span>: <span class="number">0</span></div><div class="line">&#125;]</div><div class="line"><span class="built_in">console</span>.table(arr)</div><div class="line"><span class="comment">// positiveå‚æ•°ä¸ºtrueè¡¨ç¤ºä»å°åˆ°å¤§æ’åº, falseä»å¤§åˆ°å°, é»˜è®¤ä¸ºtrue</span></div><div class="line"><span class="keyword">var</span> outArr = sortArr.multiSortArr(arr, [&#123;<span class="attr">name</span>: <span class="string">'invalidTime'</span>, <span class="attr">positive</span>: <span class="literal">true</span>&#125;, &#123;<span class="attr">name</span>: <span class="string">'assignTime'</span>, <span class="attr">positive</span>: <span class="literal">false</span>&#125;, &#123;<span class="attr">name</span>: <span class="string">'type'</span>&#125;])</div><div class="line"><span class="built_in">console</span>.table(outArr)</div></pre></td></tr></table></figure><blockquote><p>2ã€åˆ é™¤æ•°ç»„æŒ‡å®šé¡¹(index)æ–¹æ³•ï¼šdelArrByIndex</p></blockquote><h3 id="for-test-1"><a href="#for-test-1" class="headerlink" title="for test"></a>for test</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr=[<span class="number">3</span>, <span class="number">2</span>, <span class="number">52</span>, <span class="number">5</span>, <span class="number">67</span>, <span class="number">356</span>, <span class="number">678</span>, <span class="number">234</span>, <span class="number">455</span>];</div><div class="line"><span class="keyword">var</span> outArr = sortArr.delArrByIndex(arr, [<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>]);</div><div class="line"><span class="comment">// outArr = [3, 2, 5, 356, 678, 455];</span></div></pre></td></tr></table></figure><blockquote><p>3ã€é€‰å‡ºå¯¹è±¡æ•°ç»„æŸä¸ªå±æ€§å€¼æœ€å¤§ã€æœ€å°çš„å¯¹è±¡ç»„æˆçš„æ•°ç»„æ–¹æ³•ï¼šmaxObjArrã€minObjArr</p></blockquote><h3 id="for-test-2"><a href="#for-test-2" class="headerlink" title="for test"></a>for test</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [&#123;</div><div class="line">    <span class="attr">invalidTime</span>: <span class="number">82</span>,</div><div class="line">    <span class="attr">assignTime</span>: <span class="number">12</span>,</div><div class="line">    <span class="attr">type</span>: <span class="number">0</span></div><div class="line">&#125;,&#123;</div><div class="line">    <span class="attr">invalidTime</span>: <span class="number">110</span>,</div><div class="line">    <span class="attr">assignTime</span>: <span class="number">12</span>,</div><div class="line">    <span class="attr">type</span>: <span class="number">1</span></div><div class="line">&#125;,&#123;</div><div class="line">    <span class="attr">invalidTime</span>: <span class="number">90</span>,</div><div class="line">    <span class="attr">assignTime</span>: <span class="number">16</span>,</div><div class="line">    <span class="attr">type</span>: <span class="number">0</span></div><div class="line">&#125;]</div><div class="line"><span class="keyword">var</span> outArr1 = sortArr.maxObjArr(arr, <span class="string">'invalidTime'</span>);</div><div class="line"><span class="keyword">var</span> outArr2 = sortArr.minObjArr(arr, <span class="string">'assignTime'</span>);</div><div class="line"><span class="comment">// è¾“å‡º</span></div><div class="line"><span class="comment">// outArr1 = [&#123;</span></div><div class="line"><span class="comment">//     invalidTime: 110,</span></div><div class="line"><span class="comment">//     assignTime: 10,</span></div><div class="line"><span class="comment">//     type: 1</span></div><div class="line"><span class="comment">// &#125;]</span></div><div class="line"><span class="comment">// outArr2 = [&#123;</span></div><div class="line"><span class="comment">//     invalidTime: 82,</span></div><div class="line"><span class="comment">//     assignTime: 12,</span></div><div class="line"><span class="comment">//     type: 0</span></div><div class="line"><span class="comment">// &#125;,&#123;</span></div><div class="line"><span class="comment">//     invalidTime: 110,</span></div><div class="line"><span class="comment">//     assignTime: 12,</span></div><div class="line"><span class="comment">//     type: 1</span></div><div class="line"><span class="comment">// &#125;]</span></div></pre></td></tr></table></figure><h2 id="äº”ã€æ€»ç»“"><a href="#äº”ã€æ€»ç»“" class="headerlink" title="äº”ã€æ€»ç»“"></a>äº”ã€æ€»ç»“</h2><p>å¯¹æ¯”ä¸Šé¢ä¸¤ç§ç®—æ³•çš„å®ç°ï¼Œæˆ‘ä¸ªäººè§‰å¾—ç¬¬ä¸€ç§ï¼Œç®—æ³•æ•ˆç‡æ›´é«˜ï¼Œå› ä¸ºä¸€æ¬¡åŸç”Ÿæ•°ç»„æ’åºæ–¹æ³•å°±æ’æŸ¥å‡ºæ‰€æœ‰ç¬¬ä¸€ä¸ªæ¡ä»¶å‚æ•°ä¸ä¸€æ ·çš„å…ƒç´ ï¼Œå¦‚æœæ­¤æ—¶æ²¡æœ‰é‡å¤çš„ç›´æ¥å°±returnäº†ã€‚å°±ç®—æœ‰é‡å¤çš„ï¼Œåé¢ä¹Ÿå°±æ˜¯é’ˆå¯¹è¿™äº›é‡å¤çš„è¿›è¡Œæ’æŸ¥ï¼Œè®¡ç®—é‡ä¹Ÿæ˜¯æ¯”è¾ƒå°çš„ã€‚ä½†æ˜¯éš¾å°±éš¾åœ¨æ•°æ®çš„å­˜å‚¨æ–¹å¼ï¼Œé€’å½’çš„å®ç°ä»¥åŠæœ€åæ•°æ®çš„é‡ç»„ä¸Šï¼ŒåŒæ—¶ä¹Ÿæ¯”è¾ƒè€—å†…å­˜ï¼Œå› ä¸ºéœ€è¦åˆ›å»ºå¾ˆå¤šæ•°ç»„å’Œå¯¹è±¡ï¼ˆå¦‚æœæœ‰æ¯”è¾ƒå¤šé‡å¤çš„è¯ï¼‰ã€‚ç¬¬äºŒç§ï¼Œæ€è·¯æ¯”è¾ƒç®€å•ï¼Œå®ç°èµ·æ¥æ–¹ä¾¿ã€‚ä½†æ˜¯ç®—æ³•æ•ˆç‡å¹¶ä¸é«˜ï¼Œå› ä¸ºæ˜¯ç›¸å½“äº<code>n + (n-1) + (n-2) + ... + 1 = 1/2*n(n+1)</code>å¤æ‚åº¦ï¼Œè¿™é‡Œå°±ä¸ç®—né‡Œè¾¹è¿˜è¦å¾ªç¯çš„æ¬¡æ•°ï¼Œå› ä¸ºéƒ½è¿™ä¸ªéƒ½ä¸€æ ·ã€‚è€Œç¬¬ä¸€ç§çœ‹æ¦‚ç‡ï¼Œå¦‚æœæ²¡æœ‰é‡å¤çš„å°±ç›´æ¥æ˜¯1æ¬¡ï¼Œé‡å¤å¤šäº†ä¹Ÿæ˜¯æ¯”ç¬¬äºŒç§å¤æ‚åº¦å°ã€‚ç¬¬äºŒç§æ¯”è¾ƒè€—cpuï¼Œå› ä¸ºè®¡ç®—æ¬¡æ•°å¤šã€‚</p><p>ç»è¿‡æµ‹è¯•ç›®å‰æ²¡æœ‰å‘ç°é—®é¢˜ï¼Œæ¬¢è¿å¤§å®¶ä½¿ç”¨åé¦ˆ~</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt; Update &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ­¤é¡¹ç›®å·²ç»æŠ½ç¦»å‡ºæ¥ï¼Œåšæˆä¸¤ä¸ªnpmåŒ…ï¼š&lt;a href=&quot;https://github.com/tywei90/arr-sort&quot;&gt;arr-sort&lt;/a&gt;, &lt;a href=&quot;https://github.com/tywei90/arr-del&quot;&gt;arr-del&lt;/a&gt;ã€‚åŠŸèƒ½å¢å¼ºï¼Œæ”¯æŒnestedå¯¹è±¡å±æ€§å¹¶æ”¯æŒä¼ å…¥æ¯”è¾ƒå‡½æ•°åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä¸€ã€é—®é¢˜èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#ä¸€ã€é—®é¢˜èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€é—®é¢˜èƒŒæ™¯&quot;&gt;&lt;/a&gt;ä¸€ã€é—®é¢˜èƒŒæ™¯&lt;/h2&gt;&lt;p&gt;å‰ç«¯æ—¶é—´åšé¡¹ç›®é‡åˆ°ä¸ªæ•°ç»„å¤šé‡ç­›é€‰æ¡ä»¶æ’åºçš„é—®é¢˜ï¼Œåšçš„æ˜¯ä¸€ä¸ªå±•ç¤ºç”¨æˆ·æ‹¥æœ‰çš„çº¢åŒ…å’ŒåŠ æ¯åˆ¸é¡µé¢ï¼Œä½†æ˜¯æ’åºç±»ä¼¼äºä¸‹é¢è¿™æ ·ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆæŒ‰ç…§æˆªæ­¢æ—¶é—´å€’åºæ’ï¼›&lt;/li&gt;
&lt;li&gt;è‹¥æˆªæ­¢æ—¶é—´ä¸€æ ·ï¼Œåˆ™æŒ‰ç…§è·å¾—æ—¶é—´å€’åºæ’ï¼›&lt;/li&gt;
&lt;li&gt;è‹¥è·å¾—æ—¶é—´ä¸€æ ·æ—¶ï¼Œçº¢åŒ…&amp;gt;åŠ æ¯åˆ¸ï¼›&lt;/li&gt;
&lt;li&gt;å‰©ä½™åˆ™éšæœºã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ¬¢è¿å¤§å®¶starå­¦ä¹ äº¤æµï¼š&lt;a href=&quot;https://github.com/tywei90/selfwork/tree/master/sortArr&quot;&gt;githubåœ°å€&lt;/a&gt;&lt;br&gt;
    
    </summary>
    
    
      <category term="æ•°ç»„" scheme="https://www.wty90.com/tags/%E6%95%B0%E7%BB%84/"/>
    
      <category term="æ’åº" scheme="https://www.wty90.com/tags/%E6%8E%92%E5%BA%8F/"/>
    
  </entry>
  
  <entry>
    <title>ç§»åŠ¨ç«¯bugæ€»ç»“å’Œä¸€äº›å¥‡æ·«æŠ€å·§</title>
    <link href="https://www.wty90.com/2016/11/27/mobile-css-bugs-md/"/>
    <id>https://www.wty90.com/2016/11/27/mobile-css-bugs-md/</id>
    <published>2016-11-27T15:25:15.000Z</published>
    <updated>2018-01-25T08:09:53.000Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™é‡Œæ€»ç»“ä¸‹æˆ‘å¹³æ—¶è‡ªå·±é‡åˆ°å’Œåœ¨ç½‘ä¸Šçœ‹åˆ°çš„ä¸€äº›ç§»åŠ¨ç«¯bugï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰ç”¨ã€‚</p><h2 id="part1"><a href="#part1" class="headerlink" title="part1"></a>part1</h2><p>1ã€ucæµè§ˆå™¨çš„flexboxå…¼å®¹æ€§bugï¼Œåœ¨çˆ¶å…ƒç´ ä¸Šåº”ç”¨flexå±æ€§æ—¶ï¼Œç›´æ¥å­å…ƒç´ è¦<code>display: block</code>ï¼Œå¦åˆ™æ²¡æœ‰æ•ˆæœã€‚<br><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//å…¼å®¹ucçš„ space-around</span></div><div class="line"><span class="selector-tag">div</span>&#123;</div><div class="line">    <span class="attribute">display</span>: flex;</div><div class="line">    <span class="attribute">justify-content</span>: space-around;</div><div class="line">    <span class="attribute">font-size</span>: <span class="number">48</span>/<span class="variable">@brem</span>;</div><div class="line">    <span class="attribute">color</span>: white;</div><div class="line">    <span class="selector-tag">span</span>&#123;</div><div class="line">        <span class="attribute">letter-spacing</span>: <span class="number">5</span>/<span class="variable">@brem</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//å…¼å®¹UCæµè§ˆå™¨</span></div><div class="line">    &gt;*&#123;</div><div class="line">        <span class="attribute">display</span>: block;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><a id="more"></a><p>2ã€androidä¸Šçš„ucæµè§ˆå™¨çˆ¶å…ƒç´ <code>display:flex</code>ï¼Œå­å…ƒç´ margin:autoæ°´å¹³å‚ç›´å±…ä¸­æ²¡æ•ˆæœï¼ŒåŠ ä¸Š<code>justify-content</code>å’Œ<code>align-items: center</code>å³å¯ï¼Œåœ¨ä½ç«¯androidç‰ˆæœ¬ä¸Šéœ€è¦å†åŠ ä¸Š<code>text-align: center</code>æ‰èƒ½æ°´å¹³å±…ä¸­ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>wapç«¯æ°´å¹³å‚ç›´å±…ä¸­<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">div</span> &#123;</div><div class="line">    <span class="attribute">display</span>: flex; </div><div class="line">    <span class="comment">//é˜²æ­¢ç§»åŠ¨ç«¯bug</span></div><div class="line">    <span class="attribute">justify-content</span>: center;</div><div class="line">    <span class="attribute">align-items</span>: center;</div><div class="line">    <span class="attribute">text-align</span>: center;</div><div class="line">&#125;</div><div class="line"><span class="selector-tag">p</span> &#123;<span class="attribute">margin</span>: auto;&#125;</div></pre></td></tr></table></figure><p>3ã€è‹¹æœæœºclickäº‹ä»¶ä»£ç†åˆ°bodyï¼Œdocumentä¸Šä¼šä¸è§¦å‘ </p><p>4ã€pcç«¯å‚ç›´å±…ä¸­<br>çˆ¶å…ƒç´ <code>display: table</code> å¹¶ä¸”æ˜¾ç¤ºå®šä¹‰é«˜<br>å­å…ƒç´  <code>display: table-cell; vertical-align: middle</code></p><p>5ã€emæ˜¯ç›¸å¯¹äºå…ƒç´ è‡ªèº«çš„font-sizeè®¡ç®—çš„ï¼Œå¯ä»¥åœ¨å±€éƒ¨åº”ç”¨</p><p>6ã€iosæ‰‹æœºå’Œandroidä¸Šçš„ucæµè§ˆå™¨ç­‰åœ¨é¡µé¢æ»‘åŠ¨æ—¶ä¼šç¦æ­¢ä¸€åˆ‡jsè„šæœ¬ï¼Œä¿å­˜ä¸ºä¸€ä¸ªçŠ¶æ€Aï¼Œæ»‘åŠ¨ç»“æŸåæ‰ä¼šè§¦å‘scrolläº‹ä»¶ï¼Œä»çŠ¶æ€Aå¼€å§‹ã€‚æ‰€ä»¥ä¸èƒ½ä½¿ç”¨setTimeoutè¿›è¡Œå€’è®¡æ—¶ã€‚å¯ä»¥ä½¿ç”¨new Dateè®¡ç®—æ—¶é—´å·®ã€‚</p><p>7ã€<code>background-size</code>å±æ€§åœ¨IE9ä¸‹ä¸æ”¯æŒï¼ŒèƒŒæ™¯å›¾ç‰‡é»˜è®¤æ˜¯æ˜¾ç¤ºå›¾ç‰‡è‡ªèº«å¤§å°çš„</p><p>8ã€<code>padding-top/padding-left</code>ç™¾åˆ†æ¯”éƒ½æ˜¯ç›¸å¯¹å…ƒç´ æœ¬èº«çš„å®½åº¦</p><p>9ã€å¯¹äºå°å›¾ç‰‡å¯ä»¥ç”¨base64ç¼–ç èŠ‚çœhttpè¯·æ±‚<br><a href="http://www.cnblogs.com/coco1s/p/4375774.html" target="_blank" rel="external">http://www.cnblogs.com/coco1s/p/4375774.html</a></p><h2 id="part2"><a href="#part2" class="headerlink" title="part2"></a>part2</h2><p>1ã€æœ€ç—›æ¨çš„æ˜¯çº¢ç±³æ‰‹æœºï¼Œuaè¿”å›iphoneï¼Œéœ€è¦ç»“åˆplatformåˆ¤æ–­ï¼Œä½†æ˜¯è¿˜ä¸å‡†ç¡®ï¼Œå¯¼è‡´éœ€è¦ioså’ŒandroidåŒºåˆ«å¯¹å¾…çš„æ—¶å€™å°±å‘äº†ã€‚</p><p>2ã€æ˜¯fixedçš„é—®é¢˜ã€‚è¿™ä¸ªè§£å†³åŠæ³•æ˜¯å°½é‡ä¸è¦ç”¨ï¼Œä¸è¿‡ios7åŠä»¥ä¸‹æ‰ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ã€‚æŸäº›æƒ…å†µä¸‹çº¢ç±³ä¹Ÿä¼šæœ‰è¿™ä¸ªé—®é¢˜ã€‚ï¼ˆæœ€è¿‘åˆšåˆšé‡åˆ°ï¼Œå·²ç»è¢«å‘æŒ‚äº†ï¼‰ã€‚</p><p>3ã€å¦‚æœä½ æƒ³è¦ä½¿ç”¨css3çš„åŠ¨ç”»ï¼Œé‚£ä¹ˆä¸€å®šè¦å˜ç€æ–¹å¼ä½¿ç”¨3d gpuåŠ é€Ÿçš„æ–¹å¼ï¼Œä¸è¦è¯•ç€leftï¼Œheightï¼Œwidthè¿™æ ·çš„å…ƒç´ è¿›è¡Œå˜æ¢äº†ï¼Œandroid4.4ä»¥ä¸‹ç‰ˆæœ¬å¡æ­»ä½ ã€‚</p><p>4ã€ioså…¨çº¿ç‚¹å‡»ä¼šæœ‰300æ¯«ç§’å»¶è¿Ÿï¼Œä½¿ç”¨fastclickè§£å†³ã€‚è¿™ä¸ªæ’ä»¶æœ€è‰¯å¿ƒäº†ã€‚</p><p>5ã€web appåƒç´ çœ¼è®¾è®¡ä¼šçº ç»“ä½ 1pxè¾¹æ¡†é—®é¢˜ã€‚è§£å†³åŠæ³•æœ‰ç›¸åº”çŸ¥ä¹å¤§ç‰›ç­”è¿‡ã€‚</p><p>6ã€qqæµè§ˆï¼Œucæµè§ˆä»¥åŠiosçš„æµè§ˆå™¨ï¼Œæ»šåŠ¨æ—¶ä¸ä¼šè§¦å‘scrolläº‹ä»¶ï¼Œä½†ä¼šè§¦å‘touchmoveã€‚å½“åœæ­¢æ»šåŠ¨åä¼šå‡ºå‘scrollã€‚</p><p>7ã€æ»šåŠ¨æœ‰iscrollæ’ä»¶ï¼Œä½†æ˜¯è¿˜æ˜¯ä½¿ç”¨åŸç”Ÿçš„æ¯”è¾ƒå¥½ã€‚</p><p>8ã€metaåŠŸèƒ½è¦ç”¨å¥½ï¼Œç¦æ­¢ç¼©æ”¾ï¼Œç¼©æ”¾æ¯”ä¾‹ï¼Œå±è”½ç”µè¯å·ç ç­‰åŠŸèƒ½å¾ˆå®ç”¨ã€‚ï¼ˆæ‰‹æœºå›ç­”å°±ä¸åˆ—ä¸¾äº†ï¼‰ã€‚</p><p>9ã€å¦‚æœæƒ³è¦åƒæ‰‹æœºæ·˜å®é‚£æ ·çš„å„ä¸ªå¹³å°çœ‹èµ·æ¥å±•ç¤ºæ•ˆæœä¸€è‡´ï¼Œé‚£ä¹ˆå°±ä½¿ç”¨remæ¥åšå•ä½ã€‚</p><p>10ã€-webkit-tap-highlight-colorå¯ä»¥å–æ¶ˆç‚¹å‡»é«˜äº®ã€‚</p><p>11ã€localStorageåœ¨æµè§ˆå™¨å¼€å¯æ— ç—•æ¨¡å¼ä¸‹iosä¼šæŠ›å¼‚å¸¸ï¼Œå¯¼è‡´jsä¸­æ–­ã€‚</p><p>12ã€ä¸€äº›æƒ…å†µä¸‹å¯¹éå¯ç‚¹å‡»å…ƒç´ ç›‘å¬clickäº‹ä»¶ï¼Œiosä¸‹ä¸ä¼šè§¦å‘ï¼Œcsså¢åŠ cursor:pointerå°±æå®šäº†ã€‚å½“ç„¶æƒ³è¦å¹²è„†é™æ­¢ç‚¹å‡»å°±æ˜¯not-allowedã€‚</p><p>13ã€android4.4ä»¥ä¸‹ç‰ˆæœ¬ï¼Œè®¾ç½®åœ†è§’å±æ€§éœ€è¦åœ¨ç›´æ¥å…ƒç´ ä¸Šï¼Œå‘çˆ¶å…ƒç´ è®¾ç½®åœ†è§’å¹¶ä¸”æŒ‡å®šoverflow:hiddenæ˜¯ä¸ä¼šç”Ÿæ•ˆçš„ã€‚</p><h2 id="part3"><a href="#part3" class="headerlink" title="part3"></a>part3</h2><p>1ã€å›¾ç‰‡å¤§å°æœ€å¥½æ˜¯æ ‡æ³¨çš„2å€ï¼Œè¿™æ ·å¯ä»¥ä¿è¯åœ¨å„ç±»æœºå‹ä¸Šçš„æ¸…æ™°</p><p>2ã€å°å›¾ç‰‡æœ€å¥½æ‹¼åˆèµ·æ¥åšæˆé›ªç¢§å›¾ï¼Œç„¶åå¯ä»¥åœ¨TinyPNG â€“ Compress PNG images while preserving transparencyç½‘ç«™ä¸Šå‹ç¼©åå†Base64åµŒå…¥htmlæˆ–cssä¸­ã€‚ç§»åŠ¨ç«¯è¦å°½å¯èƒ½å‡å°‘è¯·æ±‚ã€‚ä¸è¿‡å¤ªå¤§çš„å›¾ç‰‡å°±ä¸è¦base64äº†ï¼Œæ€§èƒ½ä¼šä¸‹é™ã€‚ä¸€èˆ¬ä»¥10kä¸ºç•Œ</p><p>3ã€remæ–¹æ¡ˆç›¸å½“å¤æ‚ï¼Œå­˜åœ¨éå¸¸å¤šçš„å…¼å®¹é—®é¢˜ï¼Œä»¥è‡³äºé˜¿é‡Œè¿™è¾¹è¿˜ä¸“é—¨æœ‰ä¸€ä¸ªFlexibleåº“æ¥è§£å†³è¿™ä¸€ç³»åˆ—é—®é¢˜ã€‚ä½†æ˜¯å…¼å®¹æ€§é—®é¢˜è§£å†³åå¼€å‘ä¼šå˜å¾—éå¸¸ç•…å¿«ã€‚</p><p>4ã€å›¾ç‰‡æ¯”è¾ƒå¤šçš„é¡µé¢åŠ¡å¿…è¦åšæ‡’åŠ è½½ï¼ˆä¹Ÿå°±æ˜¯æ»šåŠ¨åˆ°å›¾ç‰‡çš„æ—¶å€™æ‰åŠ è½½ï¼‰</p><p>5ã€border-radiusä¸è¦éšä¾¿ä¹±ç”¨ï¼Œåœ¨å¾ˆå¤šå®‰å“æœºå‹ä¸Šéƒ½ä¼šå‡ºç°é”¯é½¿ï¼Œéå¸¸ä¸‘</p><p>6ã€cssåŠ¨ç”»è¯·ä½¿ç”¨transformï¼Œè€Œéç›´æ¥æ§åˆ¶width,height,marginï¼Œå¦åˆ™ä¼šé€ æˆå¤§é‡çš„è®¡ç®—ï¼Œæ€§èƒ½å ªå¿§ã€‚transfromä¼šæŠŠå…ƒç´ ç‹¬ç«‹å‡ºæ¥å•ç‹¬è®¡ç®—çš„ã€‚</p><p>7ã€å¦‚æœåŠ¨ç”»æ¯”è¾ƒå¤šæˆ–è€…é¢ç§¯æ¯”è¾ƒå¤§ï¼Œæƒ³æé«˜æ€§èƒ½çš„è¯å¯ä»¥ç”¨transform3Dï¼Œå°±ç®—ä¸è®¾ç½®3då˜æ¢ä¹Ÿä¼šä¿ƒä½¿æµè§ˆå™¨å¼€å¯ç¡¬ä»¶åŠ é€Ÿ</p><p>8ã€flexå¸ƒå±€æŒºå¥½ï¼Œä½†æœ‰ç‚¹å…¼å®¹æ€§é—®é¢˜ï¼Œéœ€è¦åŒæ—¶å†™å¥½å‡ ä¸ªå¸¦å‰ç¼€çš„ç§æœ‰å±æ€§æ‰èƒ½ä¿è¯å¤§å¤šæ•°æœºå‹çš„é€‚é…ã€‚æ¨èä½¿ç”¨autoprefixerï¼Œä¸è¿‡è¦è®°å¾—è‡ªå·±å®šåˆ¶å…¼å®¹æµè§ˆå™¨åˆ—è¡¨ï¼Œä¸ç„¶ä¼šæœ‰å¾ˆå¤š-ms-,-o-è¿™ç±»çš„å±æ€§ï¼Œåœ¨ç§»åŠ¨ç«¯æ˜¯æ²¡æœ‰ç”¨çš„ </p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™é‡Œæ€»ç»“ä¸‹æˆ‘å¹³æ—¶è‡ªå·±é‡åˆ°å’Œåœ¨ç½‘ä¸Šçœ‹åˆ°çš„ä¸€äº›ç§»åŠ¨ç«¯bugï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰ç”¨ã€‚&lt;/p&gt;
&lt;h2 id=&quot;part1&quot;&gt;&lt;a href=&quot;#part1&quot; class=&quot;headerlink&quot; title=&quot;part1&quot;&gt;&lt;/a&gt;part1&lt;/h2&gt;&lt;p&gt;1ã€ucæµè§ˆå™¨çš„flexboxå…¼å®¹æ€§bugï¼Œåœ¨çˆ¶å…ƒç´ ä¸Šåº”ç”¨flexå±æ€§æ—¶ï¼Œç›´æ¥å­å…ƒç´ è¦&lt;code&gt;display: block&lt;/code&gt;ï¼Œå¦åˆ™æ²¡æœ‰æ•ˆæœã€‚&lt;br&gt;&lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//å…¼å®¹ucçš„ space-around&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;div&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;display&lt;/span&gt;: flex;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;justify-content&lt;/span&gt;: space-around;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;font-size&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;48&lt;/span&gt;/&lt;span class=&quot;variable&quot;&gt;@brem&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;color&lt;/span&gt;: white;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;selector-tag&quot;&gt;span&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;letter-spacing&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;/&lt;span class=&quot;variable&quot;&gt;@brem&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//å…¼å®¹UCæµè§ˆå™¨&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;gt;*&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;attribute&quot;&gt;display&lt;/span&gt;: block;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="css" scheme="https://www.wty90.com/tags/css/"/>
    
      <category term="ç§»åŠ¨ç«¯" scheme="https://www.wty90.com/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"/>
    
      <category term="å…¼å®¹æ€§" scheme="https://www.wty90.com/tags/%E5%85%BC%E5%AE%B9%E6%80%A7/"/>
    
  </entry>
  
  <entry>
    <title>åšå®¢æ­å»ºç³»åˆ—ä¸‰ï¼šå¦‚ä½•ä½¿åšå®¢æ”¯æŒç™¾åº¦æœç´¢</title>
    <link href="https://www.wty90.com/2016/11/20/support-for-baidu-search/"/>
    <id>https://www.wty90.com/2016/11/20/support-for-baidu-search/</id>
    <published>2016-11-20T15:41:46.000Z</published>
    <updated>2018-01-25T08:11:29.000Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘ä»¬å†™è‡ªå·±çš„åšå®¢ï¼Œå½“ç„¶æ˜¯æƒ³è¢«æ›´å¤šçš„äººçœ‹åˆ°ï¼Œåˆ†äº«ä¸‹è‡ªå·±çš„ç ”ç©¶æˆæœã€‚è¿™é‡Œï¼Œå„ç§æœç´¢å¼•æ“èµ·ç€é‡è¦çš„ä½œç”¨ã€‚æŸ¥ç½‘ç«™çš„seoï¼Œå¤§å®¶å¯ä»¥å»<a href="http://seo.chinaz.com/" target="_blank" rel="external">ç«™é•¿ä¹‹å®¶</a>, è¾“å…¥æŸ¥è¯¢çš„ç½‘å€å³å¯ã€‚æœç´¢å¼•æ“æ˜¯é çˆ¬è™«å»çˆ¬ç½‘ç«™çš„ä¸Šçš„å†…å®¹ï¼Œæˆ‘ä»¬çš„åšå®¢æ˜¯ä¸€ä¸ªé™æ€åšå®¢ï¼Œå†…å®¹æ‰˜ç®¡åœ¨githubä¸Šã€‚æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -A <span class="string">"Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)"</span> https://github.com</div></pre></td></tr></table></figure></p><p>æˆ‘ä»¬ä¼šçœ‹åˆ°ç»“æœå¦‚ä¸‹å›¾ï¼š</p><p><img src="/assets/img/curl_baidu.png" alt="ç™¾åº¦çˆ¬è™«çˆ¬github" title="ç™¾åº¦çˆ¬è™«çˆ¬github"><br><a id="more"></a><br>githubæŠŠç™¾åº¦çˆ¬è™«å±è”½äº†ï¼ŒåŸå› å°±æ˜¯ç™¾åº¦çˆ¬è™«çˆ¬å¾—å¤ªå‰å®³ï¼Œå·²ç»å¯¹å¾ˆå¤šGithubç”¨æˆ·é€ æˆäº†å¯ç”¨æ€§çš„é—®é¢˜äº†ã€‚å½“ç„¶ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥å°è¯•ä¸‹ç™¾åº¦çˆ¬è™«èƒ½ä¸èƒ½çˆ¬åˆ°è‡ªå·±çš„ç½‘ç«™å†…å®¹ï¼Œæˆ‘æƒ³ç»“æœæ˜¯ä¸€æ ·çš„ã€‚æˆ‘ä»¬å¯ä»¥å†è¯•è¯•è°·æ­Œçˆ¬è™«ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -A <span class="string">"Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)"</span> https://github.com</div></pre></td></tr></table></figure></p><p>å‘ç°ç¡®å®å¯ä»¥çˆ¬åˆ°ç½‘é¡µçš„å†…å®¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœç”¨è°·æ­Œæœç´¢ä¸€äº›æˆ‘ä»¬åšå®¢ä¸Šçš„å…³é”®å­—æ˜¯èƒ½æœç´¢åˆ°æˆ‘ä»¬æ–‡ç« çš„ï¼Œä½†æ˜¯ç™¾åº¦æ˜¯æœä¸åˆ°çš„ã€‚å›½å†…æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œè°·æ­Œè¢«å¢™äº†ï¼Œæ‰€ä»¥ç”¨ç™¾åº¦æœç´¢è¿˜æ˜¯æœ‰å¾ˆå¤§æ¯”ä¾‹çš„ã€‚é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•æ‰èƒ½ä½¿ç™¾åº¦æœç´¢åˆ°å‘¢ï¼Ÿæ¨èå¤§å®¶ä¸€ç¯‡æŠ€æœ¯åˆ†æçš„æ–‡ç« <a href="http://jerryzou.com/posts/feasibility-of-allowing-baiduSpider-for-Github-Pages/" target="_blank" rel="external">è§£å†³ Github Pages ç¦æ­¢ç™¾åº¦çˆ¬è™«çš„æ–¹æ³•ä¸å¯è¡Œæ€§åˆ†æ</a>ã€‚</p><p>æœ€å¥½çš„è§£å†³åŠæ³•è¿˜æ˜¯è¦å°†æˆ‘ä»¬åšå®¢çš„å†…å®¹æ‰˜ç®¡åœ¨ç™¾åº¦çˆ¬è™«å¯ä»¥çˆ¬çš„åˆ°çš„åœ°æ–¹ã€‚æœ€å¥½ä¸éœ€è¦æˆ‘ä»¬è‡ªå·±è´­ä¹°ä¸»æœºä»€ä¹ˆçš„ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªç±»ä¼¼äºgithubçš„ä»£ç æ‰˜ç®¡å¹³å°ã€‚å…¶å®ï¼Œå›½å†…è¿˜çœŸæœ‰ï¼š<a href="https://coding.net/" target="_blank" rel="external">coding.net</a>ï¼Œå°†gitcafeæ”¶è´­äº†ï¼Œæ˜¯å›½å†…æœ€å¤§çš„ä»£ç æ‰˜ç®¡å¹³å°ï¼Œç•Œé¢ä¹Ÿå¾ˆæ¸…çˆ½ç®€æ´ã€‚æ“ä½œçš„æ­¥éª¤å…¶å®å’Œgithubç±»ä¼¼ã€‚æˆ‘ä»¬è¿™é‡Œå°±ä¸è¯¦è¿°äº†ï¼Œå¤§å®¶å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š<a href="http://bblove.me/2016/03/06/migrate-pages-from-gitcafe-to-coding/" target="_blank" rel="external">è§£å†³ Github Pages ç¦æ­¢ç™¾åº¦çˆ¬è™«çš„æ–¹æ³•2â€“ä»gitcafeè¿ç§»åˆ°coding.net</a>ã€‚</p><p>ä¸è¿‡æ³¨æ„ä¸‹ï¼Œmacçš„ssh keyè·å–æˆ‘ä»¬åœ¨ç³»åˆ—æ–‡ç« ä¸€ä¸­è¯´è¿‡ï¼›è¿˜æœ‰dnsçš„è®¾ç½®å¤§å®¶å‚è€ƒæˆ‘ç³»åˆ—æ–‡ç« äºŒä¸­çš„è®¾ç½®ã€‚è¿™é‡Œåæ§½ä¸€ä¸‹ï¼Œgithubåšäº†cnameå¤„ç†ç»‘å®šåŸŸååï¼Œè®¿é—®åŸæ¥æä¾›çš„github.ioåŸŸåï¼Œä¼šæç¤º301æ°¸ä¹…é‡å®šå‘åˆ°æˆ‘ç°åœ¨çš„åŸŸåã€‚ä½†æ˜¯coding.meçš„åŸŸåè¿˜æ˜¯å¯ä»¥æ­£å¸¸è®¿é—®çš„ã€‚è¿™ä¸ªå°±æœ‰ç‚¹ä¸çˆ½äº†ã€‚ä¸€æ ·çš„å†…å®¹ï¼Œå¤šä¸ªåŸŸåï¼Œä¼šé€ æˆç½‘ç«™çš„åˆ†æµï¼Œseoæƒé‡ä¸‹é™ã€‚ä½†æ˜¯æœåŠ¡å™¨æ˜¯äººå®¶çš„ï¼Œæˆ‘ä»¬ä¹Ÿä¸èƒ½ä¸èƒ½åšä»€ä¹ˆã€‚ä¸è¿‡ï¼Œæˆ‘å·²ç»åœ¨codingçš„è®ºå›ä¸Šæäº†è¿™ä¸ªé—®é¢˜ï¼Œäººå®¶æŠ€æœ¯äººå‘˜è¯´æ­£åœ¨å¼€å‘ï¼Œè¯´æ˜¯ä¸‹å‘¨å°±èƒ½å‡ºæ¥ã€‚</p><p>è¿™æ ·è®¾ç½®å¥½ä»¥åï¼Œå¤§å®¶å¯ä»¥ç”¨ä¸Šé¢çš„å‘½ä»¤çœ‹èƒ½ä¸èƒ½çˆ¬åˆ°ã€‚è€Œä¸”ï¼Œæ¯æ¬¡ç”¨hexoéƒ¨ç½²åï¼Œæˆ‘ä»¬çš„åšå®¢ä»£ç ä¼šåŒæ—¶éƒ¨ç½²åˆ°githubå’Œcodingä¸Šï¼Œéå¸¸æ–¹ä¾¿ã€‚è¿™é‡Œå»ºè®®å¤§å®¶å°†è‡ªå·±çš„åšå®¢ç›®å½•åˆ›å»ºä¸€ä¸ªgithubä»“åº“ï¼Œå¤‡ä»½ä¸€ä¸‹é‡Œè¾¹çš„sourceæ–‡ä»¶å¤¹å’Œ_config.ymlç­‰é…ç½®æ–‡ä»¶ã€‚è¿™æ ·ä¸€æ¥æˆ‘ä»¬å°±ä¸å¿…éå¾—ç”¨è‡ªå·±çš„ç”µè„‘æ‰èƒ½å†™åšå®¢ï¼›äºŒæ¥å¯ä»¥åšåšå®¢å†…å®¹å¤‡ä»½ã€‚</p><p>è‡³æ­¤ï¼Œåšå®¢æ­å»ºç³»åˆ—å®Œæ¯•ï¼</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æˆ‘ä»¬å†™è‡ªå·±çš„åšå®¢ï¼Œå½“ç„¶æ˜¯æƒ³è¢«æ›´å¤šçš„äººçœ‹åˆ°ï¼Œåˆ†äº«ä¸‹è‡ªå·±çš„ç ”ç©¶æˆæœã€‚è¿™é‡Œï¼Œå„ç§æœç´¢å¼•æ“èµ·ç€é‡è¦çš„ä½œç”¨ã€‚æŸ¥ç½‘ç«™çš„seoï¼Œå¤§å®¶å¯ä»¥å»&lt;a href=&quot;http://seo.chinaz.com/&quot;&gt;ç«™é•¿ä¹‹å®¶&lt;/a&gt;, è¾“å…¥æŸ¥è¯¢çš„ç½‘å€å³å¯ã€‚æœç´¢å¼•æ“æ˜¯é çˆ¬è™«å»çˆ¬ç½‘ç«™çš„ä¸Šçš„å†…å®¹ï¼Œæˆ‘ä»¬çš„åšå®¢æ˜¯ä¸€ä¸ªé™æ€åšå®¢ï¼Œå†…å®¹æ‰˜ç®¡åœ¨githubä¸Šã€‚æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š&lt;br&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;curl -A &lt;span class=&quot;string&quot;&gt;&quot;Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)&quot;&lt;/span&gt; https://github.com&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä¼šçœ‹åˆ°ç»“æœå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/assets/img/curl_baidu.png&quot; alt=&quot;ç™¾åº¦çˆ¬è™«çˆ¬github&quot; title=&quot;ç™¾åº¦çˆ¬è™«çˆ¬github&quot;&gt;&lt;br&gt;
    
    </summary>
    
    
      <category term="åšå®¢" scheme="https://www.wty90.com/tags/%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="seo" scheme="https://www.wty90.com/tags/seo/"/>
    
  </entry>
  
  <entry>
    <title>åšå®¢æ­å»ºç³»åˆ—äºŒï¼šä¸ªäººåšå®¢ç»‘å®šè‡ªå·±åŸŸå</title>
    <link href="https://www.wty90.com/2016/11/15/blog-bind-domain/"/>
    <id>https://www.wty90.com/2016/11/15/blog-bind-domain/</id>
    <published>2016-11-15T14:47:46.000Z</published>
    <updated>2018-01-16T04:46:09.000Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸Šä¸€ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬è¯¦ç»†è¯´æ˜äº†å¦‚ä½•ç”¨hexoæ­å»ºä¸ªäººåšå®¢ï¼Œå¹¶ä¸”æœ‰äº†è‡ªå·±çš„åšå®¢åœ°å€ã€‚ä½†æ˜¯ï¼Œæœ‰çš„åŒå­¦å¯èƒ½è§‰å¾—è¿˜ä¸å¤Ÿç‰›é€¼ã€‚okï¼Œé‚£ä¸‹é¢æˆ‘åˆ†äº«ä¸‹è‡ªå·±çš„åšå®¢æ˜¯å¦‚ä½•ç»‘å®šè‡ªå·±ç”³è¯·çš„åŸŸåã€‚</p><h2 id="1ã€ç”³è¯·åŸŸå"><a href="#1ã€ç”³è¯·åŸŸå" class="headerlink" title="1ã€ç”³è¯·åŸŸå"></a>1ã€ç”³è¯·åŸŸå</h2><p>åšå®¢ç»‘å®šåŸŸåï¼Œé¦–å…ˆï¼Œä½ å¾—æœ‰ä¸ªåŸŸåã€‚å…³äºç”³è¯·åŸŸåçš„ç½‘å€æœ‰å¾ˆå¤šï¼Œå›½å†…æœ‰ä¸‡ç½‘ï¼ˆè¢«é˜¿é‡Œäº‘æ”¶è´­äº†ï¼‰ï¼Œæ–°ç½‘ç­‰ã€‚ä¸è¿‡æˆ‘ä¸æ¨èåœ¨å›½å†…è´­ä¹°åŸŸåï¼Œéœ€è¦å¤‡æ¡ˆç­‰ä¸€ç³»åˆ—æ‰‹ç»­éå¸¸éº»çƒ¦ã€‚</p><p>å›½å¤–çš„åŸŸåæ³¨å†Œå•†å¾ˆå¤šï¼Œç”¨çš„æ¯”è¾ƒå¤šçš„æœ‰GoDaddyã€namecheapã€name.comç­‰ï¼Œè‡³äºé€‰å“ªä¸ªï¼Œæ¨èå¤§å®¶ä¸€ç¯‡çŸ¥ä¹ä¸Šçš„æ–‡ç«  <a href="https://www.zhihu.com/question/19551906" target="_blank" rel="external">https://www.zhihu.com/question/19551906</a> æ²¡é”™ï¼Œæˆ‘æ˜¯åœ¨namecheapä¸Šæ³¨å†Œçš„ï¼Œç°åœ¨è²Œä¼¼æ²¡æœ‰ä¼˜æƒ ç äº†ï¼Œä¸è¿‡ä»–ä»¬å®¶å…è´¹é€Whois éšç§ä¿æŠ¤ï¼ˆWhoisæŸ¥è¯¢ä¸åˆ°æ³¨å†Œäººï¼‰ï¼ŒSSLè¯ä¹¦ä¸å†å…è´¹ï¼Œä¸è¿‡å’ŒåŸŸåä¸€èµ·è´­ä¹°åªéœ€å†èŠ±2$ï¼Œæ€»å…±ä¸€å¹´ä¹Ÿå°±70å‡ å—é’±ã€‚<br><a id="more"></a><br>è¿™é‡Œæ¨èå¤§å®¶ç”³è¯·åç¼€ä¸º.comçš„åŸŸåã€‚å½“ç„¶äº†ï¼Œå¦‚æœä½ å–œæ¬¢æœ‰ä¸ªæ€§çš„åŸŸåï¼Œæˆ–è€…å¸Œæœ›ç½‘å€èƒ½çŸ­ä¸€ç‚¹ï¼Œé€‰å…¶ä»–çš„åº”è¯¥æ›´å®¹æ˜“å‘½ä¸­ã€‚è¿˜æœ‰ç‚¹è¦æ³¨æ„ï¼Œnamecheapä¸æ”¯æŒæ”¯ä»˜å®ï¼Œé“¶è”ï¼Œå¤§å®¶å¯ä»¥é€‰æ‹©å¸¦æœ‰masteræˆ–è€…visaæ ‡å¿—çš„é“¶è¡Œå¡æ”¯ä»˜ã€‚è¿™é‡Œå†ç»™å¤§å®¶æ¨èä¸ªæ¯”ä»·ç½‘ç«™ <a href="https://www.domcomp.com/" target="_blank" rel="external">https://www.domcomp.com/</a> æœ‰ä¸ªç½‘ç«™ç¬¬ä¸€å¹´å¾ˆä¾¿å®œï¼Œåé¢ç»­çº¦è¶Šæ¥è¶Šè´µã€‚æˆ‘æƒ³ä¸€èˆ¬æˆ‘ä»¬çš„åŸŸåç”³è¯·äº†åº”è¯¥ä¼šç”¨æŒºä¹…çš„å§ã€‚</p><h2 id="2ã€æ³¨å†ŒDNSPodï¼Œæ·»åŠ åŸŸåå’Œè®°å½•"><a href="#2ã€æ³¨å†ŒDNSPodï¼Œæ·»åŠ åŸŸåå’Œè®°å½•" class="headerlink" title="2ã€æ³¨å†ŒDNSPodï¼Œæ·»åŠ åŸŸåå’Œè®°å½•"></a>2ã€æ³¨å†Œ<a href="https://www.dnspod.cn" target="_blank" rel="external">DNSPod</a>ï¼Œæ·»åŠ åŸŸåå’Œè®°å½•</h2><p>DNSåŸŸåè§£æä¸€èˆ¬éƒ½æ˜¯ç”¨çš„DNSPodï¼Œå¤§å®¶æ³¨å†Œä»¥åå»åŸŸåè§£æä¸€æ æ·»åŠ è‡ªå·±åˆšç”³è¯·çš„åŸŸåã€‚ç„¶åè®¾ç½®å¦‚ä¸‹å›¾æ‰€ç¤º:</p><p><img src="/assets/img/dnspod.png" alt="DNSåŸŸåè§£æè®¾ç½®" title="DNSåŸŸåè§£æè®¾ç½®"></p><p>å¤§å®¶åªéœ€è¦æ·»åŠ çº¢æ¡†éƒ¨åˆ†å†…å®¹å³å¯ï¼Œå…¶ä»–è®¾ç½®ä¸‹ä¸€ç¯‡æ–‡ç« ä¼šè¯´ã€‚è¿™é‡Œæˆ‘ä»¬æ·»åŠ äº†ä¸»æœºè®°å½•åˆ†åˆ«ä¸ºwwwå’Œ@ä¸¤ç§ç±»å‹ï¼Œåˆ†åˆ«å¯¹åº”ç€æ‚¨çš„ç½‘å€å¸¦wwwå’Œä¸å¸¦wwwçš„æ˜ å°„ã€‚é˜²æ­¢æœ‰çš„æµè§ˆå™¨é»˜è®¤æ·»åŠ wwwå¯¼è‡´ç½‘é¡µæ‰“ä¸å¼€ã€‚</p><p>ä¸€å®šè¦æ³¨æ„æˆ‘ä»¬çš„CNAMEè®°å½•æŒ‡å‘å€¼ï¼Œæˆ‘çœ‹ç½‘ä¸Šå¾ˆå¤šéƒ½æ˜¯è®¾ç½®çš„ä¸€ä¸ªipå€¼ï¼Œå…¶å®è¿™æ ·ä¸å¥½ã€‚å› ä¸ºç¬¬ä¸€ï¼Œipåœ°å€å¯èƒ½ä¼šå˜ã€‚ç¬¬äºŒï¼Œå†™æ­»ipåœ°å€ï¼Œä¸‡ä¸€è¿™ä¸ªä¸»æœºæŒ‚äº†ï¼Œæˆ–è€…æŸåœ°åŒºçš„è¿™ä¸ªipç½‘ç»œä¿¡å·ä¸å¥½ï¼Œæˆ‘ä»¬çš„ç½‘é¡µå°±ä¸æ‰“ä¸å¼€ã€‚å¤§å®¶å¯ä»¥åœ¨å‘½ä»¤è¡Œdigä¸€ä¸‹ï¼Œä¸Šä¸€ç¯‡æ–‡ç« è¯´è¿‡è¿™ä¸ªå‘½ä»¤ã€‚</p><p>è¿˜æœ‰ä¸ªéå¸¸é‡è¦æ²¡è¯´ï¼Œå°±æ˜¯å»ä½ åŸŸåæ³¨å†Œçš„ç½‘ç«™å»ç»‘å®šDNSPodçš„dnsæœåŠ¡å™¨è®¾ç½®ã€‚å¦‚æœæ˜¯namecheapç½‘ç«™ï¼Œæ›¿æ¢æ‰ç½‘å€ <a href="https://ap.www.namecheap.com/domains/domaincontrolpanel/your_domain_name/domain" target="_blank" rel="external">https://ap.www.namecheap.com/domains/domaincontrolpanel/your_domain_name/domain</a> ä¸­çš„your_domain_nameï¼Œæ·»åŠ ä¸¤æ¡NAMESERVERSè®°å½•ï¼Œè®¾ç½®å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="/assets/img/dns.png" alt="ç»‘å®šDNSPodæœåŠ¡å™¨è®¾ç½®" title="ç»‘å®šDNSPodæœåŠ¡å™¨è®¾ç½®"></p><p>è¿™æ ·ï¼Œä½ çš„ç½‘ç«™æ‰èƒ½è¢«DNSPodåšdnsè§£æã€‚ä¸€èˆ¬éœ€è¦ä¸€å®šæ—¶é—´æ‰èƒ½ç”Ÿæ•ˆï¼Œæˆ‘å½“æ—¶æ˜¯åŠä¸ªå°æ—¶å·¦å³å§ã€‚</p><h2 id="3ã€æ·»åŠ CNAMEæ–‡ä»¶"><a href="#3ã€æ·»åŠ CNAMEæ–‡ä»¶" class="headerlink" title="3ã€æ·»åŠ CNAMEæ–‡ä»¶"></a>3ã€æ·»åŠ CNAMEæ–‡ä»¶</h2><p>åœ¨ä½ çš„åšå®¢sourceæ–‡ä»¶å¤¹é‡Œåˆ›å»ºCNAMEæ–‡ä»¶ï¼Œä¸å¸¦ä»»ä½•åç¼€ï¼Œé‡Œé¢æ·»åŠ ä½ çš„åŸŸåä¿¡æ¯ï¼Œå¦‚ï¼šweitianyao.comï¼ˆæ³¨æ„å‰é¢ä¸æ·»åŠ <code>http://</code>ï¼‰ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="/assets/img/CNAME.png" alt="æ·»åŠ CNAMEæ–‡ä»¶" title="æ·»åŠ CNAMEæ–‡ä»¶"></p><p>ç„¶åå°±<code>hexo d</code>è¯•è¯•å§ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸Šä¸€ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬è¯¦ç»†è¯´æ˜äº†å¦‚ä½•ç”¨hexoæ­å»ºä¸ªäººåšå®¢ï¼Œå¹¶ä¸”æœ‰äº†è‡ªå·±çš„åšå®¢åœ°å€ã€‚ä½†æ˜¯ï¼Œæœ‰çš„åŒå­¦å¯èƒ½è§‰å¾—è¿˜ä¸å¤Ÿç‰›é€¼ã€‚okï¼Œé‚£ä¸‹é¢æˆ‘åˆ†äº«ä¸‹è‡ªå·±çš„åšå®¢æ˜¯å¦‚ä½•ç»‘å®šè‡ªå·±ç”³è¯·çš„åŸŸåã€‚&lt;/p&gt;
&lt;h2 id=&quot;1ã€ç”³è¯·åŸŸå&quot;&gt;&lt;a href=&quot;#1ã€ç”³è¯·åŸŸå&quot; class=&quot;headerlink&quot; title=&quot;1ã€ç”³è¯·åŸŸå&quot;&gt;&lt;/a&gt;1ã€ç”³è¯·åŸŸå&lt;/h2&gt;&lt;p&gt;åšå®¢ç»‘å®šåŸŸåï¼Œé¦–å…ˆï¼Œä½ å¾—æœ‰ä¸ªåŸŸåã€‚å…³äºç”³è¯·åŸŸåçš„ç½‘å€æœ‰å¾ˆå¤šï¼Œå›½å†…æœ‰ä¸‡ç½‘ï¼ˆè¢«é˜¿é‡Œäº‘æ”¶è´­äº†ï¼‰ï¼Œæ–°ç½‘ç­‰ã€‚ä¸è¿‡æˆ‘ä¸æ¨èåœ¨å›½å†…è´­ä¹°åŸŸåï¼Œéœ€è¦å¤‡æ¡ˆç­‰ä¸€ç³»åˆ—æ‰‹ç»­éå¸¸éº»çƒ¦ã€‚&lt;/p&gt;
&lt;p&gt;å›½å¤–çš„åŸŸåæ³¨å†Œå•†å¾ˆå¤šï¼Œç”¨çš„æ¯”è¾ƒå¤šçš„æœ‰GoDaddyã€namecheapã€name.comç­‰ï¼Œè‡³äºé€‰å“ªä¸ªï¼Œæ¨èå¤§å®¶ä¸€ç¯‡çŸ¥ä¹ä¸Šçš„æ–‡ç«  &lt;a href=&quot;https://www.zhihu.com/question/19551906&quot;&gt;https://www.zhihu.com/question/19551906&lt;/a&gt; æ²¡é”™ï¼Œæˆ‘æ˜¯åœ¨namecheapä¸Šæ³¨å†Œçš„ï¼Œç°åœ¨è²Œä¼¼æ²¡æœ‰ä¼˜æƒ ç äº†ï¼Œä¸è¿‡ä»–ä»¬å®¶å…è´¹é€Whois éšç§ä¿æŠ¤ï¼ˆWhoisæŸ¥è¯¢ä¸åˆ°æ³¨å†Œäººï¼‰ï¼ŒSSLè¯ä¹¦ä¸å†å…è´¹ï¼Œä¸è¿‡å’ŒåŸŸåä¸€èµ·è´­ä¹°åªéœ€å†èŠ±2$ï¼Œæ€»å…±ä¸€å¹´ä¹Ÿå°±70å‡ å—é’±ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="åšå®¢" scheme="https://www.wty90.com/tags/%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="åŸŸå" scheme="https://www.wty90.com/tags/%E5%9F%9F%E5%90%8D/"/>
    
  </entry>
  
  <entry>
    <title>åšå®¢æ­å»ºç³»åˆ—ä¸€ï¼šç”¨hexoæ­å»ºä¸ªäººåšå®¢</title>
    <link href="https://www.wty90.com/2016/11/12/build-blog-with-hexo/"/>
    <id>https://www.wty90.com/2016/11/12/build-blog-with-hexo/</id>
    <published>2016-11-12T10:04:23.000Z</published>
    <updated>2018-01-16T04:46:16.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ¥ä¸å‡†å¤‡å†™çš„ï¼Œå› ä¸ºç½‘ä¸Šä¸€æœä¸€å¤§å †è®²å¦‚ä½•ç”¨hexoæ­å»ºåšå®¢çš„æ–‡ç« ï¼Œä½†æ˜¯ï¼Œä¸€æ¥è¿™ä¸ªmarkdownè¯­æ³•ä»¥å‰æ²¡å†™è¿‡ï¼Œæƒ³ç”¨æ¥ç»ƒç»ƒæ‰‹ã€‚äºŒæ¥ï¼Œç½‘ä¸Šæ–‡ç« æœ‰çš„å†™çš„æ¯”è¾ƒæ—©ï¼Œä¸€äº›é…ç½®å’Œapiå¯èƒ½å·²ç»å˜äº†ã€‚å¥½çš„ï¼Œå•°å—¦ç©äº†ï¼Œä¸‹é¢å¼€å§‹æ­£æ–‡ã€‚</p><p>é¦–å…ˆå£°æ˜ï¼Œæœ¬æ•™ç¨‹æ˜¯é’ˆå¯¹macçš„ï¼Œä¸ä¿è¯windowsæ‰§è¡Œæ²¡æœ‰é—®é¢˜</p><h2 id="1ã€é…ç½®ç¯å¢ƒ"><a href="#1ã€é…ç½®ç¯å¢ƒ" class="headerlink" title="1ã€é…ç½®ç¯å¢ƒ"></a>1ã€é…ç½®ç¯å¢ƒ</h2><blockquote><p>å®‰è£…node</p></blockquote><p>nodejsæ˜¯æœåŠ¡å™¨è¯­è¨€ï¼Œå€ŸåŠ©googleçš„chromeæµè§ˆå™¨V8å¼•æ“ï¼Œå¯ä»¥è®©å‰ç«¯jsè„šæœ¬è¿è¡Œåœ¨æœåŠ¡å™¨ç«¯ï¼Œå‰åç«¯è¯­è¨€ç»Ÿä¸€ï¼Œä¸è¦å¤ªç¾~åœ¨è¿™é‡Œï¼Œä»–ä¸»è¦æ˜¯ç”¨æ¥ç”Ÿæˆé™æ€é¡µé¢çš„ã€‚<a href="https://nodejs.org/en/" target="_blank" rel="external">Node.jså®˜ç½‘</a>ä¸‹è½½ç›¸åº”å¹³å°çš„æœ€æ–°ç‰ˆæœ¬ï¼Œä¸€è·¯å®‰è£…å³å¯ã€‚<br><a id="more"></a></p><blockquote><p>å®‰è£…git</p></blockquote><p>æŠŠæœ¬åœ°çš„hexoå†…å®¹æäº¤åˆ°githubä¸Šå»ï¼Œå®‰è£…Xcodeå°±è‡ªå¸¦æœ‰Gitã€‚å¯ä»¥ç”¨å‘½ä»¤è¡Œï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥source treeå¯è§†åŒ–å·¥å…·æ¥ç®¡ç†ã€‚</p><blockquote><p>ç”³è¯·githubè´¦å·</p></blockquote><p>hexoåšå®¢æ˜¯ä¸€ä¸ªé™æ€åšå®¢ï¼Œå†…å®¹æ˜¯æ‰˜ç®¡åœ¨githubä¸Šçš„ã€‚å»å®˜ç½‘æ³¨å†Œç”³è¯·ï¼Œç„¶åé…ç½®ä¸‹SSH Keysï¼Œè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡æäº¤éƒ½è¾“å…¥ç”¨æˆ·åå’Œå¯†ç äº†ã€‚<a href="http://blog.csdn.net/yhqbsand/article/details/22763411" target="_blank" rel="external">mac ssh key è·å–</a></p><h2 id="2ã€hexoæ­å»ºåšå®¢"><a href="#2ã€hexoæ­å»ºåšå®¢" class="headerlink" title="2ã€hexoæ­å»ºåšå®¢"></a>2ã€hexoæ­å»ºåšå®¢</h2><blockquote><p>å…¨å±€å®‰è£…hexo</p></blockquote><p>ç¡®ä¿ä¸Šè¿°ç¯å¢ƒå®‰è£…å¥½ä¹‹åï¼Œå…¨å±€å®‰è£…hexo:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo npm install -g hexo</div></pre></td></tr></table></figure></p><blockquote><p>åˆå§‹åŒ–</p></blockquote><p>åˆ›å»ºé¡¹ç›®æ–‡ä»¶å¤¹ï¼Œå¦‚myBlog<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">mkdir myBlog</div><div class="line">cd myBlog</div><div class="line">hexo init</div></pre></td></tr></table></figure></p><p>è¿™æ ·ï¼Œhexoå°±å®‰è£…å®Œæ¯•äº†</p><blockquote><p>ç”Ÿæˆé™æ€é¡µé¢</p></blockquote><p>åœ¨myBlogæ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰§è¡Œ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo g (æˆ–hexo generate)</div></pre></td></tr></table></figure></p><p>è¿™æ ·ï¼Œhexoå°±ä¼šç¼–è¯‘ç”Ÿæˆé™æ€é¡µé¢ï¼Œåœ¨publicç›®å½•ä¸‹</p><blockquote><p>å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo s (æˆ–hexo server)</div></pre></td></tr></table></figure><p>åœ¨bashå‘½ä»¤è¡Œï¼ŒæŒ‰ä¸‹commandé”®å•å‡» <a href="http://localhost:4000/" target="_blank" rel="external">http://localhost:4000/</a> ï¼Œå³å¯ç”¨æµè§ˆå™¨æ‰“å¼€æ­¤é¡µé¢ã€‚å¯ä»¥åšæœ¬åœ°é¢„è§ˆ<br>æ­å–œï¼ä½ å·²ç»çœ‹åˆ°è‡ªå·±çš„åšå®¢äº†ã€‚ä½†æ˜¯åŸŸåå’ŒæœåŠ¡å™¨éƒ½æ˜¯è‡ªå·±ç”µè„‘ï¼Œæˆ‘ä»¬éœ€è¦å…³è”githubï¼Œç»§ç»­å¾€ä¸‹çœ‹</p><h2 id="3ã€éƒ¨ç½²github"><a href="#3ã€éƒ¨ç½²github" class="headerlink" title="3ã€éƒ¨ç½²github"></a>3ã€éƒ¨ç½²github</h2><blockquote><p>æ–°å»ºä»“åº“</p></blockquote><p>åœ¨githubä¸Šåˆ›å»ºæ–°çš„ä»“åº“ï¼Œä»“åº“åå¿…é¡»ä¸º[your_user_name.github.io]ï¼Œå°†è‡ªå·±çš„githubç”¨æˆ·åæ›¿æ¢æ‰your_user_nameã€‚</p><blockquote><p>ç¼–è¾‘æ–‡ä»¶_config.ymlï¼Œå»ºç«‹å…³è”</p></blockquote><p>åœ¨myBlogæ ¹ç›®å½•æ‰¾åˆ°_config.ymlæ–‡ä»¶ï¼Œæ‰“å¼€å®ƒï¼Œå¦‚æœä½ æœ‰sublimeç¼–è¾‘å™¨ï¼Œå¹¶å®‰è£…å…¨å±€å‘½ä»¤ã€‚å¯ç›´æ¥<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">subl -w _config.yml</div></pre></td></tr></table></figure></p><p>åœ¨æœ€ä¸‹é¢ï¼Œæ”¹æˆè¿™æ ·ã€‚æ›¿æ¢æ‰your_user_nameã€‚ä¸€å®šè¦æ³¨æ„: è¿™é‡Œçš„æ‰€æœ‰é…ç½®:åé¢éƒ½è¦åŠ ç©ºæ ¼<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">deploy: </div><div class="line">  type: git</div><div class="line">  repository: https://github.com/your_user_name/your_user_name.github.io.git</div><div class="line">  branch: master</div></pre></td></tr></table></figure></p><blockquote><p>npmå®‰è£…ä¾èµ–ï¼Œæ‰èƒ½ä½¿ç”¨gitéƒ¨ç½²</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install hexo-deployer-git --save</div></pre></td></tr></table></figure><blockquote><p>å°†åšå®¢éƒ¨ç½²åˆ°github</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo d (æˆ–hexo deploy)</div></pre></td></tr></table></figure><p>æ‰“å¼€ç½‘å€ <a href="http://tywei90.github.io/" target="_blank" rel="external">http://tywei90.github.io/</a> tywei90æ˜¯æˆ‘çš„githubç”¨æˆ·åï¼Œæ¢æˆä½ è‡ªå·±çš„å°±è¡Œã€‚çœ‹åˆ°æ²¡ï¼Ÿä½ çš„åšå®¢å·²ç»ä¸Šçº¿äº†~</p><p>ç­‰ç­‰ã€‚ã€‚å¥½åƒå“ªé‡Œä¸å¯¹ã€‚å¦‚æœè¿™æ ·ï¼Œå²‚ä¸æ˜¯æ¯ä¸ªgithubç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„åŸŸåï¼Œgithubé‚£æ¥çš„è¿™ä¹ˆå¤šåŸŸåï¼Ÿå…¶å®ä½ åªè¦åœ¨ä½ çš„bashå‘½ä»¤è¡Œæ‰§è¡Œå‘½ä»¤å¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">dig tywei90.github.io</div></pre></td></tr></table></figure></p><p>æˆ‘ä»¬ä¼šçœ‹åˆ°ï¼š<br><img src="/assets/img/dig.jpg" alt="digç»“æœ" title="digç»“æœ"></p><p>digå‘½ä»¤æ˜¯æŸ¥ç½‘å€çš„dnsè§£æçš„ï¼Œæˆ‘ä»¬å‘ç°åšå®¢åœ°å€è¢«CNAMEåˆ°github.map.fastly.net.ä¸Šï¼Œä»–çš„æœåŠ¡å™¨ipæ˜¯151.101.100.133ã€‚ä»€ä¹ˆæ„æ€å‘¢ï¼Œæˆ‘ä»¬å…ˆæ¥è§£é‡Šä¸‹CNAMEã€‚</p><p>CNAMEæŒ‡åˆ«åè®°å½•ä¹Ÿè¢«ç§°ä¸ºè§„èŒƒåå­—ã€‚è¿™ç§è®°å½•å…è®¸æ‚¨å°†å¤šä¸ªåŸŸåéœ€è¦æŒ‡å‘åŒä¸€æœåŠ¡å™¨IPï¼Œæ­¤æ—¶æ‚¨å°±å¯ä»¥å°†ä¸€ä¸ªåŸŸååšAè®°å½•æŒ‡å‘æœåŠ¡å™¨IPï¼Œç„¶åå°†å…¶ä»–çš„åŸŸååšåˆ«å(å³CNAME)åˆ°Aè®°å½•çš„åŸŸåä¸Šï¼›é‚£ä¹ˆå½“æ‚¨çš„æœåŠ¡å™¨IPåœ°å€å˜æ›´æ—¶ï¼Œæ‚¨å°±å¯ä»¥ä¸å¿…å¯¹ä¸€ä¸ªä¸€ä¸ªåŸŸååšæ›´æ”¹æŒ‡å‘äº†ï¼Œåªéœ€è¦æ›´æ”¹Aè®°å½•çš„é‚£ä¸ªåŸŸååˆ°æœåŠ¡å™¨æ–°IPä¸Šï¼Œå…¶ä»–åšåˆ«åï¼ˆå³CNAMEï¼‰çš„é‚£äº›åŸŸåçš„æŒ‡å‘å°†è‡ªåŠ¨æ›´æ”¹åˆ°æ–°çš„IPåœ°å€ä¸Šã€‚</p><p>æ€»ç»“ä¸‹ï¼šä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬çš„åšå®¢åœ°å€éƒ½ä¼šè¢«æ˜ å°„åˆ°ipä¸º151.101.100.133çš„ä¸»æœºä¸Šï¼Œç„¶ågithubä¼šæ ¹æ®æˆ‘ä»¬çš„ç”¨æˆ·åæŸ¥æ‰¾ç›¸åº”çš„é™æ€æ–‡ä»¶ï¼Œç„¶åè¿”å›ã€‚</p><h2 id="4ã€ç›¸å…³çŸ¥è¯†"><a href="#4ã€ç›¸å…³çŸ¥è¯†" class="headerlink" title="4ã€ç›¸å…³çŸ¥è¯†"></a>4ã€ç›¸å…³çŸ¥è¯†</h2><blockquote><p>hexoéƒ¨ç½²ä¸‰æ­¥èµ°</p></blockquote><p>æ¯æ¬¡éƒ¨ç½²åšå®¢éƒ½è¦æ‰§è¡Œä¸‹é¢ä¸‰æ­¥<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">hexo clean</div><div class="line">hexo g</div><div class="line">hexo d</div></pre></td></tr></table></figure></p><blockquote><p>hexoå¸¸ç”¨å‘½ä»¤</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">hexo new &quot;postName&quot; #æ–°å»ºæ–‡ç« </div><div class="line">hexo new page &quot;pageName&quot; #æ–°å»ºé¡µé¢</div><div class="line">hexo generate #ç”Ÿæˆé™æ€é¡µé¢è‡³publicç›®å½•</div><div class="line">hexo server #å¼€å¯é¢„è§ˆè®¿é—®ç«¯å£ï¼ˆé»˜è®¤ç«¯å£4000ï¼Œ&apos;ctrl + c&apos;å…³é—­serverï¼‰</div><div class="line">hexo deploy #å°†.deployç›®å½•éƒ¨ç½²åˆ°GitHub</div><div class="line">hexo help  #æŸ¥çœ‹å¸®åŠ©</div><div class="line">hexo version  #æŸ¥çœ‹Hexoçš„ç‰ˆæœ¬</div></pre></td></tr></table></figure><blockquote><p>hexoä¸»é¢˜</p></blockquote><p>hexoæœ‰å¾ˆå¤šæ¼‚äº®çš„ä¸»é¢˜å¯é€‰ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘æ²¡æœ‰é€‰æ‹©jekyllçš„åŸå› ã€‚</p><ul><li><a href="https://github.com/litten/hexo-theme-yilia" target="_blank" rel="external">Yilia</a> - Responsive and simple style å¼ºçƒˆæ¨èï¼Œæˆ‘ç”¨å¾—å°±æ˜¯è¿™ä¸ªã€‚(ps: ä½œè€…äººä¹Ÿå¾ˆnice~)</li><li><a href="http://theme-next.iissnan.com/" target="_blank" rel="external">NexT</a> -Elegant Theme for Hexo éƒ½æœ‰è‡ªå·±çš„å®˜ç½‘äº†ï¼Œç”¨çš„äººå¾ˆå¤š</li><li><a href="https://github.com/daisygao/hexo-themes-cover" target="_blank" rel="external">Cover</a> - A chic theme with facebook-like cover photo </li></ul><p>è‡³äºä¸»é¢˜å¦‚ä½•é…ç½®ï¼Œæˆ‘å°±ä¸ç»†è¯´äº†ï¼Œä¸åŒä¸»é¢˜ä¸ä¸€æ ·ï¼Œå¤§å®¶å¯ä»¥å»å‚é˜…ç›¸å…³æ–‡æ¡£ã€‚</p><blockquote><p>åšå®¢å†™ä½œæŠ€å·§</p></blockquote><p>1ã€å¦‚ä½•è®©æ–‡ç« æƒ³åªæ˜¾ç¤ºä¸€éƒ¨åˆ†å’Œä¸€ä¸ª é˜…è¯»å…¨æ–‡ çš„æŒ‰é’®ï¼Ÿ<br>ç­”ï¼šåœ¨æ–‡ç« ä¸­åŠ ä¸€ä¸ª <code>&lt;!--more--&gt; ï¼Œ &lt;!--more--&gt;</code> åé¢çš„å†…å®¹å°±ä¸ä¼šæ˜¾ç¤ºå‡ºæ¥äº†ã€‚</p><p>2ã€å¦‚ä½•ç»™æ–‡ç« æ·»åŠ æ ‡ç­¾ï¼Ÿ<br>ç­”ï¼šåœ¨æ–‡ç« çš„å¼€å¤´æœ‰ä¸ªtagsé…ç½®é¡¹ï¼Œé…ç½®æ ¼å¼å¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">tags:</div><div class="line">    - hexo</div><div class="line">    - åšå®¢</div></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ¬æ¥ä¸å‡†å¤‡å†™çš„ï¼Œå› ä¸ºç½‘ä¸Šä¸€æœä¸€å¤§å †è®²å¦‚ä½•ç”¨hexoæ­å»ºåšå®¢çš„æ–‡ç« ï¼Œä½†æ˜¯ï¼Œä¸€æ¥è¿™ä¸ªmarkdownè¯­æ³•ä»¥å‰æ²¡å†™è¿‡ï¼Œæƒ³ç”¨æ¥ç»ƒç»ƒæ‰‹ã€‚äºŒæ¥ï¼Œç½‘ä¸Šæ–‡ç« æœ‰çš„å†™çš„æ¯”è¾ƒæ—©ï¼Œä¸€äº›é…ç½®å’Œapiå¯èƒ½å·²ç»å˜äº†ã€‚å¥½çš„ï¼Œå•°å—¦ç©äº†ï¼Œä¸‹é¢å¼€å§‹æ­£æ–‡ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆå£°æ˜ï¼Œæœ¬æ•™ç¨‹æ˜¯é’ˆå¯¹macçš„ï¼Œä¸ä¿è¯windowsæ‰§è¡Œæ²¡æœ‰é—®é¢˜&lt;/p&gt;
&lt;h2 id=&quot;1ã€é…ç½®ç¯å¢ƒ&quot;&gt;&lt;a href=&quot;#1ã€é…ç½®ç¯å¢ƒ&quot; class=&quot;headerlink&quot; title=&quot;1ã€é…ç½®ç¯å¢ƒ&quot;&gt;&lt;/a&gt;1ã€é…ç½®ç¯å¢ƒ&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;å®‰è£…node&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;nodejsæ˜¯æœåŠ¡å™¨è¯­è¨€ï¼Œå€ŸåŠ©googleçš„chromeæµè§ˆå™¨V8å¼•æ“ï¼Œå¯ä»¥è®©å‰ç«¯jsè„šæœ¬è¿è¡Œåœ¨æœåŠ¡å™¨ç«¯ï¼Œå‰åç«¯è¯­è¨€ç»Ÿä¸€ï¼Œä¸è¦å¤ªç¾~åœ¨è¿™é‡Œï¼Œä»–ä¸»è¦æ˜¯ç”¨æ¥ç”Ÿæˆé™æ€é¡µé¢çš„ã€‚&lt;a href=&quot;https://nodejs.org/en/&quot;&gt;Node.jså®˜ç½‘&lt;/a&gt;ä¸‹è½½ç›¸åº”å¹³å°çš„æœ€æ–°ç‰ˆæœ¬ï¼Œä¸€è·¯å®‰è£…å³å¯ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="åšå®¢" scheme="https://www.wty90.com/tags/%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="hexo" scheme="https://www.wty90.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>ç¬¬ä¸€ç¯‡åšå®¢</title>
    <link href="https://www.wty90.com/2016/11/06/first-article/"/>
    <id>https://www.wty90.com/2016/11/06/first-article/</id>
    <published>2016-11-06T11:41:20.000Z</published>
    <updated>2018-01-25T08:49:56.000Z</updated>
    
    <content type="html"><![CDATA[<p>å¤§å®¶å¥½ï¼Œè¿™æ˜¯æˆ‘çš„åšå®¢ï¼Œç”¨hexoæ­å»ºçš„ï¼Œæ‰˜ç®¡åœ¨<a href="https://github.com/tywei90/tywei90.github.io" target="_blank" rel="external">github</a>å’Œ <del><a href="https://coding.net/u/tywei/p/tywei/git" target="_blank" rel="external">coding</a>ä¸Š</del>ã€‚codingå¼€å§‹æ”¶è´¹äº†ï¼Œä¸ç„¶ä¼šæœ‰5sçš„å¹¿å‘Šä¸­é—´é¡µï¼Œå¾ˆä¸çˆ½ã€‚äºæ˜¯ï¼Œæœæ–­ä¹°äº†é˜¿é‡Œäº‘çš„ECSï¼Œæ­å»ºè‡ªå·±çš„ç½‘ç«™ã€‚<br><a id="more"></a><br>ç½‘ä¸Šæœ‰å¾ˆå¤šå¯ä»¥å†™ä¸ªäººåšå®¢çš„ç½‘ç«™ï¼Œæ¯”å¦‚CSDNã€åšå®¢å›­ã€ç®€ä¹¦ç­‰ã€‚æˆ‘ä¹‹å‰ä¹Ÿåœ¨CSDNå¼€é€šäº†è‡ªå·±çš„åšå®¢ï¼Œä½†æ˜¯æ„Ÿè§‰é¡µé¢æ ·å¼ä¸å¤ªå–œæ¬¢ï¼Œç®€ä¹¦è¿˜ç®—å¯ä»¥çš„ã€‚ä¸è¿‡ï¼Œç»ˆç©¶æ˜¯åˆ«äººçš„ç½‘ç«™ï¼Œè¿˜æ˜¯æƒ³æä¸€ä¸ªå±äºè‡ªå·±çš„åšå®¢ã€‚æœ€å¥½æœ‰æ˜¯å¯ä»¥æœ‰è‡ªå·±çš„åŸŸåï¼Œè¿™æ ·æ›´ä¸“(zhuang)ä¸š(bi)ã€‚è€Œä¸”è¦æ”¯æŒç™¾åº¦æœç´¢ã€‚è¿™å°±å‡ºç°äº†æˆ‘åé¢çš„ä¸€ç³»åˆ—å…³äºåšå®¢æ­å»ºçš„æ–‡ç« ã€‚</p><p>è¿™é‡Œä¼šè®°å½•æˆ‘å¹³æ—¶é‡åˆ°çš„ä¸€äº›æŠ€æœ¯é—®é¢˜çš„æ€è€ƒå’Œæ€»ç»“ï¼Œä¸å¤§å®¶å…±å‹‰</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¤§å®¶å¥½ï¼Œè¿™æ˜¯æˆ‘çš„åšå®¢ï¼Œç”¨hexoæ­å»ºçš„ï¼Œæ‰˜ç®¡åœ¨&lt;a href=&quot;https://github.com/tywei90/tywei90.github.io&quot;&gt;github&lt;/a&gt;å’Œ &lt;del&gt;&lt;a href=&quot;https://coding.net/u/tywei/p/tywei/git&quot;&gt;coding&lt;/a&gt;ä¸Š&lt;/del&gt;ã€‚codingå¼€å§‹æ”¶è´¹äº†ï¼Œä¸ç„¶ä¼šæœ‰5sçš„å¹¿å‘Šä¸­é—´é¡µï¼Œå¾ˆä¸çˆ½ã€‚äºæ˜¯ï¼Œæœæ–­ä¹°äº†é˜¿é‡Œäº‘çš„ECSï¼Œæ­å»ºè‡ªå·±çš„ç½‘ç«™ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="hexo" scheme="https://www.wty90.com/tags/hexo/"/>
    
      <category term="éšç¬”" scheme="https://www.wty90.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
</feed>
